import{a as y}from"./chunk-WZGBOTFL.js";import{a as l}from"./chunk-FUHT4GF3.js";import{d as j,f as z}from"./chunk-QYZA2DXR.js";import{Ac as H,Bc as $,Cb as r,Db as _,Dd as q,Eb as M,Gb as g,Kd as G,Nb as I,Ob as x,Pa as o,Ta as P,Za as B,_d as O,a as C,b as E,bb as A,d as F,de as S,ib as c,jc as U,lc as N,le as k,mb as a,mc as W,nb as i,tb as L,ub as h,ve as T,ye as v}from"./chunk-7TGFAU7G.js";function te(n,t){n&1&&(a(0,"span"),r(1,"\u2716"),i())}function ne(n,t){if(n&1&&(a(0,"span"),r(1),i()),n&2){let e=h();o(),_(e.healthInsuranceResult?"\u3007":"\u2716")}}function ae(n,t){n&1&&(a(0,"span"),r(1,"\u2716"),i())}function ie(n,t){if(n&1&&(a(0,"span"),r(1),i()),n&2){let e=h();o(),_(e.careInsuranceResult?"\u3007":"\u2716")}}function re(n,t){n&1&&(a(0,"span"),r(1,"\u2716"),i())}function se(n,t){if(n&1&&(a(0,"span"),r(1),i()),n&2){let e=h();o(),_(e.pensionInsuranceResult?"\u3007":"\u2716")}}function oe(n,t){n&1&&(a(0,"div",15),r(1,"\u8A08\u7B97\u4E2D\u30FB\u30FB\u30FB"),i())}function le(n,t){n&1&&(a(0,"div",16),r(1," \u793E\u4F1A\u4FDD\u967A\u52A0\u5165\u5BFE\u8C61\u5916\u3067\u3059 "),i())}function ue(n,t){if(n&1&&(a(0,"div",18)(1,"span",19),r(2,"\u5065\u5EB7\u4FDD\u967A\uFF08\u5168\u984D\uFF09"),i(),a(3,"span",20),r(4),I(5,"number"),i()()),n&2){let e=h(2);o(4),g("",e.latestStandard!=null&&e.latestStandard.kenpoStandardMonthly?x(5,3,e.latestStandard.kenpoStandardMonthly,"1.0-0"):"---","\u5186\xD7",e.healthInsuranceRate100,"\uFF05\uFF1D",e.healthInsuranceAmount,"\u5186")}}function ce(n,t){if(n&1&&(a(0,"div",18)(1,"span",19),r(2,"\u5065\u5EB7\u4FDD\u967A\uFF08\u4F1A\u793E\u8CA0\u62C5\uFF09"),i(),a(3,"span",20),r(4),I(5,"number"),i()()),n&2){let e=h(2);o(4),g("",e.latestStandard!=null&&e.latestStandard.kenpoStandardMonthly?x(5,3,e.latestStandard.kenpoStandardMonthly,"1.0-0"):"---","\u5186\xD7",e.healthInsuranceRate100,"\uFF05\xF72\uFF1D",e.healthInsuranceAmountCompany,"\u5186")}}function de(n,t){if(n&1&&(a(0,"div",18)(1,"span",19),r(2,"\u5065\u5EB7\u4FDD\u967A\uFF08\u5F93\u696D\u54E1\u8CA0\u62C5\uFF09"),i(),a(3,"span",20),r(4),I(5,"number"),i()()),n&2){let e=h(2);o(4),g("",e.latestStandard!=null&&e.latestStandard.kenpoStandardMonthly?x(5,3,e.latestStandard.kenpoStandardMonthly,"1.0-0"):"---","\u5186\xD7",e.healthInsuranceRate100,"\uFF05\xF72\uFF1D",e.healthInsuranceAmountEmployee,"\u5186")}}function me(n,t){if(n&1&&(a(0,"div",18)(1,"span",19),r(2,"\u4ECB\u8B77\u4FDD\u967A\uFF08\u5168\u984D\uFF09"),i(),a(3,"span",20),r(4),I(5,"number"),i()()),n&2){let e=h(2);o(4),g("",e.latestStandard!=null&&e.latestStandard.kenpoStandardMonthly?x(5,3,e.latestStandard.kenpoStandardMonthly,"1.0-0"):"---","\u5186\xD7",e.careInsuranceRate100,"\uFF05\uFF1D",e.careInsuranceAmount,"\u5186")}}function pe(n,t){if(n&1&&(a(0,"div",18)(1,"span",19),r(2,"\u4ECB\u8B77\u4FDD\u967A\uFF08\u4F1A\u793E\u8CA0\u62C5\uFF09"),i(),a(3,"span",20),r(4),I(5,"number"),i()()),n&2){let e=h(2);o(4),g("",e.latestStandard!=null&&e.latestStandard.kenpoStandardMonthly?x(5,3,e.latestStandard.kenpoStandardMonthly,"1.0-0"):"---","\u5186\xD7",e.careInsuranceRate100,"\uFF05\xF72\uFF1D",e.careInsuranceAmountCompany,"\u5186")}}function he(n,t){if(n&1&&(a(0,"div",18)(1,"span",19),r(2,"\u4ECB\u8B77\u4FDD\u967A\uFF08\u5F93\u696D\u54E1\u8CA0\u62C5\uFF09"),i(),a(3,"span",20),r(4),I(5,"number"),i()()),n&2){let e=h(2);o(4),g("",e.latestStandard!=null&&e.latestStandard.kenpoStandardMonthly?x(5,3,e.latestStandard.kenpoStandardMonthly,"1.0-0"):"---","\u5186\xD7",e.careInsuranceRate100,"\uFF05\xF72\uFF1D",e.careInsuranceAmountEmployee,"\u5186")}}function fe(n,t){if(n&1&&(a(0,"div",18)(1,"span",19),r(2,"\u539A\u751F\u5E74\u91D1\uFF08\u5168\u984D\uFF09"),i(),a(3,"span",20),r(4),I(5,"number"),i()()),n&2){let e=h(2);o(4),g("",e.latestStandard!=null&&e.latestStandard.nenkinStandardMonthly?x(5,3,e.latestStandard.nenkinStandardMonthly,"1.0-0"):"---","\u5186\xD7",e.pensionInsuranceRate100,"\uFF05\uFF1D",e.pensionInsuranceAmount,"\u5186")}}function ge(n,t){if(n&1&&(a(0,"div",18)(1,"span",19),r(2,"\u539A\u751F\u5E74\u91D1\uFF08\u4F1A\u793E\u8CA0\u62C5\uFF09"),i(),a(3,"span",20),r(4),I(5,"number"),i()()),n&2){let e=h(2);o(4),g("",e.latestStandard!=null&&e.latestStandard.nenkinStandardMonthly?x(5,3,e.latestStandard.nenkinStandardMonthly,"1.0-0"):"---","\u5186\xD7",e.pensionInsuranceRate100,"\uFF05\xF72\uFF1D",e.pensionInsuranceAmountCompany,"\u5186")}}function Ie(n,t){if(n&1&&(a(0,"div",18)(1,"span",19),r(2,"\u539A\u751F\u5E74\u91D1\uFF08\u5F93\u696D\u54E1\u8CA0\u62C5\uFF09"),i(),a(3,"span",20),r(4),I(5,"number"),i()()),n&2){let e=h(2);o(4),g("",e.latestStandard!=null&&e.latestStandard.nenkinStandardMonthly?x(5,3,e.latestStandard.nenkinStandardMonthly,"1.0-0"):"---","\u5186\xD7",e.pensionInsuranceRate100,"\uFF05\xF72\uFF1D",e.pensionInsuranceAmountEmployee,"\u5186")}}function xe(n,t){if(n&1&&(a(0,"div",18)(1,"span",19),r(2,"\u5168\u984D\u5408\u8A08"),i(),a(3,"span",20),r(4),i()()),n&2){let e=h(2);o(4),M("",e.totalInsuranceAmount,"\u5186")}}function ye(n,t){if(n&1&&(a(0,"div",18)(1,"span",19),r(2,"\u4F1A\u793E\u8CA0\u62C5\u5408\u8A08"),i(),a(3,"span",20),r(4),i()()),n&2){let e=h(2);o(4),M("",e.totalInsuranceAmountCompany,"\u5186")}}function Ce(n,t){if(n&1&&(a(0,"div",18)(1,"span",19),r(2,"\u5F93\u696D\u54E1\u8CA0\u62C5\u5408\u8A08"),i(),a(3,"span",20),r(4),i()()),n&2){let e=h(2);o(4),M("",e.totalInsuranceAmountEmployee,"\u5186")}}function _e(n,t){if(n&1&&(a(0,"div"),A(1,ue,6,6,"div",17)(2,ce,6,6,"div",17)(3,de,6,6,"div",17)(4,me,6,6,"div",17)(5,pe,6,6,"div",17)(6,he,6,6,"div",17)(7,fe,6,6,"div",17)(8,ge,6,6,"div",17)(9,Ie,6,6,"div",17)(10,xe,5,1,"div",17)(11,ye,5,1,"div",17)(12,Ce,5,1,"div",17),i()),n&2){let e=h();o(),c("ngIf",e.healthInsuranceResult),o(),c("ngIf",e.healthInsuranceResult),o(),c("ngIf",e.healthInsuranceResult),o(),c("ngIf",e.careInsuranceResult),o(),c("ngIf",e.careInsuranceResult),o(),c("ngIf",e.careInsuranceResult),o(),c("ngIf",e.pensionInsuranceResult),o(),c("ngIf",e.pensionInsuranceResult),o(),c("ngIf",e.pensionInsuranceResult),o(),c("ngIf",e.healthInsuranceResult||e.careInsuranceResult||e.pensionInsuranceResult),o(),c("ngIf",e.healthInsuranceResult||e.careInsuranceResult||e.pensionInsuranceResult),o(),c("ngIf",e.healthInsuranceResult||e.careInsuranceResult||e.pensionInsuranceResult)}}var V=class n{constructor(t,e,s){this.route=t;this.firestore=e;this.router=s}employeesId="";companyId="";employeeData=null;companyData=null;officeData=null;insuranceRateData=null;currentNendo=(()=>{let t=new Date,e=t.getFullYear();return t.getMonth()+1>=4?e:e-1})();standardsList=[];isLoading=!0;eligibilityResult=null;isSocialInsuranceExcluded=!1;healthInsuranceResult=!1;careInsuranceResult=!1;pensionInsuranceResult=!1;hasUnsavedCalc=!1;hasSavedExcludedInsurance=!1;triedSaveExcluded=!1;ngOnInit(){return F(this,null,function*(){let t=H();$(t,m=>{m||this.router.navigate(["/login"])}),this.isLoading=!0,this.employeesId=this.route.snapshot.paramMap.get("id")||"";let e=S(this.firestore,"companies"),s=yield v(e);for(let m of s.docs){let D=S(this.firestore,"companies",m.id,"employees"),d=yield v(D);for(let u of d.docs)if(u.id===this.employeesId){this.companyId=m.id,this.employeeData=u.data();let f=k(this.firestore,"companies",this.companyId),R=yield T(f);if(this.companyData=R.exists()?R.data():null,this.employeeData.officesId){let p=k(this.firestore,"companies",this.companyId,"offices",this.employeeData.officesId),b=yield T(p);if(this.officeData=b.exists()?b.data():null,this.officeData&&this.officeData.officePrefecture){let Z=S(this.firestore,"insurance_rates"),ee=yield v(Z);this.insuranceRateData=ee.docs.map(w=>w.data()).find(w=>w.prefecture===this.officeData.officePrefecture&&String(w.year)===String(this.currentNendo))||null}}let J=S(this.firestore,`companies/${this.companyId}/employees/${this.employeesId}/standards`),Y=yield v(J);if(this.standardsList=Y.docs.map(p=>C({id:p.id},p.data())).filter(p=>!!p.createdAt).map(p=>E(C({},p),{_millis:p.createdAt?.toDate?p.createdAt.toDate().getTime():p.createdAt?new Date(p.createdAt).getTime():0})).sort((p,b)=>b._millis-p._millis),!y.judgeSocialInsuranceRequired({employee:this.employeeData,office:this.officeData,company:this.companyData})){this.isSocialInsuranceExcluded=!0,this.isLoading=!1;return}let K=y.judgeHealthInsurance(this.employeeData);console.log("[\u5065\u5EB7\u4FDD\u967A\u5224\u5B9A]",K);let Q=y.judgeCareInsurance(this.employeeData);console.log("[\u4ECB\u8B77\u4FDD\u967A\u5224\u5B9A]",Q);let X=y.judgePensionInsurance(this.employeeData);if(console.log("[\u539A\u751F\u5E74\u91D1\u5224\u5B9A]",X),this.employeeData.dispatchedAbroad!=="\u8A72\u5F53\u3057\u306A\u3044"){let p=y.judgeInternationalSocialInsurance(this.employeeData);if(console.log("[\u6D77\u5916\u6D3E\u9063\u5224\u5B9A]",p),!p){this.isSocialInsuranceExcluded=!0,this.isLoading=!1;return}}else console.log("[\u6D77\u5916\u6D3E\u9063\u5224\u5B9A] \u5224\u5B9A\u3057\u306A\u3044");this.healthInsuranceResult=y.judgeHealthInsurance(this.employeeData),this.careInsuranceResult=y.judgeCareInsurance(this.employeeData),this.pensionInsuranceResult=y.judgePensionInsurance(this.employeeData),this.eligibilityResult=y.judgeEligibility(this.employeeData),this.isLoading=!1,yield this.checkUnsavedCalc(),this.hasUnsavedCalc&&(yield this.onSaveCalc(!0));return}}console.log("currentNendo:",this.currentNendo),this.isLoading=!1,yield this.checkUnsavedCalc()})}ngAfterViewChecked(){this.isSocialInsuranceExcluded&&!this.hasSavedExcludedInsurance&&!this.triedSaveExcluded&&(this.triedSaveExcluded=!0,this.saveExcludedInsurance())}saveExcludedInsurance(){return F(this,null,function*(){let t=k(this.firestore,`companies/${this.companyId}/employees/${this.employeesId}`),e=S(t,"insurances"),s=this.standardsList&&this.standardsList.length>0?this.standardsList[0]:null,m=s?s.id:null,d=(yield v(e)).docs.map(u=>C({id:u.id},u.data()));if(m&&d.some(u=>u.standardId===m)){console.log("[DEBUG] \u793E\u4F1A\u4FDD\u967A\u5BFE\u8C61\u5916: \u540C\u3058standardId\u304C\u65E2\u306B\u5B58\u5728\u3059\u308B\u305F\u3081\u4FDD\u5B58\u3057\u307E\u305B\u3093",m),this.hasSavedExcludedInsurance=!0;return}console.log("[DEBUG] \u793E\u4F1A\u4FDD\u967A\u5BFE\u8C61\u5916: insurances\u4FDD\u5B58\u958B\u59CB",{employeeId:this.employeesId,companyId:this.companyId,standardId:m}),yield O(e,{createdAt:q(),standardId:m,isInsuranceTarget:!1}),console.log("[DEBUG] \u793E\u4F1A\u4FDD\u967A\u5BFE\u8C61\u5916: insurances\u4FDD\u5B58\u5B8C\u4E86"),this.hasSavedExcludedInsurance=!0})}get healthInsuranceRate100(){if(!this.insuranceRateData||this.insuranceRateData.health_insurance==null)return"";try{return new l(this.insuranceRateData.health_insurance).times(100).toString()}catch{return""}}get careInsuranceRate100(){if(!this.insuranceRateData||this.insuranceRateData.care_insurance==null)return"";try{return new l(this.insuranceRateData.care_insurance).times(100).toString()}catch{return""}}get pensionInsuranceRate100(){if(!this.insuranceRateData||this.insuranceRateData.pension_insurance==null)return"";try{return new l(this.insuranceRateData.pension_insurance).times(100).toString()}catch{return""}}formatWithComma(t){if(t==null||t==="")return"";let e=typeof t=="number"?t:Number(t);return isNaN(e)?"":e.toLocaleString()}get latestStandard(){if(!this.standardsList||this.standardsList.length===0)return null;let t=this.standardsList.filter(e=>!!e.createdAt);return t.length===0?null:t.map(e=>E(C({},e),{_millis:e.createdAt?.toDate?e.createdAt.toDate().getTime():e.createdAt?new Date(e.createdAt).getTime():0})).sort((e,s)=>s._millis-e._millis)[0]}get healthInsuranceAmount(){if(!this.healthInsuranceResult||!this.insuranceRateData)return"";let t=this.latestStandard?.kenpoStandardMonthly??(this.employeeData?this.employeeData.stdSalaryHealth:null),e=this.insuranceRateData.health_insurance;if(t==null||e==null)return"";try{return this.formatWithComma(new l(t).times(new l(e)).toDecimalPlaces(0,l.ROUND_HALF_UP).toString())}catch{return""}}get healthInsuranceAmountCompany(){if(!this.healthInsuranceResult)return"";let t=this.healthInsuranceAmount.replace(/,/g,"");if(!t)return"";try{return this.formatWithComma(new l(t).div(2).toDecimalPlaces(0,l.ROUND_HALF_UP).toString())}catch{return""}}get healthInsuranceAmountEmployee(){if(!this.healthInsuranceResult)return"";let t=this.healthInsuranceAmount.replace(/,/g,"");if(!t)return"";try{let e=new l(t).div(2);return e.minus(e.floor()).times(10).toNumber()<=5?this.formatWithComma(e.floor().toString()):this.formatWithComma(e.ceil().toString())}catch{return""}}get pensionInsuranceAmount(){if(!this.pensionInsuranceResult||!this.insuranceRateData)return"";let t=this.latestStandard?.nenkinStandardMonthly??(this.employeeData?this.employeeData.stdSalaryPension:null),e=this.insuranceRateData.pension_insurance;if(t==null||e==null)return"";try{return this.formatWithComma(new l(t).times(new l(e)).toFixed(0))}catch{return""}}get pensionInsuranceAmountCompany(){if(!this.pensionInsuranceResult)return"";let t=this.pensionInsuranceAmount.replace(/,/g,"");if(!t)return"";try{return this.formatWithComma(new l(t).div(2).toDecimalPlaces(0,l.ROUND_HALF_UP).toString())}catch{return""}}get pensionInsuranceAmountEmployee(){if(!this.pensionInsuranceResult)return"";let t=this.pensionInsuranceAmount.replace(/,/g,"");if(!t)return"";try{let e=new l(t).div(2);return e.minus(e.floor()).times(10).toNumber()<=5?this.formatWithComma(e.floor().toString()):this.formatWithComma(e.ceil().toString())}catch{return""}}get careInsuranceAmount(){if(!this.careInsuranceResult||!this.insuranceRateData)return"";let t=this.latestStandard?.kenpoStandardMonthly??(this.employeeData?this.employeeData.stdSalaryHealth:null),e=this.insuranceRateData.care_insurance;if(t==null||e==null)return"";try{return this.formatWithComma(new l(t).times(new l(e)).toDecimalPlaces(0,l.ROUND_HALF_UP).toString())}catch{return""}}get careInsuranceAmountCompany(){if(!this.careInsuranceResult)return"";let t=this.careInsuranceAmount.replace(/,/g,"");if(!t)return"";try{return this.formatWithComma(new l(t).div(2).toDecimalPlaces(0,l.ROUND_HALF_UP).toString())}catch{return""}}get careInsuranceAmountEmployee(){if(!this.careInsuranceResult)return"";let t=this.careInsuranceAmount.replace(/,/g,"");if(!t)return"";try{let e=new l(t).div(2);return e.minus(e.floor()).times(10).toNumber()<=5?this.formatWithComma(e.floor().toString()):this.formatWithComma(e.ceil().toString())}catch{return""}}get totalInsuranceAmount(){let t=this.healthInsuranceResult?this.healthInsuranceAmount.replace(/,/g,""):"",e=this.pensionInsuranceResult?this.pensionInsuranceAmount.replace(/,/g,""):"",s=this.careInsuranceResult?this.careInsuranceAmount.replace(/,/g,""):"";if(!t&&!e&&!s)return"";try{return this.formatWithComma(new l(t||0).plus(new l(e||0)).plus(new l(s||0)).toString())}catch{return""}}get totalInsuranceAmountCompany(){let t=this.healthInsuranceResult?this.healthInsuranceAmountCompany.replace(/,/g,""):"",e=this.pensionInsuranceResult?this.pensionInsuranceAmountCompany.replace(/,/g,""):"",s=this.careInsuranceResult?this.careInsuranceAmountCompany.replace(/,/g,""):"";if(!t&&!e&&!s)return"";try{return this.formatWithComma(new l(t||0).plus(new l(e||0)).plus(new l(s||0)).toString())}catch{return""}}get totalInsuranceAmountEmployee(){let t=this.healthInsuranceResult?this.healthInsuranceAmountEmployee.replace(/,/g,""):"",e=this.pensionInsuranceResult?this.pensionInsuranceAmountEmployee.replace(/,/g,""):"",s=this.careInsuranceResult?this.careInsuranceAmountEmployee.replace(/,/g,""):"";if(!t&&!e&&!s)return"";try{return this.formatWithComma(new l(t||0).plus(new l(e||0)).plus(new l(s||0)).toString())}catch{return""}}get stdSalaryHealthWithComma(){return!this.employeeData||this.employeeData.stdSalaryHealth==null?"":this.formatWithComma(this.employeeData.stdSalaryHealth)}get stdSalaryPensionWithComma(){return!this.employeeData||this.employeeData.stdSalaryPension==null?"":this.formatWithComma(this.employeeData.stdSalaryPension)}checkUnsavedCalc(){return F(this,null,function*(){if(!this.companyId||!this.employeesId||!this.latestStandard){this.hasUnsavedCalc=!1;return}let t=S(this.firestore,`companies/${this.companyId}/employees/${this.employeesId}/insurances`),m=(yield v(t)).docs.map(d=>C({id:d.id},d.data())).filter(d=>!!d.createdAt).map(d=>E(C({},d),{_millis:d.createdAt?.toDate?d.createdAt.toDate().getTime():d.createdAt?new Date(d.createdAt).getTime():0})).sort((d,u)=>u._millis-d._millis)[0],D=this.latestStandard?.id;this.hasUnsavedCalc=!(m&&m.standardId===D)})}onSaveCalc=(t=!1)=>F(this,null,function*(){if(!this.companyId||!this.employeesId||!this.latestStandard)return;let e=S(this.firestore,`companies/${this.companyId}/employees/${this.employeesId}/insurances`),m=(yield v(e)).docs.map(f=>C({id:f.id},f.data())).filter(f=>!!f.createdAt).map(f=>E(C({},f),{_millis:f.createdAt?.toDate?f.createdAt.toDate().getTime():f.createdAt?new Date(f.createdAt).getTime():0})).sort((f,R)=>R._millis-f._millis),D=m[0],d=this.latestStandard?.id;if(D&&D.standardId===d){t||alert("\u3059\u3067\u306B\u3053\u306E\u6A19\u6E96\u5831\u916C\u6708\u984D\u30FB\u7B49\u7D1A\u3067\u8A08\u7B97\u7D50\u679C\u304C\u4FDD\u5B58\u3055\u308C\u3066\u3044\u307E\u3059\u3002");return}let u={standardId:d,employeeId:this.employeesId,createdAt:new Date};m.length===0&&(u.memo="\u767B\u9332\u6642\u7B97\u51FA"),m.length>0&&(u.memo="\u60C5\u5831\u66F4\u65B0\u6642\u7B97\u51FA"),this.healthInsuranceResult&&(u.healthInsuranceTotal=this.healthInsuranceAmount.replace(/,/g,""),u.healthInsuranceCompany=this.healthInsuranceAmountCompany.replace(/,/g,""),u.healthInsuranceEmployee=this.healthInsuranceAmountEmployee.replace(/,/g,"")),this.careInsuranceResult&&(u.careInsuranceTotal=this.careInsuranceAmount.replace(/,/g,""),u.careInsuranceCompany=this.careInsuranceAmountCompany.replace(/,/g,""),u.careInsuranceEmployee=this.careInsuranceAmountEmployee.replace(/,/g,"")),this.pensionInsuranceResult&&(u.pensionInsuranceTotal=this.pensionInsuranceAmount.replace(/,/g,""),u.pensionInsuranceCompany=this.pensionInsuranceAmountCompany.replace(/,/g,""),u.pensionInsuranceEmployee=this.pensionInsuranceAmountEmployee.replace(/,/g,"")),u.total=this.totalInsuranceAmount.replace(/,/g,""),u.totalCompany=this.totalInsuranceAmountCompany.replace(/,/g,""),u.totalEmployee=this.totalInsuranceAmountEmployee.replace(/,/g,""),yield O(e,u),t||alert("\u8A08\u7B97\u7D50\u679C\u3092\u4FDD\u5B58\u3057\u307E\u3057\u305F\u3002")});onNavigateToDetail=()=>F(this,null,function*(){if(yield this.checkUnsavedCalc(),this.hasUnsavedCalc){alert("\u8A08\u7B97\u7D50\u679C\u3092\u4FDD\u5B58\u3057\u3066\u304F\u3060\u3055\u3044");return}this.router.navigate(["/employee-detail",this.employeesId])});static \u0275fac=function(e){return new(e||n)(P(j),P(G),P(z))};static \u0275cmp=B({type:n,selectors:[["app-calculate"]],decls:56,vars:14,consts:[[1,"calculate-header"],[1,"calculate-header-title"],[1,"to-detail-btn",3,"click"],[1,"info-calc-flex",2,"margin-top","0"],[1,"office-info"],[1,"office-label"],[1,"office-value"],[1,"extra-info-box"],[1,"extra-info-row"],[1,"extra-info-label"],[1,"extra-info-value"],[4,"ngIf"],[1,"calculate-container"],["class","loading-message",4,"ngIf"],["class","excluded-message",4,"ngIf"],[1,"loading-message"],[1,"excluded-message"],["class","calc-row",4,"ngIf"],[1,"calc-row"],[1,"calc-label"],[1,"calc-value"]],template:function(e,s){e&1&&(a(0,"div",0)(1,"span",1),r(2,"\u8A08\u7B97\u7D50\u679C\u8868\u793A\u753B\u9762"),i(),a(3,"button",2),L("click",function(){return s.onNavigateToDetail()}),r(4,"\u5F93\u696D\u54E1\u8A73\u7D30\u753B\u9762\u3078"),i()(),a(5,"div",3)(6,"div")(7,"div",4)(8,"div")(9,"span",5),r(10,"\u6240\u5C5E\u4E8B\u696D\u6240\uFF1A"),i(),a(11,"span",6),r(12),i()(),a(13,"div")(14,"span",5),r(15,"\u6240\u5728\u90FD\u9053\u5E9C\u770C\uFF1A"),i(),a(16,"span",6),r(17),i()(),a(18,"div")(19,"span",5),r(20,"\u5065\u5EB7\u4FDD\u967A\u6599\u7387\uFF1A"),i(),a(21,"span",6),r(22),i()(),a(23,"div")(24,"span",5),r(25,"\u4ECB\u8B77\u4FDD\u967A\u6599\u7387\uFF1A"),i(),a(26,"span",6),r(27),i()(),a(28,"div")(29,"span",5),r(30,"\u539A\u751F\u5E74\u91D1\u4FDD\u967A\u6599\u7387\uFF1A"),i(),a(31,"span",6),r(32),i()()(),a(33,"div",7)(34,"div",8)(35,"span",9),r(36,"\u5065\u5EB7\u4FDD\u967A\u5BFE\u8C61\uFF1A"),i(),a(37,"span",10),A(38,te,2,0,"span",11)(39,ne,2,1,"span",11),i()(),a(40,"div",8)(41,"span",9),r(42,"\u4ECB\u8B77\u4FDD\u967A\uFF1A"),i(),a(43,"span",10),A(44,ae,2,0,"span",11)(45,ie,2,1,"span",11),i()(),a(46,"div",8)(47,"span",9),r(48,"\u539A\u751F\u5E74\u91D1\u5BFE\u8C61\uFF1A"),i(),a(49,"span",10),A(50,re,2,0,"span",11)(51,se,2,1,"span",11),i()()()(),a(52,"div",12),A(53,oe,2,0,"div",13)(54,le,2,0,"div",14)(55,_e,13,12,"div",11),i()()),e&2&&(o(12),_((s.officeData==null?null:s.officeData.officeName)||"---"),o(5),_((s.officeData==null?null:s.officeData.officePrefecture)||"---"),o(5),_(s.insuranceRateData!=null&&s.insuranceRateData.health_insurance?s.insuranceRateData.health_insurance*100+"\uFF05":"---"),o(5),_(s.insuranceRateData!=null&&s.insuranceRateData.care_insurance?s.insuranceRateData.care_insurance*100+"\uFF05":"---"),o(5),_(s.insuranceRateData!=null&&s.insuranceRateData.pension_insurance?s.insuranceRateData.pension_insurance*100+"\uFF05":"---"),o(6),c("ngIf",s.isSocialInsuranceExcluded),o(),c("ngIf",!s.isSocialInsuranceExcluded),o(5),c("ngIf",s.isSocialInsuranceExcluded),o(),c("ngIf",!s.isSocialInsuranceExcluded),o(5),c("ngIf",s.isSocialInsuranceExcluded),o(),c("ngIf",!s.isSocialInsuranceExcluded),o(2),c("ngIf",s.isLoading),o(),c("ngIf",s.isSocialInsuranceExcluded),o(),c("ngIf",!s.isSocialInsuranceExcluded&&s.employeeData))},dependencies:[W,U,N],styles:[".calculate-container[_ngcontent-%COMP%]{padding-top:4rem;max-width:600px;margin:0 auto;background:#f8fafc;border-radius:12px;box-shadow:0 2px 12px #1976d212;padding-bottom:2.5rem}.calculate-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:1.2rem}.calculate-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:1.04rem;color:#222;padding:.32rem .2rem;border-bottom:1px solid #e3e8ee}.calculate-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{border-bottom:none}.calculate-container[_ngcontent-%COMP%]   .loading-message[_ngcontent-%COMP%]{text-align:center;font-size:1.08rem;color:#1976d2;padding:2.5rem 0;font-weight:600}.save-calc-btn[_ngcontent-%COMP%]{display:block;margin:.1rem auto;background:#1976d2;color:#fff;font-size:.95rem;font-weight:600;padding:.4rem 1.2rem;border:none;border-radius:7px;cursor:pointer;box-shadow:0 1px 4px #1976d214;transition:background .2s}.save-calc-btn[_ngcontent-%COMP%]:hover{background:#1565c0}@media (max-width: 600px){.calculate-container[_ngcontent-%COMP%]{padding:1.2rem .5rem 2rem;max-width:99vw}.calculate-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:.98rem}.save-calc-btn[_ngcontent-%COMP%]{font-size:.98rem;padding:.6rem 1.2rem}}.info-calc-flex[_ngcontent-%COMP%]{display:flex;gap:2.2rem;align-items:flex-start;justify-content:center;margin-top:1.5rem;max-width:1200px;margin-left:auto;margin-right:auto;padding-top:3.5rem}.office-info[_ngcontent-%COMP%]{min-width:260px;max-width:340px;flex:0 0 320px;background:#e3f2fd;border-radius:14px;padding:1.3rem 1.5rem;font-size:1.04rem;color:#1976d2;box-shadow:0 2px 8px #1976d20f;display:flex;flex-direction:column;gap:.5rem}.office-info[_ngcontent-%COMP%]   .office-label[_ngcontent-%COMP%]{font-weight:600;color:#1565c0}.office-info[_ngcontent-%COMP%]   .office-value[_ngcontent-%COMP%]{font-weight:500;color:#1976d2}.calculate-container[_ngcontent-%COMP%]{flex:1 1 600px;max-width:600px;background:#f8fafc;border-radius:14px;box-shadow:0 2px 12px #1976d212;padding-top:0!important;padding-right:1.5rem;padding-bottom:2.5rem;padding-left:1.5rem}@media (max-width: 900px){.info-calc-flex[_ngcontent-%COMP%]{flex-direction:column;gap:1.2rem;margin-top:1.2rem;max-width:99vw;padding-top:3.2rem}.office-info[_ngcontent-%COMP%], .calculate-container[_ngcontent-%COMP%]{max-width:99vw;min-width:0;flex:1 1 100%;margin:0 auto}}.calc-row[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.5rem;font-size:1.04rem;color:#222;padding:.32rem .2rem;border-bottom:1px solid #e3e8ee}.calc-label[_ngcontent-%COMP%]{min-width:12em;text-align:left;font-weight:600;color:#1976d2;flex-shrink:0;margin-right:.7em}.calc-value[_ngcontent-%COMP%]{flex:1;word-break:break-all}.extra-info-row[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.01rem;margin-bottom:.5rem;padding:.2rem .3rem}.extra-info-label[_ngcontent-%COMP%]{min-width:6.5em;font-weight:600;color:#1976d2}.extra-info-value[_ngcontent-%COMP%]{flex:1;color:#222}.extra-info-box[_ngcontent-%COMP%]{min-width:260px;max-width:340px;background:#e3f2fd;border-radius:14px;margin-top:1.2rem;box-shadow:0 2px 8px #1976d20f;padding:1.1rem 1.2rem}.excluded-message[_ngcontent-%COMP%]{color:#d32f2f;background:#fff0f0;border:none;border-radius:8px;font-size:1.25em;font-weight:700;padding:18px 0;text-align:center;margin:18px 0 12px;letter-spacing:.05em;box-shadow:0 2px 8px #d32f2f14;width:100%;box-sizing:border-box;margin-left:-1.5rem;margin-right:-1.5rem}.calculate-header[_ngcontent-%COMP%]{width:100%;padding-top:3.5rem;margin-bottom:0;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;gap:.7rem}.calculate-header-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1976d2;letter-spacing:.04em;margin-left:.2em}.to-detail-btn[_ngcontent-%COMP%]{background:#42a5f5;color:#fff;border:none;border-radius:7px;font-size:1.02em;font-weight:600;padding:.5em 1.6em;cursor:pointer;box-shadow:0 1px 4px #1976d214;transition:background .2s}.to-detail-btn[_ngcontent-%COMP%]:hover{background:#1976d2}.info-calc-flex[_ngcontent-%COMP%]{margin-top:2.5rem}.unsaved-warning[_ngcontent-%COMP%]{color:#d32f2f;font-weight:700;margin-top:0;font-size:1.08em;text-align:center;display:block;margin-left:auto;margin-right:auto;max-width:100%}"]})};export{V as CalculateComponent};
