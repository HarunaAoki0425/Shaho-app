import{b as xe,c as Ee,f as be,h as Se,i as Qe,j as je,k as Ye,l as qe,m as Ue,n as $e,o as Je,p as we}from"./chunk-FSLVCKVZ.js";import{d as Ke,f as Ce,i as He}from"./chunk-NJLM6MAR.js";import{$e as F,Ae as k,Bb as pe,Cb as r,Cc as Ge,Db as h,Dc as Be,Eb as E,Fb as de,Fd as Fe,Hb as b,Ib as S,Jb as w,Mb as D,Md as Ie,Nb as g,Ob as Ne,Pa as s,Pb as _,Pe as Te,Qb as me,Te as Ze,Ub as We,Za as ue,_ as J,a as L,ae as $,b as ie,bb as f,c as le,cf as De,d as A,ea as Ve,fa as c,fe as M,ga as y,ib as d,ic as ce,jc as ye,je as Ae,kc as fe,ke,lc as he,mb as l,mc as Re,nb as i,nc as ge,ne as T,ob as U,oc as _e,pb as Q,qb as j,rb as Le,sb as C,tb as x,ub as p,yc as ze}from"./chunk-6AHFQYIP.js";var Pe=n=>({"disabled-btn":n});function lt(n,o){if(n&1&&(Q(0),l(1,"div"),r(2),g(3,"date"),g(4,"number"),i(),j()),n&2){let e=o.$implicit,t=o.index,a=p(2);s(2),de(" ",_(3,2,e,"yyyy/MM/dd"),"\u652F\u7D66\u5206 ",_(4,5,a.latestMonthBonus.bonusAmountList[t],"1.0-0"),"\u5186 ")}}function rt(n,o){if(n&1&&(l(0,"div",19),f(1,lt,5,8,"ng-container",20),i()),n&2){let e=p();s(),d("ngForOf",e.latestMonthBonus.bonusDateList)}}var ve=class n{employeeId=null;companyId=null;isLostQualification=null;bonusAmount=null;nenkinStandardBonusAmount=null;bonusDate="";latestBonus=null;allBonuses=[];allMonthBonuses=[];firestore=J(Ie);router=J(Ce);ngOnInit(){return A(this,null,function*(){yield this.loadLatestBonus()})}ngOnChanges(o){return A(this,null,function*(){(o.companyId&&this.companyId||o.employeeId&&this.employeeId)&&(yield this.loadLatestBonus(),yield this.getAllMonthBonuses())})}loadLatestBonus(){return A(this,null,function*(){if(this.companyId&&this.employeeId){let o=M(this.firestore,"companies",this.companyId,"employees",this.employeeId,"bonus"),t=(yield k(o)).docs.map(u=>L({id:u.id},u.data()));this.allBonuses=t;let a=t.filter(u=>u.bonusDate).sort((u,m)=>new Date(m.bonusDate).getTime()-new Date(u.bonusDate).getTime());this.latestBonus=a.length>0?a[0]:null}})}onBonusAmountInput(o){let e=o.target.value;e=e.replace(/[０-９]/g,a=>String.fromCharCode(a.charCodeAt(0)-65248)),e=e.replace(/^0+(?!$)/,""),e=e.replace(/\..*$/,""),o.target.value=e;let t=Number(e);isNaN(t)?(this.bonusAmount=null,this.nenkinStandardBonusAmount=null):(this.bonusAmount=t,this.nenkinStandardBonusAmount=Math.floor(t/1e3)*1e3)}saveBonus(){return A(this,null,function*(){if(!this.employeeId||!this.companyId){alert("\u5F93\u696D\u54E1\u60C5\u5831\u304C\u53D6\u5F97\u3067\u304D\u307E\u305B\u3093");return}if(!this.bonusDate||this.bonusAmount===null){alert("\u8CDE\u4E0E\u652F\u7D66\u5E74\u6708\u65E5\u30FB\u8CDE\u4E0E\u984D\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044");return}if(this.bonusAmount===0){alert("0\u5186\u306E\u8CDE\u4E0E\u306F\u4FDD\u5B58\u3067\u304D\u307E\u305B\u3093");return}let o=window.confirm("\u8CDE\u4E0E\u60C5\u5831\u3092\u4FDD\u5B58\u3057\u3001\u793E\u4F1A\u4FDD\u967A\u6599\u3092\u7B97\u51FA\u3057\u307E\u3059\u304B\uFF1F");if(!o)return;let e=new Date(this.bonusDate),t=e.getFullYear(),a=e.getMonth()+1,u=a>=4?t:t-1,m=M(this.firestore,"companies",this.companyId,"employees",this.employeeId,"bonus",String(u),"monthBonus"),I=yield k(m),v=!1,K=null;for(let N of I.docs){let O=N.data();if(Array.isArray(O.bonusDateList))for(let H of O.bonusDateList){let W=new Date(H);if(W.getFullYear()===t&&W.getMonth()+1===a){let ee=[...O.bonusDateList,this.bonusDate],q=[...O.bonusAmountList,this.bonusAmount],G=q.reduce((ne,ae)=>ne+ae,0),B=Math.floor(G/1e3)*1e3;B=Math.min(B,15e5);let R=Math.floor(G/1e3)*1e3,P=q.reduce((ne,ae)=>ne+(typeof ae=="number"?ae:0),0),te=N.ref;K=te,yield import("./chunk-GLA3DH4X.js").then(ne=>ne.updateDoc(te,{bonusDateList:ee,bonusAmountList:q,nenkinStandardBonusAmount:B,kenpoStandardBonusAmount:R,nendo:u,monthTotal:P,updatedAt:Fe()})),yield this.loadLatestBonus(),v=!0;break}}if(v)break}if(!v){let N=[this.bonusDate],O=[this.bonusAmount],H=O.reduce((G,B)=>G+B,0),W=Math.floor(H/1e3)*1e3;W=Math.min(W,15e5);let ee=Math.floor(H/1e3)*1e3,q=O.reduce((G,B)=>G+(typeof B=="number"?B:0),0);try{K=yield $(m,{bonusDateList:N,bonusAmountList:O,nenkinStandardBonusAmount:W,kenpoStandardBonusAmount:ee,nendo:u,monthTotal:q,createdAt:Fe()}),yield this.loadLatestBonus()}catch(G){alert("\u4FDD\u5B58\u306B\u5931\u6557\u3057\u307E\u3057\u305F"),console.error(G)}}let z=T(this.firestore,"companies",this.companyId,"employees",this.employeeId,"bonus",String(u)),Y=M(this.firestore,"companies",this.companyId,"employees",this.employeeId,"bonus",String(u),"monthBonus"),Z=yield k(Y),X=0,re=0;for(let N of Z.docs){let O=N.data();typeof O.kenpoStandardBonusAmount=="number"&&(X+=O.kenpoStandardBonusAmount),Array.isArray(O.bonusAmountList)&&(re+=O.bonusAmountList.reduce((H,W)=>H+(typeof W=="number"?W:0),0))}yield import("./chunk-GLA3DH4X.js").then(N=>N.setDoc(z,{kenpoStandardBonusTotal:X,nendoTotal:re},{merge:!0}));let se=Math.max(X-573e4,0);if(yield import("./chunk-GLA3DH4X.js").then(N=>N.setDoc(z,{kenpoStandardBonusAmountDiff:se},{merge:!0})),K){let N=yield import("./chunk-GLA3DH4X.js").then(W=>W.getDoc(K)),O=N&&N.data&&typeof N.data=="function"?N.data():null,H=null;if(O&&typeof O.kenpoStandardBonusAmount=="number"?H=O.kenpoStandardBonusAmount:v||(H=H),H!==null){let W=Math.max(H-se,0),ee=se===0;yield import("./chunk-GLA3DH4X.js").then(q=>q.updateDoc(K,{kenpoStandardBonusAmountAdjusted:W,isKenpoBonusLimitNotReached:ee}))}}o&&this.goToBonusCalculate()})}goToBonusCalculate(){this.employeeId&&this.router.navigate([`/bonus-calculate/${this.employeeId}`])}goToBonusHistory(){this.employeeId&&this.router.navigate([`/bonus-history/${this.employeeId}`])}get currentNendo(){let o=new Date,e=o.getFullYear();return o.getMonth()+1>=4?e:e-1}get currentYearMonthLabel(){let o=new Date,e=o.getFullYear(),t=o.getMonth()+1;return`${e}\u5E74${t.toString().padStart(2,"0")}\u6708`}get standardBonusAmount(){return this.bonusAmount===null?null:Math.floor(this.bonusAmount/1e3)*1e3}getAllMonthBonuses(){return A(this,null,function*(){if(!this.companyId||!this.employeeId)return;let o=M(this.firestore,"companies",this.companyId,"employees",this.employeeId,"bonus"),e=yield k(o),t=[];for(let a of e.docs){let u=a.id,m=M(this.firestore,"companies",this.companyId,"employees",this.employeeId,"bonus",u,"monthBonus"),I=yield k(m);t.push(...I.docs.map(v=>L({id:v.id,nendo:u},v.data())))}this.allMonthBonuses=t})}get latestMonthBonus(){if(!this.allMonthBonuses||this.allMonthBonuses.length===0)return null;let o=this.allMonthBonuses.filter(e=>e.createdAt).sort((e,t)=>{let a=e.createdAt?.toDate?e.createdAt.toDate():new Date(e.createdAt);return(t.createdAt?.toDate?t.createdAt.toDate():new Date(t.createdAt)).getTime()-a.getTime()});return o.length>0?o[0]:null}getKenpoStandardBonusTotal(o){if(!this.allMonthBonuses)return 0;let e=0;for(let t of this.allMonthBonuses)t.nendo==o&&typeof t.kenpoStandardBonusAmount=="number"&&(e+=t.kenpoStandardBonusAmount);return e}getNendoTotal(o){return this.allMonthBonuses?this.allMonthBonuses.reduce((t,a)=>a.nendo==o&&typeof a.monthTotal=="number"?t+a.monthTotal:t,0):0}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=ue({type:n,selectors:[["app-bonus"]],inputs:{employeeId:"employeeId",companyId:"companyId",isLostQualification:"isLostQualification"},features:[Ve],decls:101,vars:80,consts:[[1,"bonus-container-wrapper",2,"display","flex","gap","24px"],[1,"bonus-container-left",2,"flex","1"],[1,"bonus-row"],["for","bonus-date"],["id","bonus-date","type","date",3,"ngModelChange","ngModel"],["for","bonus-amount"],["id","bonus-amount","type","number","placeholder","\u91D1\u984D\u3092\u5165\u529B","step","1","pattern","\\\\d*",3,"ngModelChange","input","ngModel"],["type","button",1,"bonus-save-btn",3,"click","disabled","ngClass"],[1,"bonus-container-center",2,"flex","1"],[1,"bonus-btn-row",2,"display","flex","gap","12px","align-items","center","margin-bottom","12px"],["type","button",1,"bonus-calc-btn",3,"click","disabled","ngClass"],["type","button",1,"history-btn",3,"click","disabled","ngClass"],[1,"insurance-table-wrapper"],[1,"insurance-table"],["class","bonus-date",4,"ngIf"],[1,"bonus-container-right",2,"flex","1"],[1,"bonus-total"],[1,"bonus-total-amount"],[2,"font-size","12px","color","#666"],[1,"bonus-date"],[4,"ngFor","ngForOf"]],template:function(e,t){e&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),r(4,"\u8CDE\u4E0E\u652F\u7D66\u5E74\u6708\u65E5"),i(),l(5,"input",4),w("ngModelChange",function(u){return S(t.bonusDate,u)||(t.bonusDate=u),u}),i()(),l(6,"div",2)(7,"label",5),r(8,"\u8CDE\u4E0E\u984D"),i(),l(9,"input",6),w("ngModelChange",function(u){return S(t.bonusAmount,u)||(t.bonusAmount=u),u}),x("input",function(u){return t.onBonusAmountInput(u)}),i()(),l(10,"div",2)(11,"label"),r(12,"\u6A19\u6E96\u8CDE\u4E0E\u984D"),i(),l(13,"span"),r(14),g(15,"number"),i()(),l(16,"button",7),x("click",function(){return t.saveBonus()}),r(17,"\u4FDD\u5B58"),i()(),l(18,"div",8)(19,"div",9)(20,"button",10),x("click",function(){return t.goToBonusCalculate()}),r(21,"\u8A08\u7B97\u7D50\u679C\u8A73\u7D30"),i(),l(22,"button",11),x("click",function(){return t.goToBonusHistory()}),r(23,"\u5C65\u6B74"),i()(),l(24,"div",12)(25,"table",13)(26,"thead")(27,"tr"),U(28,"th"),l(29,"th"),r(30,"\u5168\u984D"),i(),l(31,"th"),r(32,"\u4F1A\u793E\u8CA0\u62C5"),i(),l(33,"th"),r(34,"\u5F93\u696D\u54E1\u8CA0\u62C5"),i()()(),l(35,"tbody")(36,"tr")(37,"th"),r(38,"\u5065\u5EB7\u4FDD\u967A"),i(),l(39,"td"),r(40),g(41,"number"),i(),l(42,"td"),r(43),g(44,"number"),i(),l(45,"td"),r(46),g(47,"number"),i()(),l(48,"tr")(49,"th"),r(50,"\u4ECB\u8B77\u4FDD\u967A"),i(),l(51,"td"),r(52),g(53,"number"),i(),l(54,"td"),r(55),g(56,"number"),i(),l(57,"td"),r(58),g(59,"number"),i()(),l(60,"tr")(61,"th"),r(62,"\u539A\u751F\u5E74\u91D1"),i(),l(63,"td"),r(64),g(65,"number"),i(),l(66,"td"),r(67),g(68,"number"),i(),l(69,"td"),r(70),g(71,"number"),i()(),l(72,"tr")(73,"th"),r(74,"\u5408\u8A08"),i(),l(75,"td"),r(76),g(77,"number"),i(),l(78,"td"),r(79),g(80,"number"),i(),l(81,"td"),r(82),g(83,"number"),i()()()()(),f(84,rt,2,1,"div",14),i(),l(85,"div",15)(86,"div",16),r(87),i(),l(88,"div",17),r(89),g(90,"number"),i(),l(91,"div",18),r(92,"\u5065\u5EB7\u4FDD\u967A\u30FB\u4ECB\u8B77\u4FDD\u967A\u306E\u5E74\u9593\u7D2F\u8A08\u6A19\u6E96\u8CDE\u4E0E\u984D\u306E\u4E0A\u9650\u306F573\u4E07\u5186\u3067\u3059\u3002\u305D\u308C\u4EE5\u964D\u6A19\u6E96\u8CDE\u4E0E\u984D\u306F0\u5186\u3068\u3057\u3066\u7B97\u51FA\u3057\u307E\u3059\u3002"),i(),l(93,"div",16),r(94),g(95,"date"),i(),l(96,"div",17),r(97),g(98,"number"),i(),l(99,"div",18),r(100,"\u539A\u751F\u5E74\u91D1\u306E\u6708\u9593\u7D2F\u8A08\u6A19\u6E96\u8CDE\u4E0E\u984D\u306E\u4E0A\u9650\u306F150\u4E07\u5186\u3067\u3059\u3002\u305D\u308C\u4EE5\u964D\u6A19\u6E96\u8CDE\u4E0E\u984D\u306F0\u5186\u3068\u3057\u3066\u7B97\u51FA\u3057\u307E\u3059\u3002"),i()()()),e&2&&(s(5),b("ngModel",t.bonusDate),s(4),b("ngModel",t.bonusAmount),s(5),h(t.standardBonusAmount!==null?_(15,26,t.standardBonusAmount,"1.0-0"):"---"),s(2),d("disabled",t.isLostQualification)("ngClass",D(74,Pe,t.isLostQualification)),s(4),d("disabled",t.isLostQualification||t.allBonuses.length===0)("ngClass",D(76,Pe,t.isLostQualification||t.allBonuses.length===0)),s(2),d("disabled",t.allBonuses.length===0)("ngClass",D(78,Pe,t.allBonuses.length===0)),s(18),E("",_(41,29,t.latestMonthBonus==null?null:t.latestMonthBonus.healthInsuranceTotal,"1.0-0"),"\u5186"),s(3),E("",_(44,32,t.latestMonthBonus==null?null:t.latestMonthBonus.healthInsuranceCompany,"1.0-0"),"\u5186"),s(3),E("",_(47,35,t.latestMonthBonus==null?null:t.latestMonthBonus.healthInsuranceEmployee,"1.0-0"),"\u5186"),s(6),E("",_(53,38,t.latestMonthBonus==null?null:t.latestMonthBonus.careInsuranceTotal,"1.0-0"),"\u5186"),s(3),E("",_(56,41,t.latestMonthBonus==null?null:t.latestMonthBonus.careInsuranceCompany,"1.0-0"),"\u5186"),s(3),E("",_(59,44,t.latestMonthBonus==null?null:t.latestMonthBonus.careInsuranceEmployee,"1.0-0"),"\u5186"),s(6),E("",_(65,47,t.latestMonthBonus==null?null:t.latestMonthBonus.nenkinTotal,"1.0-0"),"\u5186"),s(3),E("",_(68,50,t.latestMonthBonus==null?null:t.latestMonthBonus.nenkinCompany,"1.0-0"),"\u5186"),s(3),E("",_(71,53,t.latestMonthBonus==null?null:t.latestMonthBonus.nenkinEmployee,"1.0-0"),"\u5186"),s(6),E("",_(77,56,t.latestMonthBonus==null?null:t.latestMonthBonus.totalInsurance,"1.0-0"),"\u5186"),s(3),E("",_(80,59,t.latestMonthBonus==null?null:t.latestMonthBonus.totalInsuranceCompany,"1.0-0"),"\u5186"),s(3),E("",_(83,62,t.latestMonthBonus==null?null:t.latestMonthBonus.totalInsuranceEmployee,"1.0-0"),"\u5186"),s(2),d("ngIf",(t.latestMonthBonus==null?null:t.latestMonthBonus.bonusDateList)&&(t.latestMonthBonus==null?null:t.latestMonthBonus.bonusAmountList)),s(3),E("",t.currentNendo,"\u5E74\u5EA6\u8CDE\u4E0E\u984D\u5408\u8A08"),s(2),E(" ",_(90,65,t.getNendoTotal(t.currentNendo),"1.0-0"),"\u5186 "),s(5),E(" ",t.latestMonthBonus!=null&&t.latestMonthBonus.bonusDateList&&(t.latestMonthBonus!=null&&t.latestMonthBonus.bonusDateList[0])?_(95,68,t.latestMonthBonus.bonusDateList[0],"yyyy\u5E74MM\u6708"):"","\u8CDE\u4E0E\u5408\u8A08 "),s(3),E(" ",_(98,71,t.latestMonthBonus==null?null:t.latestMonthBonus.monthTotal,"1.0-0"),"\u5186 "))},dependencies:[_e,ce,ye,fe,ge,he,we,xe,Se,Ee,Je,be],styles:[".insurance-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:16px;background:#fff;font-size:.98em;overflow:hidden}.insurance-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .insurance-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid#d0e3f9;padding:8px 10px;text-align:center}.insurance-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f4f8fb;font-weight:700;color:#1976d2}.insurance-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   th[_ngcontent-%COMP%], .insurance-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:1px solid #d0e3f9}.insurance-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child, .insurance-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{width:120px;min-width:100px;max-width:160px;white-space:nowrap}.insurance-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:not(:first-child), .insurance-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(:first-child){min-width:80px;max-width:120px;white-space:nowrap}.insurance-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#fff;color:#222;border-color:#d0e3f9}.bonus-container-wrapper[_ngcontent-%COMP%]{display:flex;gap:32px;margin:0}.bonus-container-left[_ngcontent-%COMP%], .bonus-container-right[_ngcontent-%COMP%]{border-radius:10px;padding:10px;min-width:280px;flex:1}.bonus-row[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:18px;gap:12px}.bonus-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{min-width:120px;font-weight:500;color:#333;font-size:1em}.bonus-row[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .bonus-row[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]{padding:6px 10px;border:1px solid #ccc;border-radius:4px;font-size:1em;width:140px;background:#fff;transition:border .2s}.bonus-row[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]:focus, .bonus-row[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%]:focus{border:1.5px solid #1976d2;outline:none}.bonus-calc-btn[_ngcontent-%COMP%], .history-btn[_ngcontent-%COMP%]{min-width:120px;max-width:400px;display:inline-block;margin-right:12px;font-size:.78em;font-weight:600;padding:.5em 1.6em;border:none;border-radius:7px;cursor:pointer;box-shadow:0 1px 4px #43a04714;transition:background .2s,color .2s}.bonus-calc-btn[_ngcontent-%COMP%]{background:#1976d2;color:#fff}.bonus-calc-btn[_ngcontent-%COMP%]:hover{background:#1565c0}.history-btn[_ngcontent-%COMP%]{background:#fff;color:#1976d2;border:.5px solid #1976d2;max-width:200px}.history-btn[_ngcontent-%COMP%]:hover, .history-btn[_ngcontent-%COMP%]:focus{background:#1976d2;color:#fff;border-color:#1251a2}.insurance-table-wrapper[_ngcontent-%COMP%]{background:#fff;border-radius:8px;display:flex;justify-content:center}.bonus-save-btn[_ngcontent-%COMP%]{margin-top:8px;padding:8px 18px;background:#43a047;color:#fff;border:none;border-radius:4px;font-size:1em;font-weight:700;cursor:pointer;transition:background .2s;box-shadow:0 1px 4px #43a04714}.bonus-save-btn[_ngcontent-%COMP%]:hover{background:#388e3c}.bonus-total[_ngcontent-%COMP%]{font-size:1.1em;font-weight:700;color:#1976d2;margin-top:2.2em;margin-bottom:.2em;letter-spacing:.04em}.bonus-total-amount[_ngcontent-%COMP%]{font-size:1em;font-weight:700;color:#388e3c;margin-bottom:1.5em;margin-top:.1em;letter-spacing:.04em;background:#e8f5e9;border-radius:8px;padding:.3em .8em;display:inline-block}.disabled-btn[_ngcontent-%COMP%]{background:#bdbdbd!important;color:#f5f5f5!important;cursor:not-allowed!important;border:none!important;opacity:.7;box-shadow:none!important}"]})};var V=n=>({"input-error":n}),oe=n=>({"disabled-btn":n});function st(n,o){n&1&&(l(0,"div",47),r(1,"\u793E\u4F1A\u4FDD\u967A\u8CC7\u683C\u55AA\u5931\u6E08\u307F"),i())}function ut(n,o){if(n&1){let e=C();l(0,"button",48),x("click",function(){c(e);let a=p();return y(a.toggleEditPersonal())}),r(1,"\u7DE8\u96C6"),i()}}function pt(n,o){if(n&1){let e=C();Q(0),l(1,"button",49),x("click",function(){c(e);let a=p();return y(a.savePersonalInfo())}),r(2,"\u4FDD\u5B58"),i(),l(3,"button",48),x("click",function(){c(e);let a=p();return y(a.cancelEditPersonal())}),r(4,"\u30AD\u30E3\u30F3\u30BB\u30EB"),i(),j()}if(n&2){let e=p();s(),d("disabled",!e.isPersonalValid())}}function dt(n,o){if(n&1&&(l(0,"span",15),r(1),i()),n&2){let e=p();s(),h(e.employee!=null&&e.employee.lastName||e.employee!=null&&e.employee.firstName?(e.employee==null?null:e.employee.lastName)+" "+(e.employee==null?null:e.employee.firstName):"---")}}function mt(n,o){if(n&1){let e=C();l(0,"input",50),w("ngModelChange",function(a){c(e);let u=p();return S(u.employee.lastName,a)||(u.employee.lastName=a),y(a)}),i()}if(n&2){let e=p();b("ngModel",e.employee.lastName),d("ngClass",D(3,V,e.isEditPersonal&&!e.employee.lastName))("disabled",e.employee==null?null:e.employee.isLostQualification)}}function ct(n,o){if(n&1){let e=C();l(0,"input",51),w("ngModelChange",function(a){c(e);let u=p();return S(u.employee.firstName,a)||(u.employee.firstName=a),y(a)}),i()}if(n&2){let e=p();b("ngModel",e.employee.firstName),d("ngClass",D(3,V,e.isEditPersonal&&!e.employee.firstName))("disabled",e.employee==null?null:e.employee.isLostQualification)}}function yt(n,o){if(n&1&&(l(0,"span",15),r(1),i()),n&2){let e=p();s(),h((e.employee==null?null:e.employee.birthdate)||"---")}}function ft(n,o){if(n&1){let e=C();l(0,"input",52),w("ngModelChange",function(a){c(e);let u=p();return S(u.employee.birthdate,a)||(u.employee.birthdate=a),y(a)}),i()}if(n&2){let e=p();b("ngModel",e.employee.birthdate),d("ngClass",D(3,V,e.isEditPersonal&&!e.employee.birthdate))("disabled",e.employee==null?null:e.employee.isLostQualification)}}function ht(n,o){if(n&1&&(l(0,"span",15),r(1),i()),n&2){let e=p();s(),h((e.employee==null?null:e.employee.nationality)||"---")}}function gt(n,o){if(n&1){let e=C();l(0,"input",53),w("ngModelChange",function(a){c(e);let u=p();return S(u.employee.nationality,a)||(u.employee.nationality=a),y(a)}),i()}if(n&2){let e=p();b("ngModel",e.employee.nationality),d("ngClass",D(3,V,e.isEditPersonal&&!e.employee.nationality))("disabled",e.employee==null?null:e.employee.isLostQualification)}}function _t(n,o){if(n&1&&(l(0,"span",15),r(1),i()),n&2){let e=p();s(),h((e.employee==null?null:e.employee.officeName)||"---")}}function Ct(n,o){if(n&1&&(l(0,"option",57),r(1),i()),n&2){let e=o.$implicit;d("value",e.officeName),s(),h(e.officeName)}}function xt(n,o){if(n&1){let e=C();l(0,"select",54),w("ngModelChange",function(a){c(e);let u=p();return S(u.employee.officeName,a)||(u.employee.officeName=a),y(a)}),x("change",function(){c(e);let a=p();return y(a.onOfficeNameChange())}),l(1,"option",55),r(2,"\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044"),i(),f(3,Ct,2,2,"option",56),i()}if(n&2){let e=p();b("ngModel",e.employee.officeName),d("ngClass",D(4,V,e.isEditPersonal&&!e.employee.officeName))("disabled",e.employee==null?null:e.employee.isLostQualification),s(3),d("ngForOf",e.companyOffices)}}function Et(n,o){if(n&1&&(l(0,"span",15),r(1),i()),n&2){let e=p();s(),h((e.employee==null?null:e.employee.leaveDate)||"---")}}function bt(n,o){if(n&1){let e=C();l(0,"input",58),w("ngModelChange",function(a){c(e);let u=p();return S(u.employee.leaveDate,a)||(u.employee.leaveDate=a),y(a)}),i()}if(n&2){let e=p();b("ngModel",e.employee.leaveDate),d("disabled",!1)}}function St(n,o){if(n&1){let e=C();l(0,"button",59),x("click",function(){c(e);let a=p();return y(a.toggleEditContract())}),r(1,"\u7DE8\u96C6"),i()}if(n&2){let e=p();d("disabled",e.employee==null?null:e.employee.isLostQualification)("ngClass",D(2,oe,e.employee==null?null:e.employee.isLostQualification))}}function wt(n,o){if(n&1){let e=C();Q(0),l(1,"button",49),x("click",function(){c(e);let a=p();return y(a.saveContractInfo())}),r(2,"\u4FDD\u5B58"),i(),l(3,"button",48),x("click",function(){c(e);let a=p();return y(a.cancelEditContract())}),r(4,"\u30AD\u30E3\u30F3\u30BB\u30EB"),i(),j()}if(n&2){let e=p();s(),d("disabled",!e.isContractValid())}}function It(n,o){if(n&1&&(l(0,"span",15),r(1),i()),n&2){let e=p();s(),h((e.employee==null?null:e.employee.employmentType)||"---")}}function Dt(n,o){if(n&1&&(l(0,"option",57),r(1),i()),n&2){let e=o.$implicit;d("value",e),s(),h(e)}}function vt(n,o){if(n&1){let e=C();l(0,"select",60),w("ngModelChange",function(a){c(e);let u=p();return S(u.employee.employmentType,a)||(u.employee.employmentType=a),y(a)}),x("ngModelChange",function(a){c(e);let u=p();return y(u.onEmploymentTypeChange(a))}),f(1,Dt,2,2,"option",56),i()}if(n&2){let e=p();b("ngModel",e.employee.employmentType),d("ngClass",D(3,V,e.isEditContract&&!e.employee.employmentType)),s(),d("ngForOf",e.companyEmploymentTypes)}}function Mt(n,o){if(n&1&&(l(0,"span",15),r(1),i()),n&2){let e=p();s(),h((e.employee==null?null:e.employee.employmentPeriodType)||"---")}}function Bt(n,o){if(n&1){let e=C();l(0,"select",61),w("ngModelChange",function(a){c(e);let u=p();return S(u.employee.employmentPeriodType,a)||(u.employee.employmentPeriodType=a),y(a)}),x("change",function(){c(e);let a=p();return y(a.onEmploymentPeriodTypeChange())}),l(1,"option",62),r(2,"\u7121\u671F"),i(),l(3,"option",63),r(4,"\u6709\u671F"),i()()}if(n&2){let e=p();b("ngModel",e.employee.employmentPeriodType),d("ngClass",D(2,V,e.isEditContract&&!e.employee.employmentPeriodType))}}function Ft(n,o){n&1&&(l(0,"span",64),r(1,"*"),i())}function At(n,o){if(n&1&&(l(0,"span",15),r(1),i()),n&2){let e=p();s(),h((e.employee==null?null:e.employee.employmentPeriodStart)||"---")}}function kt(n,o){if(n&1){let e=C();l(0,"input",65),w("ngModelChange",function(a){c(e);let u=p();return S(u.employee.employmentPeriodStart,a)||(u.employee.employmentPeriodStart=a),y(a)}),i()}if(n&2){let e=p();b("ngModel",e.employee.employmentPeriodStart),d("required",e.employee.employmentPeriodType==="\u6709\u671F")("ngClass",D(3,V,e.isEditContract&&e.employee.employmentPeriodType==="\u6709\u671F"&&!e.employee.employmentPeriodStart))}}function Tt(n,o){n&1&&(l(0,"span",64),r(1,"*"),i())}function Pt(n,o){if(n&1&&(l(0,"span",15),r(1),i()),n&2){let e=p();s(),h((e.employee==null?null:e.employee.employmentPeriodEnd)||"---")}}function Ot(n,o){if(n&1){let e=C();l(0,"input",65),w("ngModelChange",function(a){c(e);let u=p();return S(u.employee.employmentPeriodEnd,a)||(u.employee.employmentPeriodEnd=a),y(a)}),i()}if(n&2){let e=p();b("ngModel",e.employee.employmentPeriodEnd),d("required",e.employee.employmentPeriodType==="\u6709\u671F")("ngClass",D(3,V,e.isEditContract&&e.employee.employmentPeriodType==="\u6709\u671F"&&!e.employee.employmentPeriodEnd))}}function Vt(n,o){if(n&1&&(l(0,"span",15),r(1),i()),n&2){let e=p(2);s(),h((e.employee==null?null:e.employee.employmentPeriodRenewal)||"---")}}function Lt(n,o){if(n&1){let e=C();l(0,"span",15)(1,"label",66)(2,"input",67),w("ngModelChange",function(a){c(e);let u=p(2);return S(u.employee.employmentPeriodRenewal,a)||(u.employee.employmentPeriodRenewal=a),y(a)}),i(),r(3," \u66F4\u65B0\u3042\u308A "),i(),l(4,"label")(5,"input",68),w("ngModelChange",function(a){c(e);let u=p(2);return S(u.employee.employmentPeriodRenewal,a)||(u.employee.employmentPeriodRenewal=a),y(a)}),i(),r(6," \u66F4\u65B0\u306A\u3057 "),i()()}if(n&2){let e=p(2);s(2),b("ngModel",e.employee.employmentPeriodRenewal),s(3),b("ngModel",e.employee.employmentPeriodRenewal)}}function Nt(n,o){if(n&1&&(l(0,"div",13)(1,"span",14),r(2,"\u5951\u7D04\u66F4\u65B0"),i(),f(3,Vt,2,1,"span",16)(4,Lt,7,2,"span",16),i()),n&2){let e=p();s(3),d("ngIf",!e.isEditContract),s(),d("ngIf",e.isEditContract)}}function Wt(n,o){if(n&1&&(l(0,"span",15),r(1),i()),n&2){let e=p();s(),h((e.employee==null?null:e.employee.workDays)!==void 0&&(e.employee==null?null:e.employee.workDays)!==null&&(e.employee==null?null:e.employee.workDays)!==""?(e.employee==null?null:e.employee.workDays)+"\u65E5":"---")}}function Rt(n,o){if(n&1){let e=C();l(0,"input",69),w("ngModelChange",function(a){c(e);let u=p();return S(u.employee.workDays,a)||(u.employee.workDays=a),y(a)}),i()}if(n&2){let e=p();b("ngModel",e.employee.workDays),d("ngClass",D(3,V,e.isEditContract&&(e.employee.workDays===void 0||e.employee.workDays===null||e.employee.workDays==="")))("disabled",e.isSeishain)}}function Kt(n,o){if(n&1&&(l(0,"span",15),r(1),i()),n&2){let e=p();s(),h((e.employee==null?null:e.employee.workHours)!==void 0&&(e.employee==null?null:e.employee.workHours)!==null&&(e.employee==null?null:e.employee.workHours)!==""?(e.employee==null?null:e.employee.workHours)+"\u6642\u9593":"---")}}function Ht(n,o){if(n&1){let e=C();l(0,"input",69),w("ngModelChange",function(a){c(e);let u=p();return S(u.employee.workHours,a)||(u.employee.workHours=a),y(a)}),i()}if(n&2){let e=p();b("ngModel",e.employee.workHours),d("ngClass",D(3,V,e.isEditContract&&(e.employee.workHours===void 0||e.employee.workHours===null||e.employee.workHours==="")))("disabled",e.isSeishain)}}function zt(n,o){if(n&1&&(l(0,"span",15),r(1),g(2,"number"),i()),n&2){let e=p();s(),h((e.employee==null?null:e.employee.baseSalary)!=null&&(e.employee==null?null:e.employee.baseSalary)!==""?_(2,1,e.employee.baseSalary,"1.0-0")+"\u5186":"---")}}function Gt(n,o){if(n&1){let e=C();l(0,"input",70),w("ngModelChange",function(a){c(e);let u=p();return S(u.employee.baseSalary,a)||(u.employee.baseSalary=a),y(a)}),i()}if(n&2){let e=p();b("ngModel",e.employee.baseSalary),d("ngClass",D(2,V,e.isEditPersonal&&(e.employee.baseSalary===void 0||e.employee.baseSalary===null||e.employee.baseSalary==="")))}}function Qt(n,o){if(n&1){let e=C();l(0,"button",59),x("click",function(){c(e);let a=p();return y(a.toggleEditOther())}),r(1,"\u7DE8\u96C6"),i()}if(n&2){let e=p();d("disabled",e.employee==null?null:e.employee.isLostQualification)("ngClass",D(2,oe,e.employee==null?null:e.employee.isLostQualification))}}function jt(n,o){if(n&1){let e=C();Q(0),l(1,"button",49),x("click",function(){c(e);let a=p();return y(a.saveOtherInfo())}),r(2,"\u4FDD\u5B58"),i(),l(3,"button",48),x("click",function(){c(e);let a=p();return y(a.cancelEditOther())}),r(4,"\u30AD\u30E3\u30F3\u30BB\u30EB"),i(),j()}if(n&2){let e=p();s(),d("disabled",!e.isOtherValid())}}function Yt(n,o){if(n&1&&(l(0,"span",15),r(1),i()),n&2){let e=p();s(),h((e.employee==null?null:e.employee.dependentStatus)||"---")}}function qt(n,o){if(n&1){let e=C();l(0,"select",71),w("ngModelChange",function(a){c(e);let u=p();return S(u.employee.dependentStatus,a)||(u.employee.dependentStatus=a),y(a)}),x("change",function(){c(e);let a=p();return y(a.onDependentStatusChange())}),l(1,"option",72),r(2,"\u88AB\u6276\u990A\u8005\u3042\u308A"),i(),l(3,"option",73),r(4,"\u88AB\u6276\u990A\u8005\u306A\u3057"),i()()}if(n&2){let e=p();b("ngModel",e.employee.dependentStatus)}}function Ut(n,o){if(n&1&&(Q(0),r(1),j()),n&2){let e=p(2);s(),E(" ",!(e.employee==null||e.employee.dependentRelations==null)&&e.employee.dependentRelations.length?e.employee.dependentRelations.join("\u3001"):"---"," ")}}function $t(n,o){if(n&1&&r(0),n&2){let e=p(2);h((e.employee==null?null:e.employee.dependentRelations)||"---")}}function Jt(n,o){if(n&1&&(l(0,"span",15),f(1,Ut,2,1,"ng-container",41)(2,$t,1,1,"ng-template",null,2,me),i()),n&2){let e=pe(3),t=p();s(),d("ngIf",t.isArray(t.employee==null?null:t.employee.dependentRelations))("ngIfElse",e)}}function Zt(n,o){if(n&1){let e=C();l(0,"div",78)(1,"input",79),w("ngModelChange",function(a){let u=c(e).index,m=p(2);return S(m.employee.dependentRelations[u],a)||(m.employee.dependentRelations[u]=a),y(a)}),i()()}if(n&2){let e=o.index,t=p(2);s(),b("ngModel",t.employee.dependentRelations[e]),d("ngClass",D(2,V,t.isEditOther&&t.employee.dependentStatus==="\u88AB\u6276\u990A\u8005\u3042\u308A"&&!t.employee.dependentRelations[e]))}}function Xt(n,o){if(n&1){let e=C();l(0,"div"),f(1,Zt,2,4,"div",74),l(2,"div",75)(3,"button",76),x("click",function(){c(e);let a=p();return y(a.addDependentRelation())}),r(4,"\u8FFD\u52A0"),i(),l(5,"button",77),x("click",function(){c(e);let a=p();return y(a.removeDependentRelation(a.employee.dependentRelations.length-1))}),r(6,"\u524A\u9664"),i()()()}if(n&2){let e=p();s(),d("ngForOf",e.employee.dependentRelations),s(4),d("disabled",e.employee.dependentRelations.length===1)}}function en(n,o){n&1&&(l(0,"span",15),r(1,"---"),i())}function tn(n,o){if(n&1&&(l(0,"span",15),r(1),i()),n&2){let e=p();s(),h((e.employee==null?null:e.employee.isStudent)||"---")}}function nn(n,o){if(n&1){let e=C();l(0,"select",80),w("ngModelChange",function(a){c(e);let u=p();return S(u.employee.isStudent,a)||(u.employee.isStudent=a),y(a)}),l(1,"option",81),r(2,"\u5B66\u751F"),i(),l(3,"option",82),r(4,"\u5B66\u751F\u3067\u306F\u306A\u3044"),i()()}if(n&2){let e=p();b("ngModel",e.employee.isStudent)}}function on(n,o){if(n&1&&(l(0,"span",15),r(1),i()),n&2){let e=p();s(),h((e.employee==null?null:e.employee.dispatchedAbroad)||"---")}}function an(n,o){if(n&1){let e=C();l(0,"select",71),w("ngModelChange",function(a){c(e);let u=p();return S(u.employee.dispatchedAbroad,a)||(u.employee.dispatchedAbroad=a),y(a)}),x("change",function(){c(e);let a=p();return y(a.onDispatchedAbroadChange())}),l(1,"option",83),r(2,"\u8A72\u5F53\u3057\u306A\u3044"),i(),l(3,"option",84),r(4,"\u65E5\u672C\u304B\u3089\u5916\u56FD\u3078\u306E\u6D3E\u9063\u52B4\u50CD\u8005"),i(),l(5,"option",85),r(6,"\u5916\u56FD\u304B\u3089\u65E5\u672C\u3078\u306E\u6D3E\u9063\u52B4\u50CD\u8005"),i()()}if(n&2){let e=p();b("ngModel",e.employee.dispatchedAbroad)}}function ln(n,o){if(n&1){let e=C();l(0,"div",13)(1,"span",14),r(2,"\u793E\u4F1A\u4FDD\u969C\u5354\u5B9A\u56FD"),i(),l(3,"select",60),w("ngModelChange",function(a){c(e);let u=p();return S(u.employee.socialSecurityAgreement,a)||(u.employee.socialSecurityAgreement=a),y(a)}),l(4,"option",55),r(5,"\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044"),i(),l(6,"option",86),r(7,"\u8A72\u5F53\u3059\u308B"),i(),l(8,"option",83),r(9,"\u8A72\u5F53\u3057\u306A\u3044"),i()()()}if(n&2){let e=p();s(3),b("ngModel",e.employee.socialSecurityAgreement),d("ngClass",D(2,V,e.isEditOther&&e.employee.dispatchedAbroad!=="\u8A72\u5F53\u3057\u306A\u3044"&&!e.employee.socialSecurityAgreement))}}function rn(n,o){if(n&1){let e=C();l(0,"div",13)(1,"span",14),r(2,"\u4E00\u6642\u6D3E\u9063\uFF085\u5E74\u4EE5\u5185\uFF09"),i(),l(3,"select",60),w("ngModelChange",function(a){c(e);let u=p();return S(u.employee.temporaryDispatch,a)||(u.employee.temporaryDispatch=a),y(a)}),l(4,"option",55),r(5,"\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044"),i(),l(6,"option",86),r(7,"\u8A72\u5F53\u3059\u308B"),i(),l(8,"option",83),r(9,"\u8A72\u5F53\u3057\u306A\u3044"),i()()()}if(n&2){let e=p();s(3),b("ngModel",e.employee.temporaryDispatch),d("ngClass",D(2,V,e.isEditOther&&e.employee.dispatchedAbroad!=="\u8A72\u5F53\u3057\u306A\u3044"&&e.employee.socialSecurityAgreement==="\u8A72\u5F53\u3059\u308B"&&!e.employee.temporaryDispatch))}}function sn(n,o){if(n&1&&(l(0,"div",13)(1,"span",14),r(2,"\u793E\u4F1A\u4FDD\u969C\u5354\u5B9A\u56FD"),i(),l(3,"span",15),r(4),i()()),n&2){let e=p();s(4),h(e.employee!=null&&e.employee.socialSecurityAgreement?e.employee.socialSecurityAgreement:"---")}}function un(n,o){if(n&1&&(l(0,"div",13)(1,"span",14),r(2,"\u4E00\u6642\u6D3E\u9063\uFF085\u5E74\u4EE5\u5185\uFF09"),i(),l(3,"span",15),r(4),i()()),n&2){let e=p();s(4),h(e.employee!=null&&e.employee.temporaryDispatch?e.employee.temporaryDispatch:"---")}}function pn(n,o){if(n&1&&(l(0,"span",15),r(1),i()),n&2){let e=p();s(),h((e.employee==null?null:e.employee.multiOffice)||"---")}}function dn(n,o){if(n&1){let e=C();l(0,"select",71),w("ngModelChange",function(a){c(e);let u=p();return S(u.employee.multiOffice,a)||(u.employee.multiOffice=a),y(a)}),x("change",function(){c(e);let a=p();return y(a.onMultiOfficeChange())}),l(1,"option",86),r(2,"\u8A72\u5F53\u3059\u308B"),i(),l(3,"option",83),r(4,"\u8A72\u5F53\u3057\u306A\u3044"),i()()}if(n&2){let e=p();b("ngModel",e.employee.multiOffice)}}function mn(n,o){if(n&1){let e=C();l(0,"div",13)(1,"span",14),r(2,"\u9078\u629E\u4E8B\u696D\u6240\uFF0F\u975E\u9078\u629E\u4E8B\u696D\u6240"),i(),l(3,"select",60),w("ngModelChange",function(a){c(e);let u=p();return S(u.employee.selectedOfficeType,a)||(u.employee.selectedOfficeType=a),y(a)}),l(4,"option",55),r(5,"\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044"),i(),l(6,"option",87),r(7,"\u9078\u629E\u4E8B\u696D\u6240"),i(),l(8,"option",88),r(9,"\u975E\u9078\u629E\u4E8B\u696D\u6240"),i()()()}if(n&2){let e=p();s(3),b("ngModel",e.employee.selectedOfficeType),d("ngClass",D(2,V,e.isEditOther&&e.employee.multiOffice==="\u8A72\u5F53\u3059\u308B"&&!e.employee.selectedOfficeType))}}function cn(n,o){if(n&1&&(l(0,"div",13)(1,"span",14),r(2,"\u9078\u629E\u4E8B\u696D\u6240\uFF0F\u975E\u9078\u629E\u4E8B\u696D\u6240"),i(),l(3,"span",15),r(4),i()()),n&2){let e=p();s(4),h(e.employee!=null&&e.employee.selectedOfficeType?e.employee.selectedOfficeType:"---")}}function yn(n,o){if(n&1){let e=C();l(0,"div",89),r(1," \u203B\u80B2\u4F11\u30FB\u7523\u4F11\u4E2D\u306E\u305F\u3081\u3001\u793E\u4F1A\u4FDD\u967A\u514D\u9664\u203B"),U(2,"br"),l(3,"span",90),r(4),l(5,"button",91),x("click",function(){c(e);let a=p();return y(a.onEditMaternityLeaveDates())}),r(6,"\u7DE8\u96C6"),i()()()}if(n&2){let e=p();s(4),de(" \u958B\u59CB\u5E74\u6708\u65E5: ",e.employee.maternityLeaveStartDate||"---","\u3000\u7D42\u4E86\u5E74\u6708\u65E5: ",e.employee.maternityLeaveEndDate||"---"," ")}}function fn(n,o){n&1&&(l(0,"div",98),r(1," \u793E\u4F1A\u4FDD\u967A\u52A0\u5165\u5BFE\u8C61\u5916\u3067\u3059 "),i())}function hn(n,o){if(n&1&&(Q(0),l(1,"table",99)(2,"thead")(3,"tr"),U(4,"th"),l(5,"th"),r(6,"\u5168\u984D"),i(),l(7,"th"),r(8,"\u4F1A\u793E\u8CA0\u62C5"),i(),l(9,"th"),r(10,"\u5F93\u696D\u54E1\u8CA0\u62C5"),i()()(),l(11,"tbody")(12,"tr")(13,"th"),r(14,"\u5065\u5EB7\u4FDD\u967A"),i(),l(15,"td"),r(16),g(17,"number"),i(),l(18,"td"),r(19),g(20,"number"),i(),l(21,"td"),r(22),g(23,"number"),i()(),l(24,"tr")(25,"th"),r(26,"\u4ECB\u8B77\u4FDD\u967A"),i(),l(27,"td"),r(28),g(29,"number"),i(),l(30,"td"),r(31),g(32,"number"),i(),l(33,"td"),r(34),g(35,"number"),i()(),l(36,"tr")(37,"th"),r(38,"\u539A\u751F\u5E74\u91D1"),i(),l(39,"td"),r(40),g(41,"number"),i(),l(42,"td"),r(43),g(44,"number"),i(),l(45,"td"),r(46),g(47,"number"),i()(),l(48,"tr")(49,"th"),r(50,"\u5408\u8A08"),i(),l(51,"td"),r(52),g(53,"number"),i(),l(54,"td"),r(55),g(56,"number"),i(),l(57,"td"),r(58),g(59,"number"),i()()()(),j()),n&2){let e=p(2);s(16),E("",e.latestInsurance!=null&&e.latestInsurance.healthInsuranceTotal?_(17,12,e.latestInsurance.healthInsuranceTotal,"1.0-0"):"---","\u5186"),s(3),E("",e.latestInsurance!=null&&e.latestInsurance.healthInsuranceCompany?_(20,15,e.latestInsurance.healthInsuranceCompany,"1.0-0"):"---","\u5186"),s(3),E("",e.latestInsurance!=null&&e.latestInsurance.healthInsuranceEmployee?_(23,18,e.latestInsurance.healthInsuranceEmployee,"1.0-0"):"---","\u5186"),s(6),E("",e.latestInsurance!=null&&e.latestInsurance.careInsuranceTotal?_(29,21,e.latestInsurance.careInsuranceTotal,"1.0-0"):"---","\u5186"),s(3),E("",e.latestInsurance!=null&&e.latestInsurance.careInsuranceCompany?_(32,24,e.latestInsurance.careInsuranceCompany,"1.0-0"):"---","\u5186"),s(3),E("",e.latestInsurance!=null&&e.latestInsurance.careInsuranceEmployee?_(35,27,e.latestInsurance.careInsuranceEmployee,"1.0-0"):"---","\u5186"),s(6),E("",e.latestInsurance!=null&&e.latestInsurance.pensionInsuranceTotal?_(41,30,e.latestInsurance.pensionInsuranceTotal,"1.0-0"):"---","\u5186"),s(3),E("",e.latestInsurance!=null&&e.latestInsurance.pensionInsuranceCompany?_(44,33,e.latestInsurance.pensionInsuranceCompany,"1.0-0"):"---","\u5186"),s(3),E("",e.latestInsurance!=null&&e.latestInsurance.pensionInsuranceEmployee?_(47,36,e.latestInsurance.pensionInsuranceEmployee,"1.0-0"):"---","\u5186"),s(6),E("",e.latestInsurance!=null&&e.latestInsurance.total?_(53,39,e.latestInsurance.total,"1.0-0"):"---","\u5186"),s(3),E("",e.latestInsurance!=null&&e.latestInsurance.totalCompany?_(56,42,e.latestInsurance.totalCompany,"1.0-0"):"---","\u5186"),s(3),E("",e.latestInsurance!=null&&e.latestInsurance.totalEmployee?_(59,45,e.latestInsurance.totalEmployee,"1.0-0"):"---","\u5186")}}function gn(n,o){if(n&1&&(Q(0),l(1,"div")(2,"div"),r(3),i(),l(4,"div"),r(5),i(),l(6,"div"),r(7),g(8,"json"),i()(),j()),n&2){let e=p(2);s(3),E("insurancesLoaded: ",e.insurancesLoaded,""),s(2),E("isSocialInsuranceExcludedByInsurance: ",e.isSocialInsuranceExcludedByInsurance,""),s(2),E("insurancesList: ",Ne(8,3,e.insurancesList),"")}}function _n(n,o){if(n&1){let e=C();l(0,"span",100)(1,"label"),r(2,"\u958B\u59CB\u5E74\u6708\u65E5 "),l(3,"input",101),w("ngModelChange",function(a){c(e);let u=p(2);return S(u.maternityLeaveStart,a)||(u.maternityLeaveStart=a),y(a)}),i()(),l(4,"label"),r(5,"\u7D42\u4E86\u5E74\u6708\u65E5 "),l(6,"input",102),w("ngModelChange",function(a){c(e);let u=p(2);return S(u.maternityLeaveEnd,a)||(u.maternityLeaveEnd=a),y(a)}),i()(),l(7,"button",103),x("click",function(){c(e);let a=p(2);return y(a.onSaveMaternityLeave())}),r(8,"\u4FDD\u5B58"),i(),l(9,"button",104),x("click",function(){c(e);let a=p(2);return y(a.onCancelMaternityLeaveInput())}),r(10,"\u30AD\u30E3\u30F3\u30BB\u30EB"),i()()}if(n&2){let e=p(2);s(3),b("ngModel",e.maternityLeaveStart),s(3),b("ngModel",e.maternityLeaveEnd)}}function Cn(n,o){if(n&1){let e=C();l(0,"button",105),x("click",function(){c(e);let a=p(2);return y(a.onMaternityLeave())}),r(1,"\u80B2\u4F11\u30FB\u7523\u4F11 "),i()}if(n&2){let e=p(2);d("disabled",e.isMaternityLeaveButtonDisabled||(e.employee==null?null:e.employee.isLostQualification))("ngClass",D(2,oe,e.isMaternityLeaveButtonDisabled||(e.employee==null?null:e.employee.isLostQualification)))}}function xn(n,o){if(n&1){let e=C();Q(0),f(1,fn,2,0,"div",92)(2,hn,60,48,"ng-container",12)(3,gn,9,5,"ng-container",12)(4,_n,11,2,"span",93),l(5,"div",94)(6,"button",95),x("click",function(){c(e);let a=p();return y(a.goToCalculate())}),r(7,"\u8A08\u7B97\u7D50\u679C\u8A73\u7D30"),i(),f(8,Cn,2,4,"button",96),l(9,"button",97),x("click",function(){c(e);let a=p();return y(a.goToHistory())}),r(10,"\u5C65\u6B74"),i()(),j()}if(n&2){let e=p();s(),d("ngIf",e.insurancesLoaded&&(e.latestInsurance==null?null:e.latestInsurance.isInsuranceTarget)===!1),s(),d("ngIf",e.insurancesList.length>0),s(),d("ngIf",e.insurancesList.length===0),s(),d("ngIf",e.showMaternityLeaveInputs),s(2),d("disabled",e.employee==null?null:e.employee.isLostQualification)("ngClass",D(7,oe,e.employee==null?null:e.employee.isLostQualification)),s(2),d("ngIf",!e.employee.onMaternityLeave)}}function En(n,o){if(n&1){let e=C();l(0,"button",59),x("click",function(){c(e);let a=p();return y(a.toggleEditInsurance())}),r(1,"\u7DE8\u96C6"),i()}if(n&2){let e=p();d("disabled",e.employee==null?null:e.employee.isLostQualification)("ngClass",D(2,oe,e.employee==null?null:e.employee.isLostQualification))}}function bn(n,o){if(n&1){let e=C();Q(0),l(1,"button",49),x("click",function(){c(e);let a=p();return y(a.saveInsuranceInfo())}),r(2,"\u4FDD\u5B58"),i(),l(3,"button",48),x("click",function(){c(e);let a=p();return y(a.cancelEditInsurance())}),r(4,"\u30AD\u30E3\u30F3\u30BB\u30EB"),i(),j()}if(n&2){let e=p();s(),d("disabled",!e.isInsuranceValid())}}function Sn(n,o){if(n&1&&(l(0,"span",15),r(1),g(2,"number"),i()),n&2){let e=p();s(),h((e.latestInsurance==null?null:e.latestInsurance.isInsuranceTarget)===!1?"---":e.latestStandard!=null&&e.latestStandard.kenpoStandardMonthly?_(2,1,e.latestStandard.kenpoStandardMonthly,"1.0-0")+"\u5186":"---")}}function wn(n,o){if(n&1&&(l(0,"span",15),r(1),g(2,"number"),i()),n&2){let e=p();s(),h(e.latestStandard!=null&&e.latestStandard.kenpoStandardMonthly?_(2,1,e.latestStandard.kenpoStandardMonthly,"1.0-0")+"\u5186":"---")}}function In(n,o){if(n&1&&(l(0,"div",13)(1,"span",14),r(2,"\u5909\u66F4\u5F8C\u306E\u6A19\u6E96\u5831\u916C\u6708\u984D\uFF08\u5065\u5EB7\u4FDD\u967A\u30FB\u4ECB\u8B77\u4FDD\u967A\uFF09"),i(),l(3,"span",106),r(4),g(5,"number"),i()()),n&2){let e=p();s(4),h(e.employee.stdSalaryHealth?_(5,1,e.employee.stdSalaryHealth,"1.0-0")+"\u5186":"---")}}function Dn(n,o){if(n&1&&(l(0,"span",15),r(1),i()),n&2){let e=p();s(),h((e.latestInsurance==null?null:e.latestInsurance.isInsuranceTarget)===!1?"---":(e.latestStandard==null?null:e.latestStandard.kenpoGrade)||"---")}}function vn(n,o){if(n&1&&(l(0,"span",15),r(1),i()),n&2){let e=p();s(),h((e.latestStandard==null?null:e.latestStandard.kenpoGrade)||"---")}}function Mn(n,o){if(n&1&&(l(0,"div",13)(1,"span",14),r(2,"\u5909\u66F4\u5F8C\u306E\u7B49\u7D1A\uFF08\u5065\u5EB7\u4FDD\u967A\u30FB\u4ECB\u8B77\u4FDD\u967A\uFF09"),i(),l(3,"span",106),r(4),i()()),n&2){let e=p();s(4),h(e.employee.stdSalaryHealthGrade||"---")}}function Bn(n,o){if(n&1&&(l(0,"span",15),r(1),g(2,"number"),i()),n&2){let e=p();s(),h((e.latestInsurance==null?null:e.latestInsurance.isInsuranceTarget)===!1?"---":e.latestStandard!=null&&e.latestStandard.nenkinStandardMonthly?_(2,1,e.latestStandard.nenkinStandardMonthly,"1.0-0")+"\u5186":"---")}}function Fn(n,o){if(n&1&&(l(0,"span",15),r(1),g(2,"number"),i()),n&2){let e=p();s(),h(e.latestStandard!=null&&e.latestStandard.nenkinStandardMonthly?_(2,1,e.latestStandard.nenkinStandardMonthly,"1.0-0")+"\u5186":"---")}}function An(n,o){if(n&1&&(l(0,"div",13)(1,"span",14),r(2,"\u5909\u66F4\u5F8C\u306E\u6A19\u6E96\u5831\u916C\u6708\u984D\uFF08\u539A\u751F\u5E74\u91D1\uFF09"),i(),l(3,"span",106),r(4),g(5,"number"),i()()),n&2){let e=p();s(4),h(e.employee.stdSalaryPension?_(5,1,e.employee.stdSalaryPension,"1.0-0")+"\u5186":"---")}}function kn(n,o){if(n&1&&(l(0,"span",15),r(1),i()),n&2){let e=p();s(),h((e.latestInsurance==null?null:e.latestInsurance.isInsuranceTarget)===!1?"---":(e.latestStandard==null?null:e.latestStandard.nenkinGrade)||"---")}}function Tn(n,o){if(n&1&&(l(0,"span",15),r(1),i()),n&2){let e=p();s(),h((e.latestStandard==null?null:e.latestStandard.nenkinGrade)||"---")}}function Pn(n,o){if(n&1&&(l(0,"div",13)(1,"span",14),r(2,"\u5909\u66F4\u5F8C\u306E\u7B49\u7D1A\uFF08\u539A\u751F\u5E74\u91D1\uFF09"),i(),l(3,"span",106),r(4),i()()),n&2){let e=p();s(4),h(e.employee.stdSalaryPensionGrade||"---")}}function On(n,o){if(n&1&&(l(0,"span",15),r(1),g(2,"date"),i()),n&2){let e=p();s(),h((e.latestInsurance==null?null:e.latestInsurance.isInsuranceTarget)===!1?"---":e.latestStandard!=null&&e.latestStandard.lastRevisionMonth?_(2,1,e.latestStandard.lastRevisionMonth,"yyyy-MM"):"---")}}function Vn(n,o){if(n&1&&(l(0,"span",15),r(1),g(2,"date"),i()),n&2){let e=p();s(),h(e.latestStandard!=null&&e.latestStandard.lastRevisionMonth?_(2,1,e.latestStandard.lastRevisionMonth,"yyyy-MM"):"---")}}function Ln(n,o){if(n&1){let e=C();l(0,"div",13)(1,"span",14),r(2,"\u5909\u66F4\u5F8C\u306E\u6A19\u6E96\u5831\u916C\u6708\u984D\u6700\u7D42\u6539\u5B9A\u6708"),l(3,"span",64),r(4,"*"),i()(),l(5,"input",107),w("ngModelChange",function(a){c(e);let u=p();return S(u.employee.updatedStdSalaryMonth,a)||(u.employee.updatedStdSalaryMonth=a),y(a)}),i()()}if(n&2){let e=p();s(5),b("ngModel",e.employee.updatedStdSalaryMonth)}}function Nn(n,o){if(n&1&&(l(0,"span",15),r(1),i()),n&2){let e=p();s(),h((e.latestInsurance==null?null:e.latestInsurance.isInsuranceTarget)===!1?"---":(e.latestStandard==null?null:e.latestStandard.revisionType)||"---")}}function Wn(n,o){if(n&1&&(l(0,"span",15),r(1),i()),n&2){let e=p();s(),h((e.latestStandard==null?null:e.latestStandard.revisionType)||"---")}}function Rn(n,o){if(n&1){let e=C();l(0,"div",13)(1,"span",14),r(2,"\u5909\u66F4\u5F8C\u306E\u6539\u5B9A\u7A2E\u5225"),l(3,"span",64),r(4,"*"),i()(),l(5,"select",108),w("ngModelChange",function(a){c(e);let u=p();return S(u.employee.updatedRevisionType,a)||(u.employee.updatedRevisionType=a),y(a)}),l(6,"option",109),r(7,"\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044"),i(),l(8,"option",110),r(9,"\u8CC7\u683C\u53D6\u5F97\u6642"),i(),l(10,"option",111),r(11,"\u5B9A\u6642\u6C7A\u5B9A"),i(),l(12,"option",112),r(13,"\u968F\u6642\u6539\u5B9A"),i(),l(14,"option",113),r(15,"\u80B2\u5150\u4F11\u696D\u7B49\u3092\u7D42\u4E86\u3057\u305F\u969B\u306E\u6539\u5B9A"),i()()()}if(n&2){let e=p();s(5),b("ngModel",e.employee.updatedRevisionType)}}function Kn(n,o){n&1&&(l(0,"span",64),r(1,"*"),i())}function Hn(n,o){if(n&1&&(l(0,"span",15),r(1),g(2,"number"),i()),n&2){let e=p();s(),h((e.latestInsurance==null?null:e.latestInsurance.isInsuranceTarget)===!1?"---":e.employee!=null&&e.employee.salaryCash?_(2,1,e.employee==null?null:e.employee.salaryCash,"1.0-0")+"\u5186":"0\u5186")}}function zn(n,o){if(n&1){let e=C();l(0,"input",114),w("ngModelChange",function(a){c(e);let u=p();return S(u.employee.salaryCash,a)||(u.employee.salaryCash=a),y(a)}),x("ngModelChange",function(){c(e);let a=p();return y(a.updateSalaryTotal())}),i()}if(n&2){let e=p();b("ngModel",e.employee.salaryCash),d("ngClass",D(2,V,e.isEditInsurance&&!e.hasAnySalary()&&!e.employee.salaryInKind))}}function Gn(n,o){if(n&1&&(l(0,"span",15),r(1),g(2,"number"),i()),n&2){let e=p();s(),h((e.latestInsurance==null?null:e.latestInsurance.isInsuranceTarget)===!1?"---":e.employee!=null&&e.employee.salaryInKind?_(2,1,e.employee==null?null:e.employee.salaryInKind,"1.0-0")+"\u5186":"0\u5186")}}function Qn(n,o){if(n&1){let e=C();l(0,"input",70),w("ngModelChange",function(a){c(e);let u=p();return S(u.employee.salaryInKind,a)||(u.employee.salaryInKind=a),y(a)}),x("ngModelChange",function(){c(e);let a=p();return y(a.updateSalaryTotal())}),i()}if(n&2){let e=p();b("ngModel",e.employee.salaryInKind),d("ngClass",D(2,V,e.isEditInsurance&&!e.hasAnySalary()&&!e.employee.salaryCash))}}function jn(n,o){if(n&1&&(l(0,"span",15),r(1),g(2,"number"),i()),n&2){let e=p();s(),h((e.latestInsurance==null?null:e.latestInsurance.isInsuranceTarget)===!1?"---":e.employee!=null&&e.employee.salaryTotal?_(2,1,e.employee==null?null:e.employee.salaryTotal,"1.0-0")+"\u5186":"---")}}function Yn(n,o){if(n&1&&U(0,"input",115),n&2){let e=p();d("ngModel",e.employee.salaryTotal)("readonly",!0)("ngClass",D(3,V,e.isEditInsurance&&e.isEmptyOrZero(e.employee.salaryTotal)))}}function qn(n,o){if(n&1){let e=C();Q(0),l(1,"input",116),w("ngModelChange",function(a){c(e);let u=p();return S(u.latestStandard.joinDate,a)||(u.latestStandard.joinDate=a),y(a)}),i(),j()}if(n&2){let e=p();s(),b("ngModel",e.latestStandard.joinDate)}}function Un(n,o){if(n&1&&(r(0),g(1,"date")),n&2){let e=p();E(" ",(e.latestInsurance==null?null:e.latestInsurance.isInsuranceTarget)===!1?"---":e.latestStandard!=null&&e.latestStandard.joinDate?_(1,1,e.latestStandard.joinDate,"yyyy-MM-dd"):"---"," ")}}function $n(n,o){n&1&&Le(0)}function Jn(n,o){if(n&1&&(r(0),g(1,"date")),n&2){let e=p();E(" ",(e.latestInsurance==null?null:e.latestInsurance.isInsuranceTarget)===!1?"---":e.latestStandard!=null&&e.latestStandard.leaveDate?_(1,1,e.latestStandard.leaveDate,"yyyy-MM-dd"):"---"," ")}}function Zn(n,o){if(n&1){let e=C();l(0,"div",13)(1,"span",14),r(2,"\u539A\u751F\u5E74\u91D1\u9AD8\u9F62\u4EFB\u610F\u52A0\u5165"),i(),l(3,"select",80),w("ngModelChange",function(a){c(e);let u=p();return S(u.employee.seniorVoluntaryEnrollment,a)||(u.employee.seniorVoluntaryEnrollment=a),y(a)}),l(4,"option",117),r(5,"\u3059\u308B"),i(),l(6,"option",118),r(7,"\u3057\u306A\u3044"),i()(),l(8,"button",119),x("click",function(){c(e);let a=p();return y(a.confirmSeniorVoluntaryEnrollment())}),r(9,"\u6C7A\u5B9A"),i()()}if(n&2){let e=p();s(3),b("ngModel",e.employee.seniorVoluntaryEnrollment)}}function Xn(n,o){n&1&&(l(0,"div",120),r(1," \u203B\u5831\u916C\u6708\u984D\u306F\u3001\u5951\u7D04\u60C5\u5831\u5909\u66F4\u6642\u3067\u306F\u306A\u304F\u6A19\u6E96\u5831\u916C\u6708\u984D\uFF08\u7B49\u7D1A\uFF09\u6539\u5B9A\u6642\u306B\u7DE8\u96C6\u3057\u3066\u304F\u3060\u3055\u3044\u3002 "),i())}function ei(n,o){if(n&1&&(l(0,"span",15),r(1),g(2,"number"),i()),n&2){let e=p(2);s(),h(e.employee!=null&&e.employee.combinedSalary?_(2,1,e.employee.combinedSalary,"1.0-0")+"\u5186":"---")}}function ti(n,o){if(n&1){let e=C();l(0,"span",125)(1,"input",126),w("ngModelChange",function(a){c(e);let u=p(2);return S(u.tempCombinedSalary,a)||(u.tempCombinedSalary=a),y(a)}),x("ngModelChange",function(){c(e);let a=p(2);return y(a.onTempCombinedSalaryChange())}),i()()}if(n&2){let e=p(2);s(),b("ngModel",e.tempCombinedSalary)}}function ni(n,o){if(n&1&&(l(0,"div",13)(1,"span",14),r(2,"\u5909\u66F4\u5F8C\u306E\u5408\u7B97\u6A19\u6E96\u5831\u916C\u6708\u984D\uFF08\u5065\u5EB7\u4FDD\u967A\u30FB\u4ECB\u8B77\u4FDD\u967A\uFF09"),i(),l(3,"span",106),r(4),g(5,"number"),i()()),n&2){let e=p(2);s(4),h(e.tempCombinedKenpoStandardMonthly!=null?_(5,1,e.tempCombinedKenpoStandardMonthly,"1.0-0")+"\u5186":"---")}}function ii(n,o){if(n&1&&(l(0,"div",13)(1,"span",14),r(2,"\u5909\u66F4\u5F8C\u306E\u5408\u7B97\u7B49\u7D1A\uFF08\u5065\u5EB7\u4FDD\u967A\u30FB\u4ECB\u8B77\u4FDD\u967A\uFF09"),i(),l(3,"span",106),r(4),i()()),n&2){let e=p(2);s(4),h(e.tempCombinedKenpoGrade||"---")}}function oi(n,o){if(n&1&&(l(0,"div",13)(1,"span",14),r(2,"\u5909\u66F4\u5F8C\u306E\u5408\u7B97\u6A19\u6E96\u5831\u916C\u6708\u984D\uFF08\u539A\u751F\u5E74\u91D1\uFF09"),i(),l(3,"span",106),r(4),g(5,"number"),i()()),n&2){let e=p(2);s(4),h(e.tempCombinedNenkinStandardMonthly!=null?_(5,1,e.tempCombinedNenkinStandardMonthly,"1.0-0")+"\u5186":"---")}}function ai(n,o){if(n&1&&(l(0,"div",13)(1,"span",14),r(2,"\u5909\u66F4\u5F8C\u306E\u5408\u7B97\u7B49\u7D1A\uFF08\u539A\u751F\u5E74\u91D1\uFF09"),i(),l(3,"span",106),r(4),i()()),n&2){let e=p(2);s(4),h(e.tempCombinedNenkinGrade||"---")}}function li(n,o){if(n&1){let e=C();l(0,"span",127)(1,"button",128),x("click",function(){c(e);let a=p(2);return y(a.saveCombinedSalary())}),r(2,"\u4FDD\u5B58"),i()()}if(n&2){let e=p(2);s(),d("disabled",e.employee==null?null:e.employee.isLostQualification)("ngClass",D(2,oe,e.employee==null?null:e.employee.isLostQualification))}}function ri(n,o){if(n&1){let e=C();l(0,"div",121)(1,"div",13)(2,"span",14),r(3,"\u5408\u7B97\u5831\u916C\u6708\u984D\uFF08\u901A\u8CA8\uFF0B\u73FE\u7269\uFF09"),i(),f(4,ei,3,4,"span",16)(5,ti,2,1,"span",122),i(),l(6,"div",13)(7,"span",14),r(8,"\u5408\u7B97\u6A19\u6E96\u5831\u916C\u6708\u984D\uFF08\u5065\u5EB7\u4FDD\u967A\u30FB\u4ECB\u8B77\u4FDD\u967A\uFF09"),i(),l(9,"span",15),r(10),g(11,"number"),i()(),f(12,ni,6,4,"div",29),l(13,"div",13)(14,"span",14),r(15,"\u5408\u7B97\u7B49\u7D1A\uFF08\u5065\u5EB7\u4FDD\u967A\u30FB\u4ECB\u8B77\u4FDD\u967A\uFF09"),i(),l(16,"span",15),r(17),i()(),f(18,ii,5,1,"div",29),l(19,"div",13)(20,"span",14),r(21,"\u5408\u7B97\u6A19\u6E96\u5831\u916C\u6708\u984D\uFF08\u539A\u751F\u5E74\u91D1\uFF09"),i(),l(22,"span",15),r(23),g(24,"number"),i()(),f(25,oi,6,4,"div",29),l(26,"div",13)(27,"span",14),r(28,"\u5408\u7B97\u7B49\u7D1A\uFF08\u539A\u751F\u5E74\u91D1\uFF09"),i(),l(29,"span",15),r(30),i()(),f(31,ai,5,1,"div",29),l(32,"button",123),x("click",function(){c(e);let a=p();return y(a.toggleEditCombined())}),r(33),i(),f(34,li,3,4,"span",124),i()}if(n&2){let e=p();s(4),d("ngIf",!e.isEditCombined),s(),d("ngIf",e.isEditCombined),s(5),h(e.latestStandard!=null&&e.latestStandard.combinedKenpoStandardMonthly?_(11,14,e.latestStandard.combinedKenpoStandardMonthly,"1.0-0")+"\u5186":"---"),s(2),d("ngIf",e.isEditCombined),s(5),h((e.latestStandard==null?null:e.latestStandard.combinedKenpoGrade)||"---"),s(),d("ngIf",e.isEditCombined),s(5),h(e.latestStandard!=null&&e.latestStandard.combinedNenkinStandardMonthly?_(24,17,e.latestStandard.combinedNenkinStandardMonthly,"1.0-0")+"\u5186":"---"),s(2),d("ngIf",e.isEditCombined),s(5),h((e.latestStandard==null?null:e.latestStandard.combinedNenkinGrade)||"---"),s(),d("ngIf",e.isEditCombined),s(),d("disabled",e.employee==null?null:e.employee.isLostQualification)("ngClass",D(20,oe,e.employee==null?null:e.employee.isLostQualification)),s(),h(e.isEditCombined?"\u2716":"\u7DE8\u96C6"),s(),d("ngIf",e.isEditCombined)}}function si(n,o){if(n&1){let e=C();l(0,"div",135)(1,"div",136)(2,"div",137),r(3,"\u8CDE\u4E0E\u60C5\u5831\u306B\u3064\u3044\u3066"),i(),l(4,"div",138),r(5," \u8CDE\u4E0E\u652F\u6255\u5C4A\u306E\u63D0\u51FA\u5BFE\u8C61\u3068\u306A\u308B\u8CDE\u4E0E\u306B\u5BFE\u3057\u3066\u793E\u4F1A\u4FDD\u967A\u6599\u3092\u7B97\u51FA\u3057\u307E\u3059\u3002"),U(6,"br"),r(7," \u5E744\u56DE\u4EE5\u4E0A\u652F\u7D66\u3055\u308C\u308B\u305F\u3081\u306B\u5831\u916C\u306B\u542B\u307E\u308C\u308B\u8CDE\u4E0E\u3084\u3001"),U(8,"br"),r(9," \u52B4\u50CD\u306E\u5BFE\u4FA1\u3068\u3057\u3066\u652F\u6255\u308F\u308C\u305F\u3082\u306E\u3067\u306F\u306A\u3044\u624B\u5F53\u7B49\u306F\u3001"),U(10,"br"),r(11," \u8CDE\u4E0E\u652F\u6255\u5C4A\u306E\u63D0\u51FA\u5BFE\u8C61\u306B\u306F\u542B\u307E\u308C\u307E\u305B\u3093\u306E\u3067\u3054\u6CE8\u610F\u304F\u3060\u3055\u3044\u3002 "),i(),l(12,"button",139),x("click",function(){c(e);let a=p(2);return y(a.closeBonusInfoPopup())}),r(13,"\u9589\u3058\u308B"),i()()()}}function ui(n,o){if(n&1){let e=C();l(0,"div",129)(1,"div",130)(2,"span",10),r(3,"\u8CDE\u4E0E\u60C5\u5831 "),l(4,"button",131),x("click",function(){c(e);let a=p();return y(a.openBonusInfoPopup())}),l(5,"span",132),r(6,"i"),i()()(),f(7,si,14,0,"div",133),U(8,"app-bonus",134),i()()}if(n&2){let e=p();s(7),d("ngIf",e.showBonusInfoPopup),s(),d("employeeId",e.employeeId)("companyId",e.employee==null?null:e.employee.companyId)("isLostQualification",e.employee==null?null:e.employee.isLostQualification)}}var Xe=class n{currentUser=null;employee=null;autoStdSalaryHealth=null;autoStdSalaryHealthGrade=null;autoStdSalaryPension=null;autoStdSalaryPensionGrade=null;autoCombinedStdSalaryKenpo=null;autoCombinedStdSalaryKenpoGrade=null;autoCombinedStdSalaryNenkin=null;autoCombinedStdSalaryNenkinGrade=null;currentAge=null;fixedWages=Array(12).fill("");nonFixedWages=Array(12).fill("");savedFixedWages=Array(12).fill("");savedNonFixedWages=Array(12).fill("");isSaved=Array(12).fill(!1);isEditing=Array(12).fill(!1);justSaved=Array(12).fill(!1);auth=J(ze);route=J(Ke);firestore=J(Ie);router=J(Ce);cdr=J(We);displayFields=[{key:"managementNumber",label:"\u7BA1\u7406\u756A\u53F7"},{key:"lastName",label:"\u6C0F\u540D"},{key:"gender",label:"\u6027\u5225"},{key:"birthdate",label:"\u751F\u5E74\u6708\u65E5"},{key:"nationality",label:"\u56FD\u7C4D"},{key:"officeName",label:"\u4E8B\u696D\u6240"},{key:"employmentType",label:"\u96C7\u7528\u5F62\u614B"},{key:"employmentPeriodType",label:"\u96C7\u7528\u5951\u7D04\u671F\u9593"},{key:"employmentPeriodStart",label:"\u5951\u7D04\u958B\u59CB\u65E5"},{key:"employmentPeriodEnd",label:"\u5951\u7D04\u7D42\u4E86\u65E5"},{key:"workDays",label:"\u6240\u5B9A\u52B4\u50CD\u65E5\u6570\uFF08\u6708\uFF09"},{key:"workHours",label:"\u6240\u5B9A\u52B4\u50CD\u6642\u9593\uFF08\u9031\uFF09"},{key:"salaryCash",label:"\u5831\u916C\u6708\u984D\uFF08\u901A\u8CA8\uFF09"},{key:"salaryInKind",label:"\u5831\u916C\u6708\u984D\uFF08\u73FE\u7269\uFF09"},{key:"salaryTotal",label:"\u5831\u916C\u6708\u984D\uFF08\u5408\u8A08\uFF09"},{key:"stdSalaryHealth",label:"\u6A19\u6E96\u5831\u916C\u6708\u984D\uFF08\u5065\u5EB7\u4FDD\u967A\u30FB\u4ECB\u8B77\u4FDD\u967A\uFF09"},{key:"stdSalaryPension",label:"\u6A19\u6E96\u5831\u916C\u6708\u984D\uFF08\u539A\u751F\u5E74\u91D1\uFF09"},{key:"joinDate",label:"\u8CC7\u683C\u53D6\u5F97\u5E74\u6708\u65E5\uFF08\u5165\u793E\u65E5\uFF09"},{key:"leaveDate",label:"\u8CC7\u683C\u55AA\u5931\u5E74\u6708\u65E5\uFF08\u9000\u8077\u65E5\uFF09"},{key:"isStudent",label:"\u5B66\u751F\u533A\u5206"},{key:"multiOffice",label:"\u4E8C\u4EE5\u4E0A\u4E8B\u696D\u6240\u52E4\u52D9\u533A\u5206"},{key:"selectedOfficeType",label:"\u9078\u629E\u4E8B\u696D\u6240\uFF0F\u975E\u9078\u629E\u4E8B\u696D\u6240"},{key:"combinedSalary",label:"\u5408\u7B97\u5831\u916C\u6708\u984D\uFF08\u901A\u8CA8\uFF0B\u73FE\u7269\uFF09"},{key:"combinedStdSalaryKenpo",label:"\u5408\u7B97\u6A19\u6E96\u5831\u916C\u6708\u984D\uFF08\u5065\u5EB7\u4FDD\u967A\u30FB\u4ECB\u8B77\u4FDD\u967A\uFF09"},{key:"combinedStdSalaryNenkin",label:"\u5408\u7B97\u6A19\u6E96\u5831\u916C\u6708\u984D\uFF08\u539A\u751F\u5E74\u91D1\uFF09"},{key:"dependentStatus",label:"\u88AB\u6276\u990A\u8005\u306E\u6709\u7121"},{key:"dependentRelations",label:"\u88AB\u6276\u990A\u8005\u7D9A\u67C4"},{key:"dispatchedAbroad",label:"\u5916\u56FD\u6D3E\u9063\u52B4\u50CD\u8005\u533A\u5206"},{key:"socialSecurityAgreement",label:"\u793E\u4F1A\u4FDD\u969C\u5354\u5B9A\u56FD"},{key:"temporaryDispatch",label:"\u4E00\u6642\u6D3E\u9063\uFF085\u5E74\u4EE5\u5185\uFF09"}];employeeId=null;currentNendo="";months=["4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708","1\u6708","2\u6708","3\u6708"];standardsList=[];insurancesList=[];companyOffices=[];isEditPersonal=!1;originalPersonalInfo=null;isEditContract=!1;originalContractInfo=null;companyEmploymentTypes=[];isEditOther=!1;originalOtherInfo=null;deductionYMList=[];prevSalaryTotal=null;prevSalaryTotalForConfirm=null;isEditInsurance=!1;originalInsuranceInfo=null;kenpoStandardMonthlyList=[];nenkinStandardMonthlyList=[];showMaternityLeaveInputs=!1;maternityLeaveStart="";maternityLeaveEnd="";isEditCombined=!1;tempCombinedSalary=null;tempCombinedKenpoStandardMonthly=null;tempCombinedKenpoGrade=null;tempCombinedNenkinStandardMonthly=null;tempCombinedNenkinGrade=null;insurancesLoaded=!1;showBonusInfoPopup=!1;constructor(){}ngOnInit(){return A(this,null,function*(){let o=Ge();Be(o,m=>{m||this.router.navigate(["/login"])});let e=new Date,t=e.getFullYear();e.getMonth()+1>=4?this.currentNendo=`${t}\u5E74\u5EA6`:this.currentNendo=`${t-1}\u5E74\u5EA6`,Be(this.auth,m=>{this.currentUser=m});let u=this.route.snapshot.paramMap.get("id");if(this.employeeId=u,u){let m=M(this.firestore,"companies"),I=yield k(m);for(let v of I.docs){let K=M(this.firestore,"companies",v.id,"employees"),Y=(yield k(K)).docs.find(Z=>Z.id===u);if(Y){if(this.employee=Y.data(),this.employee.companyId=v.id,this.employee.leaveDate){let B=new Date(this.employee.leaveDate);if(new Date>B){let P=T(this.firestore,`companies/${this.employee.companyId}/employees/${u}`);yield F(P,{isLostQualification:!0}),this.employee.isLostQualification=!0}}let Z=M(this.firestore,"companies",v.id,"offices"),X=yield k(Z);this.companyOffices=X.docs.map(B=>L({id:B.id},B.data()));let re=v.data();if(this.companyEmploymentTypes=Array.isArray(re.employmentType)?re.employmentType:[],this.employee.birthdate){let B=new Date,R=new Date(this.employee.birthdate),P=B.getFullYear()-R.getFullYear(),te=B.getMonth()-R.getMonth();if((te<0||te===0&&B.getDate()<R.getDate())&&P--,this.currentAge=P,this.employee.age!==P){let ne=M(this.firestore,"companies"),ae=yield k(ne);for(let et of ae.docs){let tt=M(this.firestore,"companies",et.id,"employees"),Oe=(yield k(tt)).docs.find(Me=>Me.id===u);if(Oe){let Me=Oe.ref;yield F(Me,{age:P});break}}}}else this.currentAge=null;let se=T(this.firestore,`companies/${this.employee.companyId}/employees/${this.employeeId}`),N=M(se,"monthlySarary"),O=Te(N,De("nendo","==",this.currentNendo));(yield k(O)).forEach(B=>{let R=B.data(),P=this.months.indexOf(R.month);P!==-1&&(this.fixedWages[P]=this.formatWithComma(String(R.fixedWages??"")),this.nonFixedWages[P]=this.formatWithComma(String(R.nonFixedWages??"")),this.savedFixedWages[P]=this.fixedWages[P],this.savedNonFixedWages[P]=this.nonFixedWages[P],this.isSaved[P]=!0)});let W=M(this.firestore,`companies/${this.employee.companyId}/employees/${this.employeeId}/standards`),ee=yield k(W);this.standardsList=ee.docs.map(B=>L({id:B.id},B.data())),yield this.fetchInsurances(),this.generateDeductionYMList();let q=this.employee.maternityLeaveStartDate,G=this.employee.maternityLeaveEndDate;if(q&&G){let B=new Date,R=new Date(q),P=new Date(G);if(!isNaN(R.getTime())&&!isNaN(P.getTime())&&B>=R&&B<=P&&!this.employee.onMaternityLeave){let te=T(this.firestore,`companies/${this.employee.companyId}/employees/${this.employeeId}`);yield F(te,{onMaternityLeave:!0}),this.employee.onMaternityLeave=!0}}if(localStorage.getItem("showSeniorVoluntaryEnrollmentAlert")==="1"){let B=window.confirm("\u539A\u751F\u5E74\u91D1\u306E\u7B97\u51FA\u3092\u3057\u307E\u3059");if(localStorage.removeItem("showSeniorVoluntaryEnrollmentAlert"),B)this.router.navigate(["/calculate",this.employeeId]);else if(this.employee.seniorVoluntaryEnrollment="\u3057\u306A\u3044",this.employeeId&&this.employee.companyId){let R=T(this.firestore,`companies/${this.employee.companyId}/employees/${this.employeeId}`);F(R,{seniorVoluntaryEnrollment:"\u3057\u306A\u3044"})}}}}}})}fetchInsurances(){return A(this,null,function*(){if(!this.employee||!this.employee.companyId||!this.employeeId)return;let o=M(this.firestore,`companies/${this.employee.companyId}/employees/${this.employeeId}/insurances`),e=yield k(o);this.insurancesList=e.docs.map(t=>L({id:t.id},t.data())),this.insurancesLoaded=!0,this.cdr.detectChanges()})}get displayEmploymentType(){return this.employee?this.employee.employmentType==="\u305D\u306E\u4ED6"&&this.employee.employmentTypeOther?`\u305D\u306E\u4ED6\uFF08${this.employee.employmentTypeOther}\uFF09`:this.employee.employmentType||"":""}get hasUnnotified(){if(!this.employee)return!1;let o=this.employee.stdSalaryHealth===null||this.employee.stdSalaryHealth===""||this.employee.stdSalaryHealth===void 0,e=this.employee.stdSalaryPension===null||this.employee.stdSalaryPension===""||this.employee.stdSalaryPension===void 0,t=!1,a=!1;return this.employee.multiOffice==="\u4E8C\u4EE5\u4E0A\u4E8B\u696D\u6240\u52E4\u52D9"&&(t=this.employee.combinedStdSalaryKenpo===null||this.employee.combinedStdSalaryKenpo===""||this.employee.combinedStdSalaryKenpo===void 0,a=this.employee.combinedStdSalaryNenkin===null||this.employee.combinedStdSalaryNenkin===""||this.employee.combinedStdSalaryNenkin===void 0),o||e||t||a}onRecalc(){this.router.navigate(["/calculate",this.employeeId])}formatWithComma(o){if(!o)return"";let e=o.replace(/[^\d]/g,"");return e?Number(e).toLocaleString():""}getMonthlyTotal(o){let e=Number((this.fixedWages[o]||"").replace(/,/g,""))||0,t=Number((this.nonFixedWages[o]||"").replace(/,/g,""))||0;return!e&&!t?"":(e+t).toLocaleString()}saveMonthlySalary(o){return A(this,null,function*(){if(!this.employeeId)return;let e=Number((this.fixedWages[o]||"").replace(/,/g,""))||0,t=Number((this.nonFixedWages[o]||"").replace(/,/g,""))||0,a=e+t,u=this.months[o],m={nendo:this.currentNendo,month:u,fixedWages:e,nonFixedWages:t,total:a,employeeId:this.employeeId},I=T(this.firestore,`companies/${this.employee.companyId}/employees/${this.employeeId}`),v=M(I,"monthlySarary"),K=Te(v,De("nendo","==",this.currentNendo),De("month","==",u)),z=yield k(K);if(z.empty)yield $(v,m);else{let Y=z.docs[0].ref;yield Ze(Y,m,{merge:!0})}this.isSaved[o]=!0,this.savedFixedWages[o]=this.fixedWages[o],this.savedNonFixedWages[o]=this.nonFixedWages[o],this.justSaved[o]=!0,window.location.reload()})}onBlur(o,e){if(this.isEditing[o]=!1,!(!this.isSaved[o]||this.isEditing[o]||this.fixedWages[o]!==this.savedFixedWages[o]||this.nonFixedWages[o]!==this.savedNonFixedWages[o])){if(this.justSaved[o]){this.justSaved[o]=!1;return}this.isSaved[o]&&(e==="fixed"?this.fixedWages[o]=this.savedFixedWages[o]:this.nonFixedWages[o]=this.savedNonFixedWages[o])}}copyWages(o){o>0&&(this.fixedWages[o]=this.fixedWages[o-1],this.nonFixedWages[o]=this.nonFixedWages[o-1],(this.fixedWages[o]!==this.savedFixedWages[o]||this.nonFixedWages[o]!==this.savedNonFixedWages[o])&&(this.isEditing[o]=!0))}goToCalculate(){this.employeeId&&this.router.navigate(["/calculate",this.employeeId])}goToEdit(){this.employeeId&&this.router.navigate(["/employee-edit",this.employeeId])}toggleEditPersonal(){this.isEditPersonal=!this.isEditPersonal,this.isEditPersonal&&(this.originalPersonalInfo={lastName:this.employee.lastName,firstName:this.employee.firstName,nationality:this.employee.nationality,officeName:this.employee.officeName,birthdate:this.employee.birthdate})}cancelEditPersonal(){this.originalPersonalInfo&&(this.employee.lastName=this.originalPersonalInfo.lastName,this.employee.firstName=this.originalPersonalInfo.firstName,this.employee.nationality=this.originalPersonalInfo.nationality,this.employee.officeName=this.originalPersonalInfo.officeName),this.isEditPersonal=!1,window.location.reload()}savePersonalInfo(){return A(this,null,function*(){if(!this.employeeId||!this.employee.companyId)return;let o=T(this.firestore,`companies/${this.employee.companyId}/employees/${this.employeeId}`);try{if(this.originalPersonalInfo&&this.originalPersonalInfo.birthdate!==this.employee.birthdate){if(!window.confirm("\u751F\u5E74\u6708\u65E5\u3092\u5909\u66F4\u3057\u307E\u3059\u304B\uFF1F\u793E\u4F1A\u4FDD\u967A\u6599\u304C\u5909\u66F4\u3055\u308C\u308B\u53EF\u80FD\u6027\u304C\u3042\u308B\u305F\u3081\u518D\u5EA6\u5224\u5B9A\u30FB\u7B97\u51FA\u3057\u307E\u3059\u3002")){this.isEditPersonal=!1,window.location.reload();return}if(this.latestStandard){let I=M(this.firestore,`companies/${this.employee.companyId}/employees/${this.employeeId}/standards`),e=this.latestStandard,{id:v,createdAt:K}=e,z=le(e,["id","createdAt"]);yield $(I,ie(L({},z),{createdAt:new Date,memo:"\u751F\u5E74\u6708\u65E5\u5909\u66F4"}))}yield F(o,{lastName:this.employee.lastName,firstName:this.employee.firstName,gender:this.employee.gender,nationality:this.employee.nationality,officeName:this.employee.officeName,officesId:this.employee.officesId,birthdate:this.employee.birthdate,leaveDate:this.employee.leaveDate}),this.router.navigate(["/calculate",this.employeeId]);return}if(this.originalPersonalInfo&&this.originalPersonalInfo.officeName!==this.employee.officeName){if(!window.confirm("\u6240\u5C5E\u4E8B\u696D\u6240\u3092\u5909\u66F4\u3057\u307E\u3059\u304B\uFF1F\u793E\u4F1A\u4FDD\u967A\u6599\u304C\u5909\u66F4\u3055\u308C\u308B\u306E\u3067\u518D\u5EA6\u5224\u5B9A\u30FB\u7B97\u51FA\u3057\u307E\u3059\u3002")){this.isEditPersonal=!1,window.location.reload();return}let I=this.companyOffices.find(v=>v.officeName===this.employee.officeName);if(I&&(this.employee.officesId=I.id),this.employee.officesId&&this.latestStandard){let v=M(this.firestore,`companies/${this.employee.companyId}/employees/${this.employeeId}/standards`),t=this.latestStandard,{id:K,createdAt:z}=t,Y=le(t,["id","createdAt"]);yield $(v,ie(L({},Y),{createdAt:new Date,memo:"\u6240\u5C5E\u4E8B\u696D\u6240\u5909\u66F4"}))}yield F(o,{lastName:this.employee.lastName,firstName:this.employee.firstName,gender:this.employee.gender,nationality:this.employee.nationality,officeName:this.employee.officeName,officesId:this.employee.officesId,birthdate:this.employee.birthdate,leaveDate:this.employee.leaveDate}),this.router.navigate(["/calculate",this.employeeId]);return}if(yield F(o,{lastName:this.employee.lastName,firstName:this.employee.firstName,gender:this.employee.gender,nationality:this.employee.nationality,officeName:this.employee.officeName,birthdate:this.employee.birthdate,leaveDate:this.employee.leaveDate}),!this.employee.leaveDate&&this.latestStandard&&this.latestStandard.id){let m=T(this.firestore,`companies/${this.employee.companyId}/employees/${this.employeeId}/standards/${this.latestStandard.id}`);yield F(m,{leaveDate:""}),yield F(o,{isLostQualification:ke()}),this.employee.isLostQualification=void 0}else if(this.employee.leaveDate&&this.latestStandard&&this.latestStandard.id){let m=new Date(this.employee.leaveDate);m.setDate(m.getDate()+1);let I=m.toISOString().slice(0,10),v=T(this.firestore,`companies/${this.employee.companyId}/employees/${this.employeeId}/standards/${this.latestStandard.id}`);yield F(v,{leaveDate:I});let K=new Date,z=m.getFullYear(),Y=m.getMonth(),Z=K.getFullYear(),X=K.getMonth();z<Z||z===Z&&Y<=X?(yield F(o,{isLostQualification:!0}),this.employee.isLostQualification=!0):(yield F(o,{isLostQualification:ke()}),this.employee.isLostQualification=void 0)}this.isEditPersonal=!1,window.location.reload()}catch{alert("\u4FDD\u5B58\u306B\u5931\u6557\u3057\u307E\u3057\u305F")}})}toggleEditContract(){this.isEditContract=!this.isEditContract,this.isEditContract&&(this.originalContractInfo={employmentType:this.employee.employmentType,employmentPeriodType:this.employee.employmentPeriodType,employmentPeriodStart:this.employee.employmentPeriodStart,employmentPeriodEnd:this.employee.employmentPeriodEnd,employmentPeriodRenewal:this.employee.employmentPeriodRenewal,workDays:this.employee.workDays,workHours:this.employee.workHours,salaryCash:this.employee.salaryCash,salaryInKind:this.employee.salaryInKind,salaryTotal:this.employee.salaryTotal,baseSalary:this.employee.baseSalary})}cancelEditContract(){this.originalContractInfo&&(this.employee.employmentType=this.originalContractInfo.employmentType,this.employee.employmentPeriodType=this.originalContractInfo.employmentPeriodType,this.employee.employmentPeriodStart=this.originalContractInfo.employmentPeriodStart,this.employee.employmentPeriodEnd=this.originalContractInfo.employmentPeriodEnd,this.employee.employmentPeriodRenewal=this.originalContractInfo.employmentPeriodRenewal,this.employee.workDays=this.originalContractInfo.workDays,this.employee.workHours=this.originalContractInfo.workHours,this.employee.salaryCash=this.originalContractInfo.salaryCash,this.employee.salaryInKind=this.originalContractInfo.salaryInKind,this.employee.salaryTotal=this.originalContractInfo.salaryTotal,this.employee.baseSalary=this.originalContractInfo.baseSalary),this.isEditContract=!1,this.isEditInsurance=!0,setTimeout(()=>{let o=document.getElementById("insurance-container");o&&o.scrollIntoView({behavior:"smooth",block:"center"})},0),window.location.reload()}saveContractInfo(){return A(this,null,function*(){if(this.employee.employmentPeriodType==="\u6709\u671F"&&(!this.employee.employmentPeriodStart||!this.employee.employmentPeriodEnd)){alert("\u96C7\u7528\u5951\u7D04\u958B\u59CB\u65E5\u30FB\u7D42\u4E86\u65E5\u306F\u5FC5\u9808\u3067\u3059");return}if(!this.employeeId||!this.employee.companyId)return;let o=T(this.firestore,`companies/${this.employee.companyId}/employees/${this.employeeId}`);try{let e=!1,t=!1;if(this.originalContractInfo){let a=["employmentType","employmentPeriodType","employmentPeriodStart","employmentPeriodEnd","employmentPeriodRenewal","workDays","workHours","salaryCash","salaryInKind","salaryTotal","baseSalary"],u=[];for(let m of a)this.employee[m]!==this.originalContractInfo[m]&&(e=!0,u.push(m));e&&u.length===1&&u[0]==="baseSalary"&&(t=!0)}if(t){if(!window.confirm(`\u6A19\u6E96\u5831\u916C\u6708\u984D\u306F\u5909\u66F4\u305B\u305A\u56FA\u5B9A\u7D66\u306E\u307F\u5909\u66F4\u3059\u308B\u5834\u5408\u306F\u300COK\u300D\u3092\u62BC\u3057\u3066\u304F\u3060\u3055\u3044\u3002
\u6A19\u6E96\u5831\u916C\u6708\u984D\u3082\u5909\u66F4\u3059\u308B\u5834\u5408\u306F\u300C\u30AD\u30E3\u30F3\u30BB\u30EB\u300D\u3092\u62BC\u3057\u3066\u304F\u3060\u3055\u3044\u3002`)){yield F(o,{baseSalary:this.employee.baseSalary}),this.isEditContract=!1,setTimeout(()=>{let m=document.getElementById("insurance-container");m&&m.scrollIntoView({behavior:"smooth",block:"center"})},0);return}if(!window.confirm("\u96C7\u7528\u5951\u7D04\u60C5\u5831\u3092\u5909\u66F4\u3057\u307E\u3059\u304B\uFF1F\u793E\u4F1A\u4FDD\u967A\u6599\u304C\u5909\u66F4\u306B\u306A\u308B\u53EF\u80FD\u6027\u304C\u3042\u308B\u305F\u3081\u518D\u5EA6\u5224\u5B9A\u30FB\u7B97\u51FA\u3057\u307E\u3059\u3002")){this.isEditContract=!1;return}yield this.handleContractChange(o,"\u96C7\u7528\u5951\u7D04\u60C5\u5831\u66F4\u65B0");return}if(e){if(!window.confirm("\u96C7\u7528\u5951\u7D04\u60C5\u5831\u3092\u5909\u66F4\u3057\u307E\u3059\u304B\uFF1F\u793E\u4F1A\u4FDD\u967A\u6599\u304C\u5909\u66F4\u306B\u306A\u308B\u53EF\u80FD\u6027\u304C\u3042\u308B\u305F\u3081\u518D\u5EA6\u5224\u5B9A\u30FB\u7B97\u51FA\u3057\u307E\u3059\u3002")){this.isEditContract=!1,window.location.reload();return}yield this.handleContractChange(o,"\u96C7\u7528\u5951\u7D04\u60C5\u5831\u66F4\u65B0");return}yield F(o,{employmentType:this.employee.employmentType,employmentPeriodType:this.employee.employmentPeriodType,employmentPeriodStart:this.employee.employmentPeriodStart,employmentPeriodEnd:this.employee.employmentPeriodEnd,employmentPeriodRenewal:this.employee.employmentPeriodRenewal,workDays:this.employee.workDays,workHours:this.employee.workHours,salaryCash:this.employee.salaryCash,salaryInKind:this.employee.salaryInKind,salaryTotal:this.employee.salaryTotal,baseSalary:this.employee.baseSalary}),this.isEditContract=!1}catch{alert("\u4FDD\u5B58\u306B\u5931\u6557\u3057\u307E\u3057\u305F")}})}isContractValid(){return this.employee.baseSalary!==void 0&&this.employee.baseSalary!==null&&this.employee.baseSalary!==""&&Number(this.employee.baseSalary)!==0&&this.employee.workDays!==void 0&&this.employee.workDays!==null&&this.employee.workDays!==""&&Number(this.employee.workDays)!==0&&this.employee.workHours!==void 0&&this.employee.workHours!==null&&this.employee.workHours!==""&&Number(this.employee.workHours)!==0}hasAnySalary(){let o=this.employee.salaryCash,e=this.employee.salaryInKind;return o!=null&&o!==""&&Number(o)!==0||e!=null&&e!==""&&Number(e)!==0}isEmptyOrZero(o){return o==null||o===""||Number(o)===0}isPersonalValid(){return!!(this.employee.lastName&&this.employee.firstName&&this.employee.nationality&&this.employee.officeName)}toggleEditOther(){this.isEditOther=!this.isEditOther,this.isEditOther&&(this.originalOtherInfo={dependentStatus:this.employee.dependentStatus,dependentRelations:this.employee.dependentRelations,isStudent:this.employee.isStudent,dispatchedAbroad:this.employee.dispatchedAbroad,multiOffice:this.employee.multiOffice},this.employee.dependentStatus==="\u88AB\u6276\u990A\u8005\u3042\u308A"&&(!Array.isArray(this.employee.dependentRelations)||!this.employee.dependentRelations.length)&&(this.employee.dependentRelations=[""]))}cancelEditOther(){this.originalOtherInfo&&(this.employee.dependentStatus=this.originalOtherInfo.dependentStatus,this.employee.dependentRelations=this.originalOtherInfo.dependentRelations,this.employee.isStudent=this.originalOtherInfo.isStudent,this.employee.dispatchedAbroad=this.originalOtherInfo.dispatchedAbroad,this.employee.multiOffice=this.originalOtherInfo.multiOffice),this.isEditOther=!1,window.location.reload()}saveOtherInfo(){return A(this,null,function*(){if(!this.employeeId||!this.employee.companyId)return;let o=T(this.firestore,`companies/${this.employee.companyId}/employees/${this.employeeId}`);try{let t=!1;if(this.originalOtherInfo){let a=["dependentStatus","dependentRelations","isStudent","dispatchedAbroad","multiOffice","selectedOfficeType","socialSecurityAgreement","temporaryDispatch","combinedSalary"];for(let u of a)if(JSON.stringify(this.employee[u])!==JSON.stringify(this.originalOtherInfo[u])){t=!0;break}}if(t){if(!window.confirm("\u305D\u306E\u4ED6\u60C5\u5831\u3092\u5909\u66F4\u3057\u307E\u3059\u304B\uFF1F\u793E\u4F1A\u4FDD\u967A\u6599\u304C\u5909\u66F4\u306B\u306A\u308B\u53EF\u80FD\u6027\u304C\u3042\u308B\u305F\u3081\u518D\u5EA6\u5224\u5B9A\u30FB\u7B97\u51FA\u3057\u307E\u3059\u3002")){this.isEditOther=!1,window.location.reload();return}if(this.latestStandard){let u=M(this.firestore,`companies/${this.employee.companyId}/employees/${this.employeeId}/standards`),e=this.latestStandard,{id:m,createdAt:I}=e,v=le(e,["id","createdAt"]);yield $(u,ie(L({},v),{createdAt:new Date,memo:"\u305D\u306E\u4ED6\u60C5\u5831\u66F4\u65B0"}))}yield F(o,{dependentStatus:this.employee.dependentStatus,dependentRelations:this.employee.dependentRelations,isStudent:this.employee.isStudent,dispatchedAbroad:this.employee.dispatchedAbroad,multiOffice:this.employee.multiOffice,selectedOfficeType:this.employee.selectedOfficeType,socialSecurityAgreement:this.employee.socialSecurityAgreement,temporaryDispatch:this.employee.temporaryDispatch,combinedSalary:this.employee.combinedSalary}),this.router.navigate(["/calculate",this.employeeId]);return}yield F(o,{dependentStatus:this.employee.dependentStatus,dependentRelations:this.employee.dependentRelations,isStudent:this.employee.isStudent,dispatchedAbroad:this.employee.dispatchedAbroad,multiOffice:this.employee.multiOffice,selectedOfficeType:this.employee.selectedOfficeType,socialSecurityAgreement:this.employee.socialSecurityAgreement,temporaryDispatch:this.employee.temporaryDispatch,combinedSalary:this.employee.combinedSalary}),this.isEditOther=!1}catch{alert("\u4FDD\u5B58\u306B\u5931\u6557\u3057\u307E\u3057\u305F")}})}addDependentRelation(){Array.isArray(this.employee.dependentRelations)||(this.employee.dependentRelations=this.employee.dependentRelations?[this.employee.dependentRelations]:[""]),this.employee.dependentRelations.push("")}removeDependentRelation(o){Array.isArray(this.employee.dependentRelations)&&this.employee.dependentRelations.length>1&&this.employee.dependentRelations.splice(o,1)}isArray(o){return Array.isArray(o)}onDependentStatusChange(){this.employee.dependentStatus==="\u88AB\u6276\u990A\u8005\u3042\u308A"?(!Array.isArray(this.employee.dependentRelations)||!this.employee.dependentRelations.length)&&(this.employee.dependentRelations=[""]):this.employee.dependentRelations=[]}isOtherValid(){return!(this.isEditOther&&this.employee.dependentStatus==="\u88AB\u6276\u990A\u8005\u3042\u308A"&&(!Array.isArray(this.employee.dependentRelations)||!this.employee.dependentRelations.some(o=>o&&o.trim()!==""))||this.isEditOther&&this.employee.dispatchedAbroad!=="\u8A72\u5F53\u3057\u306A\u3044"&&(!this.employee.socialSecurityAgreement||this.employee.socialSecurityAgreement==="\u8A72\u5F53\u3059\u308B"&&!this.employee.temporaryDispatch)||this.isEditOther&&this.employee.multiOffice==="\u8A72\u5F53\u3059\u308B"&&(!this.employee.selectedOfficeType||this.employee.combinedSalary===void 0||this.employee.combinedSalary===null||this.employee.combinedSalary===""||Number(this.employee.combinedSalary)===0))}onDispatchedAbroadChange(){this.employee.dispatchedAbroad==="\u8A72\u5F53\u3057\u306A\u3044"&&(this.employee.socialSecurityAgreement="",this.employee.temporaryDispatch="")}onMultiOfficeChange(){this.employee.multiOffice==="\u8A72\u5F53\u3057\u306A\u3044"&&(this.employee.selectedOfficeType="",this.employee.combinedSalary="")}onEmploymentPeriodTypeChange(){this.employee.employmentPeriodType==="\u7121\u671F"&&(this.employee.employmentPeriodStart="",this.employee.employmentPeriodEnd="")}generateDeductionYMList(){let a=[],u=2025,m=3;for(let I=0;I<12;I++)a.push(`${u}/${m}`),m++,m>12&&(m=1,u++);this.deductionYMList=a}toggleEditInsurance(){return A(this,null,function*(){this.isEditInsurance=!0,this.originalInsuranceInfo=L({},this.employee);let o=M(this.firestore,"kenpo_standardMonthlySarary"),e=yield k(o);this.kenpoStandardMonthlyList=e.docs.map(u=>L({id:u.id},u.data()));let t=M(this.firestore,"nenkin_standardMonthlySarary"),a=yield k(t);if(this.nenkinStandardMonthlyList=a.docs.map(u=>L({id:u.id},u.data())),!this.employee.updatedStdSalaryMonth){let u=new Date,m=u.getFullYear(),I=String(u.getMonth()+1).padStart(2,"0");this.employee.updatedStdSalaryMonth=`${m}-${I}`}this.updateSalaryTotal()})}cancelEditInsurance(){this.isEditInsurance=!1,this.originalInsuranceInfo&&(this.employee.salaryCash=this.originalInsuranceInfo.salaryCash,this.employee.salaryInKind=this.originalInsuranceInfo.salaryInKind,this.employee.salaryTotal=this.originalInsuranceInfo.salaryTotal),window.location.reload()}saveInsuranceInfo(){return A(this,null,function*(){if(!window.confirm("\u6A19\u6E96\u5831\u916C\u6708\u984D\u3068\u7B49\u7D1A\u3092\u5909\u66F4\u3057\u793E\u4F1A\u4FDD\u967A\u6599\u3092\u518D\u7B97\u51FA\u3057\u307E\u3059\u304B\uFF1F")){window.location.reload();return}if(this.isEditInsurance=!1,!this.employeeId||!this.employee.companyId)return;let o=T(this.firestore,`companies/${this.employee.companyId}/employees/${this.employeeId}`);try{yield F(o,{salaryCash:this.employee.salaryCash,salaryInKind:this.employee.salaryInKind,salaryTotal:this.employee.salaryTotal});let e=M(this.firestore,`companies/${this.employee.companyId}/employees/${this.employeeId}/standards`);yield $(e,{createdAt:new Date,createdBy:this.currentUser?.uid||"",kenpoGrade:this.employee.stdSalaryHealthGrade||null,kenpoStandardMonthly:this.employee.stdSalaryHealth||null,nenkinGrade:this.employee.stdSalaryPensionGrade||null,nenkinStandardMonthly:this.employee.stdSalaryPension||null,revisionType:this.employee.updatedRevisionType||null,lastRevisionMonth:this.employee.updatedStdSalaryMonth||null,joinDate:this.latestStandard?.joinDate||"",leaveDate:this.latestStandard?.leaveDate||"",memo:""}),this.router.navigate(["/calculate",this.employeeId])}catch{alert("\u6A19\u6E96\u5831\u916C\u6708\u984D\u60C5\u5831\u306E\u4FDD\u5B58\u306B\u5931\u6557\u3057\u307E\u3057\u305F")}})}isInsuranceValid(){return!(!this.employee.updatedStdSalaryMonth||this.employee.updatedStdSalaryMonth===""||this.employee.salaryCash===void 0||this.employee.salaryCash===null||this.employee.salaryCash===""||Number(this.employee.salaryCash)===0||!this.employee.updatedRevisionType||this.employee.updatedRevisionType==="")}getKenpoStandardForSalary(o){return this.kenpoStandardMonthlyList.find(e=>o>=e.lower&&o<=e.upper)}getNenkinStandardForSalary(o){return this.nenkinStandardMonthlyList.find(e=>o>=e.lower&&o<=e.upper)}updateSalaryTotal(){let o=Number(this.employee.salaryCash)||0,e=Number(this.employee.salaryInKind)||0,t=o+e;this.employee.salaryTotal=t;let a=this.kenpoStandardMonthlyList.find(m=>{let I=Number(m.monthlyRangeStart??-1/0),v=m.monthlyRangeEnd===null||m.monthlyRangeEnd===""||m.monthlyRangeEnd===void 0?1/0:Number(m.monthlyRangeEnd);return t>=I&&t<v})||null;a||(a=this.kenpoStandardMonthlyList.find(m=>m.monthlyRangeEnd===null||m.monthlyRangeEnd===""||m.monthlyRangeEnd===void 0)||null),this.employee.stdSalaryHealth=a?a.standardMonthlySalary:null,this.employee.stdSalaryHealthGrade=a?a.grade:null;let u=this.nenkinStandardMonthlyList.find(m=>{let I=Number(m.nenkinStart??-1/0),v=m.nenkinEnd===null||m.nenkinEnd===""||m.nenkinEnd===void 0?1/0:Number(m.nenkinEnd);return t>=I&&t<v})||null;u||(u=this.nenkinStandardMonthlyList.find(m=>m.nenkinEnd===null||m.nenkinEnd===""||m.nenkinEnd===void 0)||null),this.employee.stdSalaryPension=u?u.nenkinMonthly:null,this.employee.stdSalaryPensionGrade=u?u.nenkinGrade:null}get latestStandard(){return!this.standardsList||this.standardsList.length===0?null:this.standardsList.reduce((o,e)=>{if(!o)return e;let t=o.createdAt?.toDate?o.createdAt.toDate():new Date(o.createdAt);return(e.createdAt?.toDate?e.createdAt.toDate():new Date(e.createdAt))>t?e:o},null)}get latestInsurance(){if(!this.insurancesList||this.insurancesList.length===0)return null;let o=this.insurancesList.filter(e=>!!e.createdAt);return o.length===0?null:o.map(e=>ie(L({},e),{_millis:e.createdAt?.toDate?e.createdAt.toDate().getTime():e.createdAt?new Date(e.createdAt).getTime():0})).sort((e,t)=>t._millis-e._millis)[0]}goToHistory(){this.employeeId&&this.router.navigate(["/insurance-history",this.employeeId])}onOfficeNameChange(){return A(this,null,function*(){if(!this.employee||!this.companyOffices)return;let o=this.companyOffices.find(e=>e.officeName===this.employee.officeName);if(o&&(this.employee.officesId=o.id,this.employeeId&&this.employee.companyId)){let e=T(this.firestore,`companies/${this.employee.companyId}/employees/${this.employeeId}`);yield F(e,{officesId:o.id})}})}getMonthBeforeSeventyBirthdayEve(o){if(!o)return null;let e=new Date(o);if(isNaN(e.getTime()))return null;let t=new Date(e.getFullYear()+70,e.getMonth(),e.getDate()),a=new Date(t);a.setDate(a.getDate()-1);let u=a.getFullYear(),m=a.getMonth();return m===0&&(m=12,u-=1),{year:u,month:m}}get isAfterMonthBeforeSeventyBirthdayEve(){if(!this.employee?.birthdate)return!1;let o=this.getMonthBeforeSeventyBirthdayEve(this.employee.birthdate);if(!o)return!1;let e=new Date,t=e.getFullYear(),a=e.getMonth()+1;return t>o.year||t===o.year&&a>=o.month}confirmSeniorVoluntaryEnrollment(){return A(this,null,function*(){if(!this.employeeId||!this.employee.companyId)return;let o=T(this.firestore,`companies/${this.employee.companyId}/employees/${this.employeeId}`);try{yield F(o,{seniorVoluntaryEnrollment:this.employee.seniorVoluntaryEnrollment});let t=this.latestStandard;if(t){let a=M(this.firestore,`companies/${this.employee.companyId}/employees/${this.employeeId}/standards`),e=t,{id:u,createdAt:m}=e,I=le(e,["id","createdAt"]);yield $(a,ie(L({},I),{createdAt:new Date,memo:"\u539A\u751F\u5E74\u91D1\u9AD8\u9F62\u4EFB\u610F\u52A0\u5165\u624B\u7D9A\u304D\u306E\u305F\u3081\u5909\u66F4"}))}this.employee.seniorVoluntaryEnrollment=this.employee.seniorVoluntaryEnrollment,this.employee.seniorVoluntaryEnrollment==="\u3059\u308B"&&localStorage.setItem("showSeniorVoluntaryEnrollmentAlert","1"),window.location.reload()}catch{alert("\u9AD8\u9F62\u4EFB\u610F\u52A0\u5165\u306E\u4FDD\u5B58\u306B\u5931\u6557\u3057\u307E\u3057\u305F")}})}onMaternityLeave(){this.showMaternityLeaveInputs=!this.showMaternityLeaveInputs,this.showMaternityLeaveInputs||(this.maternityLeaveStart="",this.maternityLeaveEnd="")}onSaveMaternityLeave(){return A(this,null,function*(){if(!this.maternityLeaveStart||!this.maternityLeaveEnd){alert("\u958B\u59CB\u5E74\u6708\u65E5\u3068\u7D42\u4E86\u5E74\u6708\u65E5\u3092\u4E21\u65B9\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044");return}if(!this.employeeId||!this.employee.companyId)return;let o=T(this.firestore,`companies/${this.employee.companyId}/employees/${this.employeeId}`);try{yield F(o,{onMaternityLeave:!1,maternityLeaveStartDate:this.maternityLeaveStart,maternityLeaveEndDate:this.maternityLeaveEnd}),alert("\u80B2\u4F11\u30FB\u7523\u4F11\u60C5\u5831\u3092\u4FDD\u5B58\u3057\u307E\u3057\u305F"),this.showMaternityLeaveInputs=!1,this.maternityLeaveStart="",this.maternityLeaveEnd="",window.location.reload()}catch{alert("\u80B2\u4F11\u30FB\u7523\u4F11\u60C5\u5831\u306E\u4FDD\u5B58\u306B\u5931\u6557\u3057\u307E\u3057\u305F")}})}onEditMaternityLeaveDates(){this.maternityLeaveStart=this.employee.maternityLeaveStartDate||"",this.maternityLeaveEnd=this.employee.maternityLeaveEndDate||"",this.showMaternityLeaveInputs=!0,this.cdr.detectChanges()}onCancelMaternityLeaveInput(){this.showMaternityLeaveInputs=!1,this.maternityLeaveStart="",this.maternityLeaveEnd=""}deleteEmployee(){return A(this,null,function*(){if(!this.employeeId||!this.employee?.companyId||!window.confirm(`\u672C\u5F53\u306B\u3053\u306E\u5F93\u696D\u54E1\u3092\u524A\u9664\u3057\u307E\u3059\u304B\uFF1F
\u3053\u306E\u64CD\u4F5C\u306F\u5143\u306B\u623B\u305B\u307E\u305B\u3093\u3002`))return;let o=`companies/${this.employee.companyId}/employees/${this.employeeId}`,e=T(this.firestore,o),t=["standards","insurances","monthlySarary"];for(let a of t){let u=M(this.firestore,`${o}/${a}`),m=yield k(u);for(let I of m.docs)yield Ae(I.ref)}yield Ae(e),alert("\u5F93\u696D\u54E1\u3092\u524A\u9664\u3057\u307E\u3057\u305F"),this.router.navigate(["/employee-list"])})}toggleEditCombined(){return A(this,null,function*(){if(this.isEditCombined=!this.isEditCombined,this.isEditCombined){if(this.tempCombinedSalary=this.employee?.combinedSalary??"",!this.kenpoStandardMonthlyList.length){let o=M(this.firestore,"kenpo_standardMonthlySarary"),e=yield k(o);this.kenpoStandardMonthlyList=e.docs.map(t=>L({id:t.id},t.data()))}if(!this.nenkinStandardMonthlyList.length){let o=M(this.firestore,"nenkin_standardMonthlySarary"),e=yield k(o);this.nenkinStandardMonthlyList=e.docs.map(t=>L({id:t.id},t.data()))}this.onTempCombinedSalaryChange()}})}saveCombinedSalary(){return A(this,null,function*(){if(!this.employeeId||!this.employee?.companyId)return;let o=T(this.firestore,`companies/${this.employee.companyId}/employees/${this.employeeId}`);if(yield F(o,{combinedSalary:this.tempCombinedSalary,combinedKenpoStandardMonthly:this.tempCombinedKenpoStandardMonthly,combinedKenpoGrade:this.tempCombinedKenpoGrade,combinedNenkinStandardMonthly:this.tempCombinedNenkinStandardMonthly,combinedNenkinGrade:this.tempCombinedNenkinGrade}),this.employee.combinedSalary=this.tempCombinedSalary,this.employee.combinedKenpoStandardMonthly=this.tempCombinedKenpoStandardMonthly,this.employee.combinedKenpoGrade=this.tempCombinedKenpoGrade,this.employee.combinedNenkinStandardMonthly=this.tempCombinedNenkinStandardMonthly,this.employee.combinedNenkinGrade=this.tempCombinedNenkinGrade,this.latestStandard&&this.latestStandard.id){let e=T(this.firestore,`companies/${this.employee.companyId}/employees/${this.employeeId}/standards/${this.latestStandard.id}`);yield F(e,{combinedSalary:this.tempCombinedSalary,combinedKenpoStandardMonthly:this.tempCombinedKenpoStandardMonthly,combinedKenpoGrade:this.tempCombinedKenpoGrade,combinedNenkinStandardMonthly:this.tempCombinedNenkinStandardMonthly,combinedNenkinGrade:this.tempCombinedNenkinGrade})}this.isEditCombined=!1})}onTempCombinedSalaryChange(){let o=Number(this.tempCombinedSalary);if(!o||isNaN(o)){this.tempCombinedKenpoStandardMonthly=null,this.tempCombinedKenpoGrade=null,this.tempCombinedNenkinStandardMonthly=null,this.tempCombinedNenkinGrade=null;return}let e=this.kenpoStandardMonthlyList.find(a=>{let u=Number(a.monthlyRangeStart??-1/0),m=a.monthlyRangeEnd===null||a.monthlyRangeEnd===""||a.monthlyRangeEnd===void 0?1/0:Number(a.monthlyRangeEnd);return o>=u&&o<m})||null;e||(e=this.kenpoStandardMonthlyList.find(a=>a.monthlyRangeEnd===null||a.monthlyRangeEnd===""||a.monthlyRangeEnd===void 0)||null),this.tempCombinedKenpoStandardMonthly=e?e.standardMonthlySalary:null,this.tempCombinedKenpoGrade=e?e.grade:null;let t=this.nenkinStandardMonthlyList.find(a=>{let u=Number(a.nenkinStart??-1/0),m=a.nenkinEnd===null||a.nenkinEnd===""||a.nenkinEnd===void 0?1/0:Number(a.nenkinEnd);return o>=u&&o<m})||null;t||(t=this.nenkinStandardMonthlyList.find(a=>a.nenkinEnd===null||a.nenkinEnd===""||a.nenkinEnd===void 0)||null),this.tempCombinedNenkinStandardMonthly=t?t.nenkinMonthly:null,this.tempCombinedNenkinGrade=t?t.nenkinGrade:null}get isSocialInsuranceExcludedByInsurance(){return this.insurancesList.some(o=>o.isInsuranceTarget===!1||o.isInsuranceTarget==="false"||o.isInsuranceTarget===0)}isMonthOfFortiethBirthdayEveOrBefore(o){if(!o)return!1;let e=new Date(o);if(isNaN(e.getTime()))return!1;let t=new Date,a=new Date(e.getFullYear()+40,e.getMonth(),e.getDate()),u=new Date(a);u.setDate(u.getDate()-1);let m=new Date(u.getFullYear(),u.getMonth(),1),I=new Date(t.getFullYear(),t.getMonth(),1);return m<=I}get isMaternityLeaveButtonDisabled(){return!this.latestInsurance||!("isInsuranceTarget"in this.latestInsurance)?!1:this.latestInsurance.isInsuranceTarget===!1}openBonusInfoPopup(){this.showBonusInfoPopup=!0}closeBonusInfoPopup(){this.showBonusInfoPopup=!1}get isSeishain(){return this.employee?.employmentType==="\u6B63\u793E\u54E1"}onEmploymentTypeChange(o){return A(this,null,function*(){this.employee.employmentType=o;let e=this.employee.officeId||this.employee.officesId;if(o==="\u6B63\u793E\u54E1"&&e&&this.employee.companyId)try{let t=T(this.firestore,`companies/${this.employee.companyId}/offices/${e}`),u=(yield k(M(this.firestore,`companies/${this.employee.companyId}/offices`))).docs.find(m=>m.id===e);if(u){let m=u.data();m.monthlyDays!==void 0&&(this.employee.workDays=m.monthlyDays),m.weeklyHours!==void 0&&(this.employee.workHours=m.weeklyHours)}}catch{}else if(o==="\u6B63\u793E\u54E1"&&this.employee.officeName&&this.companyOffices.length>0){let t=this.companyOffices.find(a=>a.officeName===this.employee.officeName);t&&(this.employee.officeId=t.id,t.monthlyDays!==void 0&&(this.employee.workDays=t.monthlyDays),t.weeklyHours!==void 0&&(this.employee.workHours=t.weeklyHours))}})}handleContractChange(o,e){return A(this,null,function*(){if(this.latestStandard){let a=M(this.firestore,`companies/${this.employee.companyId}/employees/${this.employeeId}/standards`),t=this.latestStandard,{id:u,createdAt:m}=t,I=le(t,["id","createdAt"]);yield $(a,ie(L({},I),{createdAt:new Date,memo:"\u96C7\u7528\u5951\u7D04\u60C5\u5831\u66F4\u65B0"}))}yield F(o,{employmentType:this.employee.employmentType,employmentPeriodType:this.employee.employmentPeriodType,employmentPeriodStart:this.employee.employmentPeriodStart,employmentPeriodEnd:this.employee.employmentPeriodEnd,employmentPeriodRenewal:this.employee.employmentPeriodRenewal,workDays:this.employee.workDays,workHours:this.employee.workHours,salaryCash:this.employee.salaryCash,salaryInKind:this.employee.salaryInKind,salaryTotal:this.employee.salaryTotal,baseSalary:this.employee.baseSalary}),this.router.navigate(["/calculate",this.employeeId])})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=ue({type:n,selectors:[["app-employee-detail"]],decls:231,vars:97,consts:[["showJoinDate",""],["showLeaveDate",""],["singleRelation",""],[1,"detail-header"],[1,"detail-header-title"],["class","qualification-lost-banner","style","background:#d32f2f;color:#fff;padding:8px 0;text-align:center;font-weight:bold;",4,"ngIf"],[1,"detail-main-wrapper"],[1,"detail-row","detail-row-top"],[1,"detail-container","detail-container-1"],[1,"container-title-row"],[1,"container-title"],["class","edit-btn inline-edit-btn",3,"click",4,"ngIf"],[4,"ngIf"],[1,"info-row"],[1,"info-label"],[1,"info-value"],["class","info-value",4,"ngIf"],["class","info-value","placeholder","\u59D3","style","width: 4em; margin-right: 0.5em;",3,"ngModel","ngClass","disabled","ngModelChange",4,"ngIf"],["class","info-value","placeholder","\u540D","style","width: 4em;",3,"ngModel","ngClass","disabled","ngModelChange",4,"ngIf"],["class","info-value","type","date",3,"ngModel","ngClass","disabled","ngModelChange",4,"ngIf"],["class","info-value","style","width: 4em;",3,"ngModel","ngClass","disabled","ngModelChange",4,"ngIf"],["class","info-value",3,"ngModel","ngClass","disabled","ngModelChange","change",4,"ngIf"],["class","info-value","type","date",3,"ngModel","disabled","ngModelChange",4,"ngIf"],[1,"detail-container","detail-container-2"],["class","edit-btn inline-edit-btn",3,"disabled","ngClass","click",4,"ngIf"],["class","info-value",3,"ngModel","ngClass","ngModelChange",4,"ngIf"],["class","info-value",3,"ngModel","ngClass","ngModelChange","change",4,"ngIf"],["style","color: red;",4,"ngIf"],["class","info-value","type","date",3,"ngModel","required","ngClass","ngModelChange",4,"ngIf"],["class","info-row",4,"ngIf"],["class","info-value","type","number","min","0","style","width: 4em;",3,"ngModel","ngClass","disabled","ngModelChange",4,"ngIf"],["class","info-value","type","number","min","0","style","width: 6em;",3,"ngModel","ngClass","ngModelChange",4,"ngIf"],[1,"detail-container","detail-container-3"],["class","info-value",3,"ngModel","ngModelChange","change",4,"ngIf"],["class","info-value",3,"ngModel","ngModelChange",4,"ngIf"],[1,"detail-row","detail-row-bottom"],[1,"detail-container","detail-container-4"],["style","margin-top: 12px; color: #d32f2f; font-weight: bold;",4,"ngIf"],["id","insurance-container",1,"detail-container","detail-container-5"],["class","info-value","type","number","min","0","style","width: 6em;","required","",3,"ngModel","ngClass","ngModelChange",4,"ngIf"],["class","info-value","type","number","min","0","style","width: 6em;",3,"ngModel","readonly","ngClass",4,"ngIf"],[4,"ngIf","ngIfElse"],["class","insurance-warning","style","color: #d32f2f; font-size: 0.98em; margin-top: 12px;",4,"ngIf"],["class","combined-info-container",4,"ngIf"],["class","detail-row detail-row-bonus",4,"ngIf"],[2,"display","flex","justify-content","center","margin-top","48px","margin-bottom","32px"],["type","button",1,"delete-employee-btn",3,"click"],[1,"qualification-lost-banner",2,"background","#d32f2f","color","#fff","padding","8px 0","text-align","center","font-weight","bold"],[1,"edit-btn","inline-edit-btn",3,"click"],[1,"edit-btn","inline-edit-btn",3,"click","disabled"],["placeholder","\u59D3",1,"info-value",2,"width","4em","margin-right","0.5em",3,"ngModelChange","ngModel","ngClass","disabled"],["placeholder","\u540D",1,"info-value",2,"width","4em",3,"ngModelChange","ngModel","ngClass","disabled"],["type","date",1,"info-value",3,"ngModelChange","ngModel","ngClass","disabled"],[1,"info-value",2,"width","4em",3,"ngModelChange","ngModel","ngClass","disabled"],[1,"info-value",3,"ngModelChange","change","ngModel","ngClass","disabled"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","date",1,"info-value",3,"ngModelChange","ngModel","disabled"],[1,"edit-btn","inline-edit-btn",3,"click","disabled","ngClass"],[1,"info-value",3,"ngModelChange","ngModel","ngClass"],[1,"info-value",3,"ngModelChange","change","ngModel","ngClass"],["value","\u7121\u671F"],["value","\u6709\u671F"],[2,"color","red"],["type","date",1,"info-value",3,"ngModelChange","ngModel","required","ngClass"],[2,"margin-right","1.5em"],["type","radio","name","employmentPeriodRenewal","value","\u66F4\u65B0\u3042\u308A",3,"ngModelChange","ngModel"],["type","radio","name","employmentPeriodRenewal","value","\u66F4\u65B0\u306A\u3057",3,"ngModelChange","ngModel"],["type","number","min","0",1,"info-value",2,"width","4em",3,"ngModelChange","ngModel","ngClass","disabled"],["type","number","min","0",1,"info-value",2,"width","6em",3,"ngModelChange","ngModel","ngClass"],[1,"info-value",3,"ngModelChange","change","ngModel"],["value","\u88AB\u6276\u990A\u8005\u3042\u308A"],["value","\u88AB\u6276\u990A\u8005\u306A\u3057"],["style","margin-bottom: 2px;",4,"ngFor","ngForOf"],[2,"display","flex","gap","8px","margin-top","4px"],["type","button",3,"click"],["type","button",3,"click","disabled"],[2,"margin-bottom","2px"],[1,"info-value",2,"width","8em",3,"ngModelChange","ngModel","ngClass"],[1,"info-value",3,"ngModelChange","ngModel"],["value","\u5B66\u751F"],["value","\u5B66\u751F\u3067\u306F\u306A\u3044"],["value","\u8A72\u5F53\u3057\u306A\u3044"],["value","\u65E5\u672C\u304B\u3089\u5916\u56FD\u3078\u306E\u6D3E\u9063\u52B4\u50CD\u8005"],["value","\u5916\u56FD\u304B\u3089\u65E5\u672C\u3078\u306E\u6D3E\u9063\u52B4\u50CD\u8005"],["value","\u8A72\u5F53\u3059\u308B"],["value","\u9078\u629E\u4E8B\u696D\u6240"],["value","\u975E\u9078\u629E\u4E8B\u696D\u6240"],[2,"margin-top","12px","color","#d32f2f","font-weight","bold"],[2,"font-weight","normal","color","#333"],[1,"edit-btn",2,"margin-left","8px","font-size","0.95em","padding","2px 8px",3,"click"],["style","margin: 24px 0; color: #d32f2f; font-weight: bold; text-align: center; font-size: 1.1em;",4,"ngIf"],["style","display: inline-flex; align-items: center; gap: 8px; margin-bottom: 8px;",4,"ngIf"],[1,"insurance-action-buttons"],[1,"calc-insurance-btn",3,"click","disabled","ngClass"],["class","maternity-leave-btn",3,"disabled","ngClass","click",4,"ngIf"],[1,"history-btn",3,"click"],[2,"margin","24px 0","color","#d32f2f","font-weight","bold","text-align","center","font-size","1.1em"],[1,"insurance-table"],[2,"display","inline-flex","align-items","center","gap","8px","margin-bottom","8px"],["type","date",2,"margin-right","8px","color","#333",3,"ngModelChange","ngModel"],["type","date",2,"color","#333",3,"ngModelChange","ngModel"],[1,"save-maternity-leave-btn",3,"click"],[1,"cancel-maternity-leave-btn",3,"click"],[1,"maternity-leave-btn",3,"click","disabled","ngClass"],[1,"info-value",2,"color","#d32f2f"],["type","month","required","",1,"info-value",2,"color","#d32f2f",3,"ngModelChange","ngModel"],[1,"info-value",2,"color","#d32f2f",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],["value","\u8CC7\u683C\u53D6\u5F97\u6642"],["value","\u5B9A\u6642\u6C7A\u5B9A"],["value","\u968F\u6642\u6539\u5B9A"],["value","\u80B2\u5150\u4F11\u696D\u7B49\u3092\u7D42\u4E86\u3057\u305F\u969B\u306E\u6539\u5B9A"],["type","number","min","0","required","",1,"info-value",2,"width","6em",3,"ngModelChange","ngModel","ngClass"],["type","number","min","0",1,"info-value",2,"width","6em",3,"ngModel","readonly","ngClass"],["type","date",1,"info-value",3,"ngModelChange","ngModel"],["value","\u3059\u308B"],["value","\u3057\u306A\u3044"],[1,"confirm-btn",2,"margin-left","8px",3,"click"],[1,"insurance-warning",2,"color","#d32f2f","font-size","0.98em","margin-top","12px"],[1,"combined-info-container"],["style","display: flex; flex-direction: column; align-items: center; width: 100%;",4,"ngIf"],["type","button",1,"edit-btn","combined-edit-btn",2,"float","right",3,"click","disabled","ngClass"],["style","text-align: right; margin-top: 4px;",4,"ngIf"],[2,"display","flex","flex-direction","column","align-items","center","width","100%"],["type","text",1,"info-value",2,"width","5em","margin-bottom","0",3,"ngModelChange","ngModel"],[2,"text-align","right","margin-top","4px"],["type","button",1,"edit-btn",2,"padding","2px 12px","font-size","0.95em",3,"click","disabled","ngClass"],[1,"detail-row","detail-row-bonus"],[1,"detail-container","detail-container-6"],["type","button","aria-label","\u8CDE\u4E0E\u306E\u8AAC\u660E",1,"info-btn",2,"border","none","background","none","padding","0",3,"click"],[2,"display","inline-block","width","1.2em","height","1.2em","border-radius","50%","background","#1976d2","color","#fff","text-align","center","font-weight","bold","font-size","1em","line-height","1.2em"],["class","bonus-info-popup-backdrop",4,"ngIf"],[3,"employeeId","companyId","isLostQualification"],[1,"bonus-info-popup-backdrop"],[1,"bonus-info-popup"],[1,"bonus-info-popup-title"],[1,"bonus-info-popup-content"],[1,"bonus-info-popup-close",3,"click"]],template:function(e,t){if(e&1){let a=C();l(0,"div",3)(1,"span",4),r(2,"\u5F93\u696D\u54E1\u8A73\u7D30"),i()(),f(3,st,2,0,"div",5),l(4,"div",6)(5,"div",7)(6,"div",8)(7,"div",9)(8,"span",10),r(9,"\u5F93\u696D\u54E1\u60C5\u5831"),i(),f(10,ut,2,0,"button",11)(11,pt,5,1,"ng-container",12),i(),l(12,"div",13)(13,"span",14),r(14,"\u7BA1\u7406\u756A\u53F7"),i(),l(15,"span",15),r(16),i()(),l(17,"div",13)(18,"span",14),r(19,"\u6C0F\u540D"),i(),f(20,dt,2,1,"span",16)(21,mt,1,5,"input",17)(22,ct,1,5,"input",18),i(),l(23,"div",13)(24,"span",14),r(25,"\u6027\u5225"),i(),l(26,"span",15),r(27),i()(),l(28,"div",13)(29,"span",14),r(30,"\u751F\u5E74\u6708\u65E5"),i(),f(31,yt,2,1,"span",16)(32,ft,1,5,"input",19),i(),l(33,"div",13)(34,"span",14),r(35,"\u5E74\u9F62"),i(),l(36,"span",15),r(37),i()(),l(38,"div",13)(39,"span",14),r(40,"\u56FD\u7C4D"),i(),f(41,ht,2,1,"span",16)(42,gt,1,5,"input",20),i(),l(43,"div",13)(44,"span",14),r(45,"\u6240\u5C5E\u4E8B\u696D\u6240"),i(),f(46,_t,2,1,"span",16)(47,xt,4,6,"select",21),i(),l(48,"div",13)(49,"span",14),r(50,"\u793E\u54E1\u756A\u53F7"),i(),l(51,"span",15),r(52),i()(),l(53,"div",13)(54,"span",14),r(55,"\u5165\u793E\u65E5"),i(),l(56,"span",15),r(57),g(58,"date"),i()(),l(59,"div",13)(60,"span",14),r(61,"\u9000\u8077\u65E5"),i(),f(62,Et,2,1,"span",16)(63,bt,1,2,"input",22),i()(),l(64,"div",23)(65,"div",9)(66,"span",10),r(67,"\u96C7\u7528\u5951\u7D04\u60C5\u5831"),i(),f(68,St,2,4,"button",24)(69,wt,5,1,"ng-container",12),i(),l(70,"div",13)(71,"span",14),r(72,"\u96C7\u7528\u5F62\u614B"),i(),f(73,It,2,1,"span",16)(74,vt,2,5,"select",25),i(),l(75,"div",13)(76,"span",14),r(77,"\u96C7\u7528\u5951\u7D04\u671F\u9593"),i(),f(78,Mt,2,1,"span",16)(79,Bt,5,4,"select",26),i(),l(80,"div",13)(81,"span",14),r(82,"\u96C7\u7528\u5951\u7D04\u958B\u59CB\u65E5"),f(83,Ft,2,0,"span",27),i(),f(84,At,2,1,"span",16)(85,kt,1,5,"input",28),i(),l(86,"div",13)(87,"span",14),r(88,"\u96C7\u7528\u5951\u7D04\u7D42\u4E86\u65E5"),f(89,Tt,2,0,"span",27),i(),f(90,Pt,2,1,"span",16)(91,Ot,1,5,"input",28),i(),f(92,Nt,5,2,"div",29),l(93,"div",13)(94,"span",14),r(95,"\u6240\u5B9A\u52B4\u50CD\u65E5\u6570\uFF08\u6708\uFF09"),i(),f(96,Wt,2,1,"span",16)(97,Rt,1,5,"input",30),i(),l(98,"div",13)(99,"span",14),r(100,"\u6240\u5B9A\u52B4\u50CD\u6642\u9593\uFF08\u9031\uFF09"),i(),f(101,Kt,2,1,"span",16)(102,Ht,1,5,"input",30),i(),l(103,"div",13)(104,"span",14),r(105,"\u56FA\u5B9A\u7D66"),i(),f(106,zt,3,4,"span",16)(107,Gt,1,4,"input",31),i()(),l(108,"div",32)(109,"div",9)(110,"span",10),r(111,"\u305D\u306E\u4ED6"),i(),f(112,Qt,2,4,"button",24)(113,jt,5,1,"ng-container",12),i(),l(114,"div",13)(115,"span",14),r(116,"\u6276\u990A\u60C5\u5831"),i(),f(117,Yt,2,1,"span",16)(118,qt,5,1,"select",33),i(),l(119,"div",13)(120,"span",14),r(121,"\u88AB\u6276\u990A\u8005"),i(),f(122,Jt,4,2,"span",16)(123,Xt,7,2,"div",12)(124,en,2,0,"span",16),i(),l(125,"div",13)(126,"span",14),r(127,"\u5B66\u751F\u533A\u5206"),i(),f(128,tn,2,1,"span",16)(129,nn,5,1,"select",34),i(),l(130,"div",13)(131,"span",14),r(132,"\u5916\u56FD\u6D3E\u9063\u52B4\u50CD\u8005\u533A\u5206"),i(),f(133,on,2,1,"span",16)(134,an,7,1,"select",33),i(),f(135,ln,10,4,"div",29)(136,rn,10,4,"div",29)(137,sn,5,1,"div",29)(138,un,5,1,"div",29),l(139,"div",13)(140,"span",14),r(141,"\u4E8C\u4EE5\u4E0A\u4E8B\u696D\u6240\u52E4\u52D9\u533A\u5206"),i(),f(142,pn,2,1,"span",16)(143,dn,5,1,"select",33),i(),f(144,mn,10,4,"div",29)(145,cn,5,1,"div",29),i()(),l(146,"div",35)(147,"div",36)(148,"span",10),r(149,"\u6700\u65B0\u306E\u793E\u4F1A\u4FDD\u967A\u6599"),i(),f(150,yn,7,2,"div",37)(151,xn,11,9,"ng-container",12),i(),l(152,"div",38)(153,"div",9)(154,"span",10),r(155,"\u793E\u4F1A\u4FDD\u967A\u60C5\u5831"),i(),f(156,En,2,4,"button",24)(157,bn,5,1,"ng-container",12),i(),l(158,"div",13)(159,"span",14),r(160,"\u6A19\u6E96\u5831\u916C\u6708\u984D\uFF08\u5065\u5EB7\u4FDD\u967A\u30FB\u4ECB\u8B77\u4FDD\u967A\uFF09"),i(),f(161,Sn,3,4,"span",16)(162,wn,3,4,"span",16),i(),f(163,In,6,4,"div",29),l(164,"div",13)(165,"span",14),r(166,"\u7B49\u7D1A\uFF08\u5065\u5EB7\u4FDD\u967A\u30FB\u4ECB\u8B77\u4FDD\u967A\uFF09"),i(),f(167,Dn,2,1,"span",16)(168,vn,2,1,"span",16),i(),f(169,Mn,5,1,"div",29),l(170,"div",13)(171,"span",14),r(172,"\u6A19\u6E96\u5831\u916C\u6708\u984D\uFF08\u539A\u751F\u5E74\u91D1\uFF09"),i(),f(173,Bn,3,4,"span",16)(174,Fn,3,4,"span",16),i(),f(175,An,6,4,"div",29),l(176,"div",13)(177,"span",14),r(178,"\u7B49\u7D1A\uFF08\u539A\u751F\u5E74\u91D1\uFF09"),i(),f(179,kn,2,1,"span",16)(180,Tn,2,1,"span",16),i(),f(181,Pn,5,1,"div",29),l(182,"div",13)(183,"span",14),r(184,"\u6A19\u6E96\u5831\u916C\u6708\u984D\u6700\u7D42\u6539\u5B9A\u6708"),i(),f(185,On,3,4,"span",16)(186,Vn,3,4,"span",16),i(),f(187,Ln,6,1,"div",29),l(188,"div",13)(189,"span",14),r(190,"\u6539\u5B9A\u7A2E\u5225"),i(),f(191,Nn,2,1,"span",16)(192,Wn,2,1,"span",16),i(),f(193,Rn,16,1,"div",29),l(194,"div",13)(195,"span",14),r(196,"\u5831\u916C\u6708\u984D\uFF08\u901A\u8CA8\uFF09"),f(197,Kn,2,0,"span",27),i(),f(198,Hn,3,4,"span",16)(199,zn,1,4,"input",39),i(),l(200,"div",13)(201,"span",14),r(202,"\u5831\u916C\u6708\u984D\uFF08\u73FE\u7269\uFF09"),i(),f(203,Gn,3,4,"span",16)(204,Qn,1,4,"input",31),i(),l(205,"div",13)(206,"span",14),r(207,"\u5831\u916C\u6708\u984D\uFF08\u5408\u8A08\uFF09"),i(),f(208,jn,3,4,"span",16)(209,Yn,1,5,"input",40),i(),l(210,"div",13)(211,"span",14),r(212,"\u8CC7\u683C\u53D6\u5F97\u65E5"),i(),l(213,"span",15),f(214,qn,2,1,"ng-container",41)(215,Un,2,4,"ng-template",null,0,me),i()(),l(217,"div",13)(218,"span",14),r(219,"\u8CC7\u683C\u55AA\u5931\u65E5"),i(),l(220,"span",15),f(221,$n,1,0,"ng-container",41)(222,Jn,2,4,"ng-template",null,1,me),i()(),f(224,Zn,10,1,"div",29)(225,Xn,2,0,"div",42)(226,ri,35,22,"div",43),i()(),f(227,ui,9,4,"div",44),i(),l(228,"div",45)(229,"button",46),x("click",function(){return c(a),y(t.deleteEmployee())}),r(230,"\u5F93\u696D\u54E1\u3092\u524A\u9664"),i()()}if(e&2){let a=pe(216),u=pe(223);s(3),d("ngIf",t.employee==null?null:t.employee.isLostQualification),s(7),d("ngIf",!t.isEditPersonal),s(),d("ngIf",t.isEditPersonal),s(5),h((t.employee==null?null:t.employee.managementNumber)||"---"),s(4),d("ngIf",!t.isEditPersonal),s(),d("ngIf",t.isEditPersonal),s(),d("ngIf",t.isEditPersonal),s(5),h((t.employee==null?null:t.employee.gender)||"---"),s(4),d("ngIf",!t.isEditPersonal),s(),d("ngIf",t.isEditPersonal),s(5),h(t.currentAge!==void 0&&t.currentAge!==null?t.currentAge+"\u6B73":"---"),s(4),d("ngIf",!t.isEditPersonal),s(),d("ngIf",t.isEditPersonal),s(4),d("ngIf",!t.isEditPersonal),s(),d("ngIf",t.isEditPersonal),s(5),h((t.employee==null?null:t.employee.employeeNumber)||"---"),s(5),h(t.employee!=null&&t.employee.joinDate?_(58,94,t.employee.joinDate,"yyyy-MM-dd"):"---"),s(5),d("ngIf",!t.isEditPersonal),s(),d("ngIf",t.isEditPersonal),s(5),d("ngIf",!t.isEditContract),s(),d("ngIf",t.isEditContract),s(4),d("ngIf",!t.isEditContract),s(),d("ngIf",t.isEditContract),s(4),d("ngIf",!t.isEditContract),s(),d("ngIf",t.isEditContract),s(4),d("ngIf",t.isEditContract&&t.employee.employmentPeriodType==="\u6709\u671F"),s(),d("ngIf",!t.isEditContract),s(),d("ngIf",t.isEditContract),s(4),d("ngIf",t.isEditContract&&t.employee.employmentPeriodType==="\u6709\u671F"),s(),d("ngIf",!t.isEditContract),s(),d("ngIf",t.isEditContract),s(),d("ngIf",(t.employee==null?null:t.employee.employmentPeriodType)==="\u6709\u671F"),s(4),d("ngIf",!t.isEditContract),s(),d("ngIf",t.isEditContract),s(4),d("ngIf",!t.isEditContract),s(),d("ngIf",t.isEditContract),s(4),d("ngIf",!t.isEditContract),s(),d("ngIf",t.isEditContract),s(5),d("ngIf",!t.isEditOther),s(),d("ngIf",t.isEditOther),s(4),d("ngIf",!t.isEditOther),s(),d("ngIf",t.isEditOther),s(4),d("ngIf",!t.isEditOther),s(),d("ngIf",t.isEditOther&&t.employee.dependentStatus==="\u88AB\u6276\u990A\u8005\u3042\u308A"),s(),d("ngIf",t.isEditOther&&t.employee.dependentStatus!=="\u88AB\u6276\u990A\u8005\u3042\u308A"),s(4),d("ngIf",!t.isEditOther),s(),d("ngIf",t.isEditOther),s(4),d("ngIf",!t.isEditOther),s(),d("ngIf",t.isEditOther),s(),d("ngIf",t.isEditOther&&t.employee.dispatchedAbroad!=="\u8A72\u5F53\u3057\u306A\u3044"),s(),d("ngIf",t.isEditOther&&t.employee.dispatchedAbroad!=="\u8A72\u5F53\u3057\u306A\u3044"&&t.employee.socialSecurityAgreement==="\u8A72\u5F53\u3059\u308B"),s(),d("ngIf",!t.isEditOther&&(t.employee==null?null:t.employee.dispatchedAbroad)&&t.employee.dispatchedAbroad!=="\u8A72\u5F53\u3057\u306A\u3044"),s(),d("ngIf",!t.isEditOther&&(t.employee==null?null:t.employee.dispatchedAbroad)&&t.employee.dispatchedAbroad!=="\u8A72\u5F53\u3057\u306A\u3044"),s(4),d("ngIf",!t.isEditOther),s(),d("ngIf",t.isEditOther),s(),d("ngIf",t.isEditOther&&t.employee.multiOffice==="\u8A72\u5F53\u3059\u308B"),s(),d("ngIf",!t.isEditOther&&(t.employee==null?null:t.employee.multiOffice)==="\u8A72\u5F53\u3059\u308B"),s(5),d("ngIf",t.employee&&t.employee.onMaternityLeave),s(),d("ngIf",t.employee),s(5),d("ngIf",!t.isEditInsurance),s(),d("ngIf",t.isEditInsurance),s(4),d("ngIf",!t.isEditInsurance),s(),d("ngIf",t.isEditInsurance),s(),d("ngIf",t.isEditInsurance),s(4),d("ngIf",!t.isEditInsurance),s(),d("ngIf",t.isEditInsurance),s(),d("ngIf",t.isEditInsurance),s(4),d("ngIf",!t.isEditInsurance),s(),d("ngIf",t.isEditInsurance),s(),d("ngIf",t.isEditInsurance),s(4),d("ngIf",!t.isEditInsurance),s(),d("ngIf",t.isEditInsurance),s(),d("ngIf",t.isEditInsurance),s(4),d("ngIf",!t.isEditInsurance),s(),d("ngIf",t.isEditInsurance),s(),d("ngIf",t.isEditInsurance),s(4),d("ngIf",!t.isEditInsurance),s(),d("ngIf",t.isEditInsurance),s(),d("ngIf",t.isEditInsurance),s(4),d("ngIf",t.isEditInsurance),s(),d("ngIf",!t.isEditInsurance),s(),d("ngIf",t.isEditInsurance),s(4),d("ngIf",!t.isEditInsurance),s(),d("ngIf",t.isEditInsurance),s(4),d("ngIf",!t.isEditInsurance),s(),d("ngIf",t.isEditInsurance),s(5),d("ngIf",t.isEditInsurance)("ngIfElse",a),s(7),d("ngIf",t.isEditInsurance)("ngIfElse",u),s(3),d("ngIf",t.isAfterMonthBeforeSeventyBirthdayEve),s(),d("ngIf",t.isEditInsurance),s(),d("ngIf",(t.employee==null?null:t.employee.multiOffice)==="\u8A72\u5F53\u3059\u308B"),s(),d("ngIf",!(t.latestInsurance!=null&&t.latestInsurance.hasOwnProperty("isInsuranceTarget")))}},dependencies:[_e,ce,ye,fe,Re,ge,he,He,we,Ye,qe,xe,Se,je,Qe,Ee,$e,Ue,be,ve],styles:["table[_ngcontent-%COMP%]{width:100%;max-width:600px;border-collapse:separate;border-spacing:0;margin:0 auto 2rem;background:#fff;box-shadow:0 2px 8px #0000000a;border-radius:10px;overflow:hidden}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.9em 1.2em;text-align:left;font-size:1rem}th[_ngcontent-%COMP%]{background:#f4f8fb;color:#2a3b4d;font-weight:600;border-bottom:1.5px solid #d0e3f9;width:38%}td[_ngcontent-%COMP%]{background:#fcfdff;color:#333;border-bottom:1px solid #e3eaf1;width:62%;word-break:break-all}tr[_ngcontent-%COMP%]:last-child   th[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}@media (max-width: 600px){table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:.95rem}table[_ngcontent-%COMP%]{max-width:100%}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.7em .6em}}div[ngif][_ngcontent-%COMP%]{padding:2rem .5rem}.employee-detail-layout[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:0;margin-top:0;width:100%;max-width:100%;margin-left:0;margin-right:0;min-height:70vh}.employee-detail-left[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000000a;padding:1.1rem .7rem;display:flex;flex-direction:column;justify-content:flex-start;font-size:10.5px}.employee-detail-right[_ngcontent-%COMP%]{background:#f4f8fb;border-radius:12px;box-shadow:0 2px 8px #00000008;padding:2rem 1.5rem;display:flex;flex-direction:column;justify-content:flex-start}@media (max-width: 900px){.employee-detail-layout[_ngcontent-%COMP%]{flex-direction:column;gap:1.2rem;margin-top:1.2rem}.employee-detail-left[_ngcontent-%COMP%], .employee-detail-right[_ngcontent-%COMP%]{padding:1.2rem .7rem;border-radius:10px}}.employee-detail-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px 10px;margin-top:10px}.employee-detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;background:#f4f8fb;border:1.5px solid #d0e3f9;border-radius:8px;padding:4px 5px;min-height:24px;box-sizing:border-box;transition:box-shadow .2s}.employee-detail-item[_ngcontent-%COMP%]:hover{box-shadow:0 2px 8px #d0e3f92e}.employee-detail-item.unnotified[_ngcontent-%COMP%]{border:1.5px solid #e53935}.employee-detail-label[_ngcontent-%COMP%]{min-width:0;font-weight:500;margin-right:0;color:#7b8a9b;font-size:.75rem;margin-bottom:2px;flex-shrink:0}.employee-detail-value[_ngcontent-%COMP%]{flex:1;color:#222;font-size:.8rem;font-weight:600;word-break:break-all;margin-bottom:2px}@media (max-width: 900px){.employee-detail-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:14px 0}.employee-detail-item[_ngcontent-%COMP%]{padding:12px 10px;min-height:40px}.employee-detail-label[_ngcontent-%COMP%], .employee-detail-value[_ngcontent-%COMP%]{font-size:.98rem}}.edit-btn-row[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:0}.edit-btn[_ngcontent-%COMP%]{background:#1976d2;color:#fff;font-size:1.01rem;font-weight:600;padding:.45rem 1.6rem;border:none;border-radius:7px;cursor:pointer;box-shadow:0 1px 4px #1976d214;transition:background .2s}.edit-btn[_ngcontent-%COMP%]:hover{background:#1565c0}.delete-btn[_ngcontent-%COMP%]{background:#e53935;color:#fff}.delete-btn[_ngcontent-%COMP%]:hover{background:#b71c1c}.unnotified-warning[_ngcontent-%COMP%]{background:#fffbe6;color:#e65100;font-size:.7rem;padding:5px 8px;border-radius:7px;margin-left:10px;line-height:1.6;font-weight:500;box-shadow:0 1px 4px #ffc10714;display:inline-block;max-width:220px}.insurance-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px 10px;margin-top:18px}.insurance-item[_ngcontent-%COMP%]{background:#fff;border:1.2px solid #d0e3f9;border-radius:7px;padding:7px 8px;min-height:32px;font-size:.85rem;font-weight:500;color:#1976d2;display:flex;align-items:center;justify-content:space-between;box-sizing:border-box;transition:box-shadow .2s;box-shadow:0 1px 4px #2196f30a}.insurance-table[_ngcontent-%COMP%]{width:100%;max-width:100%;margin:0 0 2.5em;border-collapse:collapse;background:#fff;border-radius:0;overflow:visible;font-size:.95rem;box-shadow:none}.insurance-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .insurance-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #d0e3f9;padding:7px 8px;text-align:center;width:25%;border-color:#d0e3f9}.insurance-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f4f8fb;color:#1976d2;font-weight:600;border-color:#d0e3f9}.insurance-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#fff;color:#222;border-color:#d0e3f9}.detail-header[_ngcontent-%COMP%]{width:100%;padding-top:3.5rem;margin-bottom:1.2rem;display:flex;align-items:flex-end;justify-content:flex-start}.detail-header-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1976d2;letter-spacing:.04em;margin-left:.2em}.detail-header-left[_ngcontent-%COMP%], .detail-header-right[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;flex:1;text-align:left}.detail-main-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px;width:100%;margin-top:2.5rem}.detail-row[_ngcontent-%COMP%]{display:flex;width:100%;gap:24px}.detail-row-top[_ngcontent-%COMP%]   .detail-container[_ngcontent-%COMP%], .detail-row-bottom[_ngcontent-%COMP%]   .detail-container[_ngcontent-%COMP%]{flex:1 1 0;min-width:0;min-height:120px}.detail-container[_ngcontent-%COMP%]{position:relative;padding-top:0;padding-left:1.2rem;padding-right:1.2rem;padding-bottom:1.2rem;background:#fff;border-radius:10px;box-shadow:0 2px 8px #0000000a;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;font-size:1.1rem;font-weight:600;color:#1976d2}.container-title-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:.5em;width:100%}.container-title[_ngcontent-%COMP%]{display:inline-block;font-size:1.08rem;font-weight:700;color:#1976d2;border-bottom:1px solid #e0e6ef;padding-bottom:.2em;margin-bottom:0}.info-row[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin-bottom:.3em;font-size:.98rem}.info-label[_ngcontent-%COMP%]{width:10em;color:#7b8a9b;font-weight:500;margin-right:.7em;font-size:.97em}.info-value[_ngcontent-%COMP%]{flex:1;color:#222;font-weight:600;font-size:1em}.insurance-action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:12px;margin-top:8px;margin-bottom:8px}.calc-insurance-btn[_ngcontent-%COMP%], .maternity-leave-btn[_ngcontent-%COMP%], .history-btn[_ngcontent-%COMP%]{width:auto;box-sizing:border-box;font-size:.98em;border-radius:7px;font-weight:600;padding:8px 18px;margin:0;transition:background .2s,color .2s,border .2s}.calc-insurance-btn[_ngcontent-%COMP%]{min-width:220px;max-width:220px;background:#1976d2;color:#fff;border:none}.calc-insurance-btn[_ngcontent-%COMP%]:hover{background:#1251a2}.maternity-leave-btn[_ngcontent-%COMP%]{min-width:120px;max-width:180px;background:#42a5f5;color:#fff;border:none}.maternity-leave-btn[_ngcontent-%COMP%]:hover{background:#1976d2}.history-btn[_ngcontent-%COMP%]{min-width:120px;max-width:180px;background:#fff;color:#1976d2;border:.5px solid #1976d2}.history-btn[_ngcontent-%COMP%]:hover, .history-btn[_ngcontent-%COMP%]:focus{background:#1976d2;color:#fff;border-color:#1251a2}.detail-container-5[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{width:21em}.inline-edit-btn[_ngcontent-%COMP%]{margin-left:0!important;vertical-align:middle;font-size:.95em;padding:2px 10px;height:2em}.input-error[_ngcontent-%COMP%]{border:1.5px solid #e53935!important;box-shadow:0 0 2px #e53935}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(.97)}to{opacity:1;transform:scale(1)}}.disabled-btn[_ngcontent-%COMP%]{background:#bdbdbd!important;color:#f5f5f5!important;cursor:not-allowed!important;border:none!important;opacity:.7;box-shadow:none!important}.delete-employee-btn[_ngcontent-%COMP%]{background:#d32f2f;color:#fff;border:none;border-radius:8px;padding:12px 32px;font-size:1.1em;font-weight:700;cursor:pointer;transition:background .2s}.delete-employee-btn[_ngcontent-%COMP%]:hover{background:#b71c1c}.combined-info-container[_ngcontent-%COMP%]{border:1.5px solid #bfc9d9;border-radius:10px;background:#f8fbff;margin:18px auto 24px;padding:18px 24px;min-height:32px;width:92%;font-size:.95rem}.combined-edit-btn[_ngcontent-%COMP%]{float:right;margin-bottom:8px;background:#1976d2;color:#fff;border:none;border-radius:6px;padding:4px 16px;font-size:.98em;font-weight:500;cursor:pointer;transition:background .2s}.combined-edit-btn[_ngcontent-%COMP%]:hover{background:#1565c0}.combined-info-container[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{width:25em}.bonus-info-popup-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000040;z-index:1000;display:flex;align-items:center;justify-content:center}.bonus-info-popup[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 4px 24px #1976d22e;padding:28px 32px 20px;min-width:320px;max-width:90vw;text-align:center;position:relative}.bonus-info-popup-title[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700;color:#1976d2;margin-bottom:12px}.bonus-info-popup-content[_ngcontent-%COMP%]{color:#333;font-size:1em;margin-bottom:18px}.bonus-info-popup-close[_ngcontent-%COMP%]{background:#e3f0fd;color:#1976d2;border:none;border-radius:6px;padding:6px 24px;font-size:1em;font-weight:700;cursor:pointer;transition:background .2s,color .2s}.bonus-info-popup-close[_ngcontent-%COMP%]:hover{background:#1976d2;color:#fff}"]})};export{Xe as EmployeeDetailComponent};
