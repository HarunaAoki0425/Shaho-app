import{d as U,g as j,i as L}from"./chunk-RKFKCOY6.js";import{A as q,F as J,I as v,L as E,P as Q,k as R,l as w,m as $,n as z,w as Y}from"./chunk-QRGU7V74.js";import{Eb as l,Lb as G,Mb as d,Nb as k,Ob as F,Pb as f,Ub as M,Vb as K,Wb as x,Xa as t,Yb as b,Zb as H,d as O,da as I,gb as B,lb as s,sb as p,vb as r,wb as m,xb as D,yb as u,zb as y}from"./chunk-FOFO3WUG.js";var Z=n=>["/employee-edit",n],ee=()=>["combinedStdSalaryKenpo","combinedStdSalaryNenkin","salaryCash","salaryInKind","salaryTotal","combinedSalary"],ne=()=>["combinedStdSalaryKenpo","combinedStdSalaryNenkin","salaryCash","salaryInKind","salaryTotal","combinedSalary","combinedStdSalaryKenpoGrade","combinedStdSalaryNenkinGrade"];function te(n,a){n&1&&(r(0,"div",11),d(1," \u203B\u672A\u901A\u77E5\u306E\u6A19\u6E96\u5831\u916C\u6708\u984D\u306F\u66AB\u5B9A\u5024\u3067\u3059\u203B"),D(2,"br"),d(3," \u901A\u77E5\u3092\u53D7\u3051\u53D6\u308A\u6B21\u7B2C\u3001\u6B63\u5F0F\u306A\u6A19\u6E96\u5831\u916C\u6708\u984D\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002\u4FDD\u967A\u6599\u306F\u901A\u77E5\u5185\u5BB9\u306B\u57FA\u3065\u304D\u518D\u8A08\u7B97\u3055\u308C\u307E\u3059\u3002 "),m())}function ie(n,a){if(n&1&&(u(0),r(1,"span"),d(2),x(3,"number"),m(),y()),n&2){let e=l(5);t(2),f("\u81EA\u52D5\u5224\u5B9A: ",b(3,2,e.autoStdSalaryHealth,"1.0-0"),"\u5186\uFF08\u7B49\u7D1A: ",e.autoStdSalaryHealthGrade,"\uFF09")}}function ae(n,a){if(n&1&&(r(0,"div",14)(1,"div",15),d(2,"\u6A19\u6E96\u5831\u916C\u6708\u984D\uFF08\u5065\u5EB7\u4FDD\u967A\u30FB\u4ECB\u8B77\u4FDD\u967A\uFF09"),D(3,"br"),d(4,"\u203B\u672A\u901A\u77E5"),m(),r(5,"div",16),s(6,ie,4,5,"ng-container",3),m()()),n&2){let e=l(4);t(6),p("ngIf",e.autoStdSalaryHealth&&e.autoStdSalaryHealthGrade)}}function oe(n,a){if(n&1&&(r(0,"div",17)(1,"div",15),d(2),m(),r(3,"div",16),d(4),x(5,"number"),m()()),n&2){let e=l(2).$implicit,o=l(2);t(2),k(e.label),t(2),f("",b(5,3,o.employee.stdSalaryHealth,"1.0-0"),"\u5186\uFF08\u7B49\u7D1A\uFF1A",o.employee.stdSalaryHealthGrade,"\uFF09")}}function le(n,a){if(n&1&&(u(0),s(1,ae,7,1,"div",12)(2,oe,6,6,"div",13),y()),n&2){let e=l(3);t(),p("ngIf",(!e.employee.stdSalaryHealth||e.employee.stdSalaryHealth===""||e.employee.stdSalaryHealth===null)&&(!e.employee.stdSalaryHealthGrade||e.employee.stdSalaryHealthGrade===""||e.employee.stdSalaryHealthGrade===null)),t(),p("ngIf",e.employee.stdSalaryHealth&&e.employee.stdSalaryHealthGrade)}}function de(n,a){if(n&1&&(u(0),r(1,"span"),d(2),x(3,"number"),m(),y()),n&2){let e=l(5);t(2),f("\u81EA\u52D5\u5224\u5B9A: ",b(3,2,e.autoStdSalaryPension,"1.0-0"),"\u5186\uFF08\u7B49\u7D1A: ",e.autoStdSalaryPensionGrade,"\uFF09")}}function re(n,a){if(n&1&&(r(0,"div",14)(1,"div",15),d(2,"\u6A19\u6E96\u5831\u916C\u6708\u984D\uFF08\u539A\u751F\u5E74\u91D1\uFF09"),D(3,"br"),d(4,"\u203B\u672A\u901A\u77E5"),m(),r(5,"div",16),s(6,de,4,5,"ng-container",3),m()()),n&2){let e=l(4);t(6),p("ngIf",e.autoStdSalaryPension&&e.autoStdSalaryPensionGrade)}}function me(n,a){if(n&1&&(r(0,"div",17)(1,"div",15),d(2),m(),r(3,"div",16),d(4),x(5,"number"),m()()),n&2){let e=l(2).$implicit,o=l(2);t(2),k(e.label),t(2),f("",b(5,3,o.employee.stdSalaryPension,"1.0-0"),"\u5186\uFF08\u7B49\u7D1A\uFF1A",o.employee.stdSalaryPensionGrade,"\uFF09")}}function pe(n,a){if(n&1&&(u(0),s(1,re,7,1,"div",12)(2,me,6,6,"div",13),y()),n&2){let e=l(3);t(),p("ngIf",(!e.employee.stdSalaryPension||e.employee.stdSalaryPension===""||e.employee.stdSalaryPension===null)&&(!e.employee.stdSalaryPensionGrade||e.employee.stdSalaryPensionGrade===""||e.employee.stdSalaryPensionGrade===null)),t(),p("ngIf",e.employee.stdSalaryPension&&e.employee.stdSalaryPensionGrade)}}function ce(n,a){if(n&1&&(u(0),r(1,"span"),d(2),x(3,"number"),m(),y()),n&2){let e=l(5);t(2),f("\u81EA\u52D5\u5224\u5B9A: ",b(3,2,e.autoCombinedStdSalaryKenpo,"1.0-0"),"\u5186\uFF08\u7B49\u7D1A: ",e.autoCombinedStdSalaryKenpoGrade,"\uFF09")}}function ue(n,a){if(n&1&&(r(0,"div",14)(1,"div",15),d(2,"\u5408\u7B97\u6A19\u6E96\u5831\u916C\u6708\u984D"),D(3,"br"),d(4,"\uFF08\u5065\u5EB7\u4FDD\u967A\u30FB\u4ECB\u8B77\u4FDD\u967A\uFF09\u203B\u672A\u901A\u77E5"),m(),r(5,"div",16),s(6,ce,4,5,"ng-container",3),m()()),n&2){let e=l(4);t(6),p("ngIf",e.autoCombinedStdSalaryKenpo&&e.autoCombinedStdSalaryKenpoGrade)}}function ye(n,a){if(n&1&&(r(0,"div",17)(1,"div",15),d(2),m(),r(3,"div",16),d(4),x(5,"number"),m()()),n&2){let e=l(2).$implicit,o=l(2);t(2),k(e.label),t(2),f("",b(5,3,o.employee.combinedStdSalaryKenpo,"1.0-0"),"\u5186\uFF08\u7B49\u7D1A\uFF1A",o.employee.combinedStdSalaryKenpoGrade,"\uFF09")}}function se(n,a){if(n&1&&(u(0),s(1,ue,7,1,"div",12)(2,ye,6,6,"div",13),y()),n&2){let e=l(3);t(),p("ngIf",(!e.employee.combinedStdSalaryKenpo||e.employee.combinedStdSalaryKenpo===""||e.employee.combinedStdSalaryKenpo===null)&&(!e.employee.combinedStdSalaryKenpoGrade||e.employee.combinedStdSalaryKenpoGrade===""||e.employee.combinedStdSalaryKenpoGrade===null)),t(),p("ngIf",e.employee.combinedStdSalaryKenpo&&e.employee.combinedStdSalaryKenpoGrade)}}function _e(n,a){if(n&1&&(u(0),r(1,"span"),d(2),x(3,"number"),m(),y()),n&2){let e=l(5);t(2),f("\u81EA\u52D5\u5224\u5B9A: ",b(3,2,e.autoCombinedStdSalaryNenkin,"1.0-0"),"\u5186\uFF08\u7B49\u7D1A: ",e.autoCombinedStdSalaryNenkinGrade,"\uFF09")}}function Se(n,a){if(n&1&&(r(0,"div",14)(1,"div",15),d(2,"\u5408\u7B97\u6A19\u6E96\u5831\u916C\u6708\u984D\uFF08\u539A\u751F\u5E74\u91D1\uFF09"),D(3,"br"),d(4,"\u203B\u672A\u901A\u77E5"),m(),r(5,"div",16),s(6,_e,4,5,"ng-container",3),m()()),n&2){let e=l(4);t(6),p("ngIf",e.autoCombinedStdSalaryNenkin&&e.autoCombinedStdSalaryNenkinGrade)}}function ge(n,a){if(n&1&&(r(0,"div",17)(1,"div",15),d(2),m(),r(3,"div",16),d(4),x(5,"number"),m()()),n&2){let e=l(2).$implicit,o=l(2);t(2),k(e.label),t(2),f("",b(5,3,o.employee.combinedStdSalaryNenkin,"1.0-0"),"\u5186\uFF08\u7B49\u7D1A\uFF1A",o.employee.combinedStdSalaryNenkinGrade,"\uFF09")}}function fe(n,a){if(n&1&&(u(0),s(1,Se,7,1,"div",12)(2,ge,6,6,"div",13),y()),n&2){let e=l(3);t(),p("ngIf",(!e.employee.combinedStdSalaryNenkin||e.employee.combinedStdSalaryNenkin===""||e.employee.combinedStdSalaryNenkin===null)&&(!e.employee.combinedStdSalaryNenkinGrade||e.employee.combinedStdSalaryNenkinGrade===""||e.employee.combinedStdSalaryNenkinGrade===null)),t(),p("ngIf",e.employee.combinedStdSalaryNenkin&&e.employee.combinedStdSalaryNenkinGrade)}}function xe(n,a){if(n&1&&(u(0),d(1),y()),n&2){let e=l(5);t(),f(" ",e.employee.lastName||""," ",e.employee.firstName||""," ")}}function be(n,a){if(n&1&&(u(0),d(1),y()),n&2){let e=l(5);t(),F(" ",e.employee.dependentRelations.join?e.employee.dependentRelations.join("\u3001"):e.employee.dependentRelations," ")}}function he(n,a){if(n&1&&(u(0),d(1),x(2,"number"),y()),n&2){let e=l(4).$implicit,o=l(2);t(),F(" ",b(2,1,o.employee[e.key],"1.0-0"),"\u5186 ")}}function Ce(n,a){if(n&1&&(u(0),d(1),y()),n&2){let e=l(7);t(),F(" ",e.displayEmploymentType," ")}}function ve(n,a){if(n&1&&d(0),n&2){let e=l(5).$implicit,o=l(2);F(" ",o.employee[e.key]," ")}}function Ee(n,a){if(n&1&&(u(0),s(1,Ce,2,1,"ng-container",18)(2,ve,1,1,"ng-template",null,0,H),y()),n&2){let e=G(3),o=l(4).$implicit;t(),p("ngIf",o.key==="employmentType")("ngIfElse",e)}}function ke(n,a){if(n&1&&(u(0),s(1,he,3,4,"ng-container",3)(2,Ee,4,2,"ng-container",3),y()),n&2){let e=l(3).$implicit;t(),p("ngIf",M(2,ee).includes(e.key)),t(),p("ngIf",!M(3,ne).includes(e.key))}}function De(n,a){if(n&1&&(r(0,"div",17)(1,"div",15),d(2),m(),r(3,"div",16),s(4,xe,2,2,"ng-container",3)(5,be,2,1,"ng-container",3)(6,ke,3,4,"ng-container",3),m()()),n&2){let e=l(2).$implicit,o=l(2);t(2),k(e.label),t(2),p("ngIf",e.key==="lastName"),t(),p("ngIf",e.key==="dependentRelations"&&o.employee.dependentRelations),t(),p("ngIf",e.key!=="lastName"&&e.key!=="dependentRelations")}}function Fe(n,a){if(n&1&&(u(0),s(1,De,7,4,"div",13),y()),n&2){let e=l().$implicit,o=l(2);t(),p("ngIf",o.employee[e.key]!==null&&o.employee[e.key]!==void 0&&o.employee[e.key]!==""&&!(e.key==="dependentRelations"&&(!o.employee.dependentRelations||o.employee.dependentRelations.length===0)))}}function Pe(n,a){if(n&1&&(u(0),r(1,"div",17)(2,"div",15),d(3),m(),r(4,"div",16),d(5),m()(),y()),n&2){let e=l().$implicit,o=l(2);t(3),k(e.label),t(2),k(o.currentAge!==null?o.currentAge:"")}}function Ie(n,a){if(n&1&&(u(0),s(1,le,3,2,"ng-container",3)(2,pe,3,2,"ng-container",3)(3,se,3,2,"ng-container",3)(4,fe,3,2,"ng-container",3)(5,Fe,2,1,"ng-container",3)(6,Pe,6,2,"ng-container",3),y()),n&2){let e=a.$implicit,o=l(2);t(),p("ngIf",e.key==="stdSalaryHealth"),t(),p("ngIf",e.key==="stdSalaryPension"),t(),p("ngIf",e.key==="combinedStdSalaryKenpo"&&o.employee.multiOffice==="\u4E8C\u4EE5\u4E0A\u4E8B\u696D\u6240\u52E4\u52D9"),t(),p("ngIf",e.key==="combinedStdSalaryNenkin"&&o.employee.multiOffice==="\u4E8C\u4EE5\u4E0A\u4E8B\u696D\u6240\u52E4\u52D9"),t(),p("ngIf",e.key!=="stdSalaryHealth"&&e.key!=="stdSalaryPension"&&e.key!=="combinedStdSalaryKenpo"&&e.key!=="combinedStdSalaryNenkin"),t(),p("ngIf",e.key==="age")}}function Ae(n,a){if(n&1&&(r(0,"div")(1,"h2",5),d(2," \u5F93\u696D\u54E1\u8A73\u7D30 "),r(3,"button",6),d(4,"\u7DE8\u96C6"),m(),r(5,"button",7),d(6,"\u524A\u9664"),m()(),s(7,te,4,0,"div",8),r(8,"div",9),s(9,Ie,7,6,"ng-container",10),m()()),n&2){let e=l();t(3),p("routerLink",K(3,Z,e.employeeId)),t(4),p("ngIf",e.hasUnnotified),t(2),p("ngForOf",e.displayFields)}}function Me(n,a){n&1&&(r(0,"div")(1,"p"),d(2,"\u5F93\u696D\u54E1\u30C7\u30FC\u30BF\u3092\u53D6\u5F97\u4E2D..."),m()())}var V=class n{currentUser=null;employee=null;autoStdSalaryHealth=null;autoStdSalaryHealthGrade=null;autoStdSalaryPension=null;autoStdSalaryPensionGrade=null;autoCombinedStdSalaryKenpo=null;autoCombinedStdSalaryKenpoGrade=null;autoCombinedStdSalaryNenkin=null;autoCombinedStdSalaryNenkinGrade=null;currentAge=null;auth=I(Y);route=I(U);firestore=I(J);displayFields=[{key:"managementNumber",label:"\u7BA1\u7406\u756A\u53F7"},{key:"lastName",label:"\u6C0F\u540D"},{key:"gender",label:"\u6027\u5225"},{key:"birthdate",label:"\u751F\u5E74\u6708\u65E5"},{key:"age",label:"\u5E74\u9F62"},{key:"nationality",label:"\u56FD\u7C4D"},{key:"officeName",label:"\u4E8B\u696D\u6240"},{key:"employmentType",label:"\u96C7\u7528\u5F62\u614B"},{key:"employmentPeriodType",label:"\u96C7\u7528\u5951\u7D04\u671F\u9593"},{key:"employmentPeriodStart",label:"\u5951\u7D04\u958B\u59CB\u65E5"},{key:"employmentPeriodEnd",label:"\u5951\u7D04\u7D42\u4E86\u65E5"},{key:"workDays",label:"\u6240\u5B9A\u52B4\u50CD\u65E5\u6570\uFF08\u6708\uFF09"},{key:"workHours",label:"\u6240\u5B9A\u52B4\u50CD\u6642\u9593\uFF08\u9031\uFF09"},{key:"salaryCash",label:"\u5831\u916C\u6708\u984D\uFF08\u901A\u8CA8\uFF09"},{key:"salaryInKind",label:"\u5831\u916C\u6708\u984D\uFF08\u73FE\u7269\uFF09"},{key:"salaryTotal",label:"\u5831\u916C\u6708\u984D\uFF08\u5408\u8A08\uFF09"},{key:"stdSalaryHealth",label:"\u6A19\u6E96\u5831\u916C\u6708\u984D\uFF08\u5065\u5EB7\u4FDD\u967A\u30FB\u4ECB\u8B77\u4FDD\u967A\uFF09"},{key:"stdSalaryPension",label:"\u6A19\u6E96\u5831\u916C\u6708\u984D\uFF08\u539A\u751F\u5E74\u91D1\uFF09"},{key:"joinDate",label:"\u8CC7\u683C\u53D6\u5F97\u5E74\u6708\u65E5\uFF08\u5165\u793E\u65E5\uFF09"},{key:"leaveDate",label:"\u8CC7\u683C\u55AA\u5931\u5E74\u6708\u65E5\uFF08\u9000\u8077\u65E5\uFF09"},{key:"isStudent",label:"\u5B66\u751F\u533A\u5206"},{key:"multiOffice",label:"\u4E8C\u4EE5\u4E0A\u4E8B\u696D\u6240\u52E4\u52D9\u533A\u5206"},{key:"selectedOfficeType",label:"\u9078\u629E\u4E8B\u696D\u6240\uFF0F\u975E\u9078\u629E\u4E8B\u696D\u6240"},{key:"combinedSalary",label:"\u5408\u7B97\u5831\u916C\u6708\u984D\uFF08\u901A\u8CA8\uFF0B\u73FE\u7269\uFF09"},{key:"combinedStdSalaryKenpo",label:"\u5408\u7B97\u6A19\u6E96\u5831\u916C\u6708\u984D\uFF08\u5065\u5EB7\u4FDD\u967A\u30FB\u4ECB\u8B77\u4FDD\u967A\uFF09"},{key:"combinedStdSalaryNenkin",label:"\u5408\u7B97\u6A19\u6E96\u5831\u916C\u6708\u984D\uFF08\u539A\u751F\u5E74\u91D1\uFF09"},{key:"dependentStatus",label:"\u88AB\u6276\u990A\u8005\u306E\u6709\u7121"},{key:"dependentRelations",label:"\u88AB\u6276\u990A\u8005\u7D9A\u67C4"},{key:"dispatchedAbroad",label:"\u5916\u56FD\u6D3E\u9063\u52B4\u50CD\u8005\u533A\u5206"},{key:"socialSecurityAgreement",label:"\u793E\u4F1A\u4FDD\u969C\u5354\u5B9A\u56FD"},{key:"temporaryDispatch",label:"\u4E00\u6642\u6D3E\u9063\uFF085\u5E74\u4EE5\u5185\uFF09"}];employeeId=null;ngOnInit(){return O(this,null,function*(){q(this.auth,e=>{this.currentUser=e});let a=this.route.snapshot.paramMap.get("id");if(this.employeeId=a,a){let e=v(this.firestore,"companies"),o=yield E(e);for(let P of o.docs){let W=v(this.firestore,"companies",P.id,"employees"),N=(yield E(W)).docs.find(S=>S.id===a);if(N){if(this.employee=N.data(),this.employee.birthdate){let S=new Date,g=new Date(this.employee.birthdate),_=S.getFullYear()-g.getFullYear(),c=S.getMonth()-g.getMonth();if((c<0||c===0&&S.getDate()<g.getDate())&&_--,this.currentAge=_,this.employee.age!==_){let i=v(this.firestore,"companies"),h=yield E(i);for(let C of h.docs){let X=v(this.firestore,"companies",C.id,"employees"),T=(yield E(X)).docs.find(A=>A.id===a);if(T){let A=T.ref;yield Q(A,{age:_});break}}}}else this.currentAge=null;if((this.employee.stdSalaryHealth===null||this.employee.stdSalaryHealth===""||this.employee.stdSalaryHealth===void 0)&&this.employee.salaryTotal!==null&&this.employee.salaryTotal!==""&&this.employee.salaryTotal!==void 0){let S=v(this.firestore,"kenpo_standardMonthlySarary"),g=yield E(S),_=Number(this.employee.salaryTotal),c=g.docs.map(i=>i.data()).find(i=>{let h=i.monthlyRangeStart===null||i.monthlyRangeStart===""||i.monthlyRangeStart===void 0?-1/0:Number(i.monthlyRangeStart),C=i.monthlyRangeEnd===null||i.monthlyRangeEnd===""||i.monthlyRangeEnd===void 0?1/0:Number(i.monthlyRangeEnd);return _>=h&&_<C});c?(this.autoStdSalaryHealth=c.standardMonthlySalary??null,this.autoStdSalaryHealthGrade=c.grade??null,console.log("\u6A19\u6E96\u5831\u916C\u6708\u984D\uFF08\u5065\u5EB7\u4FDD\u967A\u30FB\u4ECB\u8B77\u4FDD\u967A\uFF09\u81EA\u52D5\u5224\u5B9A:",c.standardMonthlySalary,"\u7B49\u7D1A:",c.grade)):(this.autoStdSalaryHealth=null,this.autoStdSalaryHealthGrade=null,console.log("\u8A72\u5F53\u3059\u308B\u6A19\u6E96\u5831\u916C\u6708\u984D\uFF08\u5065\u5EB7\u4FDD\u967A\u30FB\u4ECB\u8B77\u4FDD\u967A\uFF09\u306E\u7B49\u7D1A\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3067\u3057\u305F"))}if((this.employee.stdSalaryPension===null||this.employee.stdSalaryPension===""||this.employee.stdSalaryPension===void 0)&&this.employee.salaryTotal!==null&&this.employee.salaryTotal!==""&&this.employee.salaryTotal!==void 0){let S=v(this.firestore,"nenkin_standardMonthlySarary"),g=yield E(S),_=Number(this.employee.salaryTotal),c=g.docs.map(i=>i.data()).find(i=>{let h=i.nenkinStart===null||i.nenkinStart===""||i.nenkinStart===void 0?-1/0:Number(i.nenkinStart),C=i.nenkinEnd===null||i.nenkinEnd===""||i.nenkinEnd===void 0?1/0:Number(i.nenkinEnd);return _>=h&&_<C});c?(this.autoStdSalaryPension=c.nenkinMonthly??null,this.autoStdSalaryPensionGrade=c.nenkinGrade??null,console.log("\u6A19\u6E96\u5831\u916C\u6708\u984D\uFF08\u539A\u751F\u5E74\u91D1\uFF09\u81EA\u52D5\u5224\u5B9A:",c.nenkinMonthly,"\u7B49\u7D1A:",c.nenkinGrade)):(this.autoStdSalaryPension=null,this.autoStdSalaryPensionGrade=null,console.log("\u8A72\u5F53\u3059\u308B\u6A19\u6E96\u5831\u916C\u6708\u984D\uFF08\u539A\u751F\u5E74\u91D1\uFF09\u306E\u7B49\u7D1A\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3067\u3057\u305F"))}if((this.employee.combinedStdSalaryKenpo===null||this.employee.combinedStdSalaryKenpo===""||this.employee.combinedStdSalaryKenpo===void 0)&&this.employee.combinedSalary!==null&&this.employee.combinedSalary!==""&&this.employee.combinedSalary!==void 0){let S=v(this.firestore,"kenpo_standardMonthlySarary"),g=yield E(S),_=Number(this.employee.combinedSalary),c=g.docs.map(i=>i.data()).find(i=>{let h=i.monthlyRangeStart===null||i.monthlyRangeStart===""||i.monthlyRangeStart===void 0?-1/0:Number(i.monthlyRangeStart),C=i.monthlyRangeEnd===null||i.monthlyRangeEnd===""||i.monthlyRangeEnd===void 0?1/0:Number(i.monthlyRangeEnd);return _>=h&&_<C});c?(this.autoCombinedStdSalaryKenpo=c.standardMonthlySalary??null,this.autoCombinedStdSalaryKenpoGrade=c.grade??null,console.log("\u5408\u7B97\u6A19\u6E96\u5831\u916C\u6708\u984D\uFF08\u5065\u5EB7\u4FDD\u967A\u30FB\u4ECB\u8B77\u4FDD\u967A\uFF09\u81EA\u52D5\u5224\u5B9A:",c.standardMonthlySalary,"\u7B49\u7D1A:",c.grade)):(this.autoCombinedStdSalaryKenpo=null,this.autoCombinedStdSalaryKenpoGrade=null,console.log("\u8A72\u5F53\u3059\u308B\u5408\u7B97\u6A19\u6E96\u5831\u916C\u6708\u984D\uFF08\u5065\u5EB7\u4FDD\u967A\u30FB\u4ECB\u8B77\u4FDD\u967A\uFF09\u306E\u7B49\u7D1A\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3067\u3057\u305F"))}if((this.employee.combinedStdSalaryNenkin===null||this.employee.combinedStdSalaryNenkin===""||this.employee.combinedStdSalaryNenkin===void 0)&&this.employee.combinedSalary!==null&&this.employee.combinedSalary!==""&&this.employee.combinedSalary!==void 0){let S=v(this.firestore,"nenkin_standardMonthlySarary"),g=yield E(S),_=Number(this.employee.combinedSalary),c=g.docs.map(i=>i.data()).find(i=>{let h=i.nenkinStart===null||i.nenkinStart===""||i.nenkinStart===void 0?-1/0:Number(i.nenkinStart),C=i.nenkinEnd===null||i.nenkinEnd===""||i.nenkinEnd===void 0?1/0:Number(i.nenkinEnd);return _>=h&&_<C});c?(this.autoCombinedStdSalaryNenkin=c.nenkinMonthly??null,this.autoCombinedStdSalaryNenkinGrade=c.nenkinGrade??null,console.log("\u5408\u7B97\u6A19\u6E96\u5831\u916C\u6708\u984D\uFF08\u539A\u751F\u5E74\u91D1\uFF09\u81EA\u52D5\u5224\u5B9A:",c.nenkinMonthly,"\u7B49\u7D1A:",c.nenkinGrade)):(this.autoCombinedStdSalaryNenkin=null,this.autoCombinedStdSalaryNenkinGrade=null,console.log("\u8A72\u5F53\u3059\u308B\u5408\u7B97\u6A19\u6E96\u5831\u916C\u6708\u984D\uFF08\u539A\u751F\u5E74\u91D1\uFF09\u306E\u7B49\u7D1A\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3067\u3057\u305F"))}return}}console.log("\u8A72\u5F53\u5F93\u696D\u54E1\u304C\u898B\u3064\u304B\u308A\u307E\u305B\u3093\u3067\u3057\u305F")}})}get displayEmploymentType(){return this.employee?this.employee.employmentType==="\u305D\u306E\u4ED6"&&this.employee.employmentTypeOther?`\u305D\u306E\u4ED6\uFF08${this.employee.employmentTypeOther}\uFF09`:this.employee.employmentType||"":""}get hasUnnotified(){if(!this.employee)return!1;let a=this.employee.stdSalaryHealth===null||this.employee.stdSalaryHealth===""||this.employee.stdSalaryHealth===void 0,e=this.employee.stdSalaryPension===null||this.employee.stdSalaryPension===""||this.employee.stdSalaryPension===void 0,o=!1,P=!1;return this.employee.multiOffice==="\u4E8C\u4EE5\u4E0A\u4E8B\u696D\u6240\u52E4\u52D9"&&(o=this.employee.combinedStdSalaryKenpo===null||this.employee.combinedStdSalaryKenpo===""||this.employee.combinedStdSalaryKenpo===void 0,P=this.employee.combinedStdSalaryNenkin===null||this.employee.combinedStdSalaryNenkin===""||this.employee.combinedStdSalaryNenkin===void 0),a||e||o||P}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=B({type:n,selectors:[["app-employee-detail"]],decls:5,vars:2,consts:[["normalField",""],[1,"employee-detail-layout"],[1,"employee-detail-left"],[4,"ngIf"],[1,"employee-detail-right"],[2,"display","flex","align-items","center","gap","12px"],["type","button",1,"edit-btn",3,"routerLink"],["type","button",1,"delete-btn"],["class","unnotified-warning",4,"ngIf"],[1,"employee-detail-grid"],[4,"ngFor","ngForOf"],[1,"unnotified-warning"],["class","employee-detail-item unnotified",4,"ngIf"],["class","employee-detail-item",4,"ngIf"],[1,"employee-detail-item","unnotified"],[1,"employee-detail-label"],[1,"employee-detail-value"],[1,"employee-detail-item"],[4,"ngIf","ngIfElse"]],template:function(e,o){e&1&&(r(0,"div",1)(1,"div",2),s(2,Ae,10,5,"div",3)(3,Me,3,0,"div",3),m(),D(4,"div",4),m()),e&2&&(t(2),p("ngIf",o.employee),t(),p("ngIf",!o.employee))},dependencies:[z,R,w,$,L,j],styles:["h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:1.5rem;color:#2a3b4d;display:flex;align-items:center;gap:12px;font-weight:600}table[_ngcontent-%COMP%]{width:100%;max-width:600px;border-collapse:separate;border-spacing:0;margin:0 auto 2rem;background:#fff;box-shadow:0 2px 8px #0000000a;border-radius:10px;overflow:hidden}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.9em 1.2em;text-align:left;font-size:1rem}th[_ngcontent-%COMP%]{background:#f4f8fb;color:#2a3b4d;font-weight:600;border-bottom:1.5px solid #d0e3f9;width:38%}td[_ngcontent-%COMP%]{background:#fcfdff;color:#333;border-bottom:1px solid #e3eaf1;width:62%;word-break:break-all}tr[_ngcontent-%COMP%]:last-child   th[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}@media (max-width: 600px){table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{font-size:.95rem}table[_ngcontent-%COMP%]{max-width:100%}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.7em .6em}}div[ngif][_ngcontent-%COMP%]{padding:2rem .5rem}.employee-detail-layout[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:2rem;margin-top:2.5rem;width:100%;max-width:1100px;margin-left:auto;margin-right:auto;min-height:70vh}.employee-detail-left[_ngcontent-%COMP%]{flex:2;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000000a;padding:2rem 1.5rem;display:flex;flex-direction:column;justify-content:flex-start}.employee-detail-right[_ngcontent-%COMP%]{flex:1;background:#f4f8fb;border-radius:12px;box-shadow:0 2px 8px #00000008;padding:2rem 1.5rem;display:flex;flex-direction:column;justify-content:flex-start;min-width:0}@media (max-width: 900px){.employee-detail-layout[_ngcontent-%COMP%]{flex-direction:column;gap:1.2rem;margin-top:1.2rem}.employee-detail-left[_ngcontent-%COMP%], .employee-detail-right[_ngcontent-%COMP%]{padding:1.2rem .7rem;border-radius:10px}}.employee-detail-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px 32px;margin-top:20px}.employee-detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;background:#f4f8fb;border:1.5px solid #d0e3f9;border-radius:8px;padding:14px 18px;min-height:56px;box-sizing:border-box;transition:box-shadow .2s}.employee-detail-item[_ngcontent-%COMP%]:hover{box-shadow:0 2px 8px #d0e3f92e}.employee-detail-item.unnotified[_ngcontent-%COMP%]{border:1.5px solid #e53935}.employee-detail-label[_ngcontent-%COMP%]{min-width:0;font-weight:500;margin-right:0;color:#7b8a9b;font-size:.97rem;margin-bottom:4px;flex-shrink:0}.employee-detail-value[_ngcontent-%COMP%]{flex:1;color:#222;font-size:1.13rem;font-weight:600;word-break:break-all;margin-bottom:2px}@media (max-width: 900px){.employee-detail-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:14px 0}.employee-detail-item[_ngcontent-%COMP%]{padding:12px 10px;min-height:40px}.employee-detail-label[_ngcontent-%COMP%], .employee-detail-value[_ngcontent-%COMP%]{font-size:.98rem}}.edit-btn[_ngcontent-%COMP%], .delete-btn[_ngcontent-%COMP%]{font-size:1rem;padding:6px 18px;border:none;border-radius:6px;cursor:pointer;margin-left:4px;transition:background .2s,color .2s,box-shadow .2s;box-shadow:0 1px 4px #0000000a}.edit-btn[_ngcontent-%COMP%]{background:#1976d2;color:#fff}.edit-btn[_ngcontent-%COMP%]:hover{background:#1565c0}.delete-btn[_ngcontent-%COMP%]{background:#e53935;color:#fff}.delete-btn[_ngcontent-%COMP%]:hover{background:#b71c1c}.unnotified-warning[_ngcontent-%COMP%]{background:#fffbe6;color:#e65100;font-size:.8rem;padding:8px 14px;border-radius:7px;margin-left:10px;line-height:1.6;font-weight:500;box-shadow:0 1px 4px #ffc10714;display:inline-block;max-width:340px}"]})};export{V as EmployeeDetailComponent};
