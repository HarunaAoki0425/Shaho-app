import{a as x}from"./chunk-5VCCV2TG.js";import{a as u}from"./chunk-FUHT4GF3.js";import{d as H,f as $}from"./chunk-I7EU4MVH.js";import{$d as _,Ab as s,Bb as C,Cb as P,Eb as f,Gd as q,Lb as g,Nb as I,Pa as o,Ta as w,Wd as B,Za as U,a as y,b as A,bb as D,d as F,fa as T,ga as L,he as M,ib as c,ic as W,lb as i,lc as j,mb as a,mc as z,qb as N,rb as k,re as O,sb as m,ue as S,zd as V}from"./chunk-5S7P737U.js";function te(n,t){n&1&&(i(0,"div",17),s(1,"\u203B\u753B\u9762\u304B\u3089\u96E2\u308C\u308B\u524D\u306B\u5FC5\u305A\u8A08\u7B97\u7D50\u679C\u3092\u4FDD\u5B58\u3057\u3066\u304F\u3060\u3055\u3044\u203B"),a())}function ne(n,t){n&1&&(i(0,"span"),s(1,"\u2716"),a())}function ae(n,t){if(n&1&&(i(0,"span"),s(1),a()),n&2){let e=m();o(),C(e.healthInsuranceResult?"\u3007":"\u2716")}}function ie(n,t){n&1&&(i(0,"span"),s(1,"\u2716"),a())}function re(n,t){if(n&1&&(i(0,"span"),s(1),a()),n&2){let e=m();o(),C(e.careInsuranceResult?"\u3007":"\u2716")}}function se(n,t){n&1&&(i(0,"span"),s(1,"\u2716"),a())}function oe(n,t){if(n&1&&(i(0,"span"),s(1),a()),n&2){let e=m();o(),C(e.pensionInsuranceResult?"\u3007":"\u2716")}}function le(n,t){if(n&1){let e=N();i(0,"button",18),k("click",function(){T(e);let h=m();return L(h.onSaveCalc())}),s(1,"\u8A08\u7B97\u7D50\u679C\u3092\u4FDD\u5B58"),a()}}function ue(n,t){n&1&&(i(0,"div",19),s(1,"\u8A08\u7B97\u4E2D\u30FB\u30FB\u30FB"),a())}function ce(n,t){n&1&&(i(0,"div",20),s(1," \u793E\u4F1A\u4FDD\u967A\u52A0\u5165\u5BFE\u8C61\u5916\u3067\u3059 "),a())}function de(n,t){if(n&1&&(i(0,"div",22)(1,"span",23),s(2,"\u5065\u5EB7\u4FDD\u967A\uFF08\u5168\u984D\uFF09"),a(),i(3,"span",24),s(4),g(5,"number"),a()()),n&2){let e=m(2);o(4),f("",e.latestStandard!=null&&e.latestStandard.kenpoStandardMonthly?I(5,3,e.latestStandard.kenpoStandardMonthly,"1.0-0"):"---","\u5186\xD7",e.healthInsuranceRate100,"\uFF05\uFF1D",e.healthInsuranceAmount,"\u5186")}}function me(n,t){if(n&1&&(i(0,"div",22)(1,"span",23),s(2,"\u5065\u5EB7\u4FDD\u967A\uFF08\u4F1A\u793E\u8CA0\u62C5\uFF09"),a(),i(3,"span",24),s(4),g(5,"number"),a()()),n&2){let e=m(2);o(4),f("",e.latestStandard!=null&&e.latestStandard.kenpoStandardMonthly?I(5,3,e.latestStandard.kenpoStandardMonthly,"1.0-0"):"---","\u5186\xD7",e.healthInsuranceRate100,"\uFF05\xF72\uFF1D",e.healthInsuranceAmountCompany,"\u5186")}}function pe(n,t){if(n&1&&(i(0,"div",22)(1,"span",23),s(2,"\u5065\u5EB7\u4FDD\u967A\uFF08\u5F93\u696D\u54E1\u8CA0\u62C5\uFF09"),a(),i(3,"span",24),s(4),g(5,"number"),a()()),n&2){let e=m(2);o(4),f("",e.latestStandard!=null&&e.latestStandard.kenpoStandardMonthly?I(5,3,e.latestStandard.kenpoStandardMonthly,"1.0-0"):"---","\u5186\xD7",e.healthInsuranceRate100,"\uFF05\xF72\uFF1D",e.healthInsuranceAmountEmployee,"\u5186")}}function he(n,t){if(n&1&&(i(0,"div",22)(1,"span",23),s(2,"\u4ECB\u8B77\u4FDD\u967A\uFF08\u5168\u984D\uFF09"),a(),i(3,"span",24),s(4),g(5,"number"),a()()),n&2){let e=m(2);o(4),f("",e.latestStandard!=null&&e.latestStandard.kenpoStandardMonthly?I(5,3,e.latestStandard.kenpoStandardMonthly,"1.0-0"):"---","\u5186\xD7",e.careInsuranceRate100,"\uFF05\uFF1D",e.careInsuranceAmount,"\u5186")}}function fe(n,t){if(n&1&&(i(0,"div",22)(1,"span",23),s(2,"\u4ECB\u8B77\u4FDD\u967A\uFF08\u4F1A\u793E\u8CA0\u62C5\uFF09"),a(),i(3,"span",24),s(4),g(5,"number"),a()()),n&2){let e=m(2);o(4),f("",e.latestStandard!=null&&e.latestStandard.kenpoStandardMonthly?I(5,3,e.latestStandard.kenpoStandardMonthly,"1.0-0"):"---","\u5186\xD7",e.careInsuranceRate100,"\uFF05\xF72\uFF1D",e.careInsuranceAmountCompany,"\u5186")}}function ge(n,t){if(n&1&&(i(0,"div",22)(1,"span",23),s(2,"\u4ECB\u8B77\u4FDD\u967A\uFF08\u5F93\u696D\u54E1\u8CA0\u62C5\uFF09"),a(),i(3,"span",24),s(4),g(5,"number"),a()()),n&2){let e=m(2);o(4),f("",e.latestStandard!=null&&e.latestStandard.kenpoStandardMonthly?I(5,3,e.latestStandard.kenpoStandardMonthly,"1.0-0"):"---","\u5186\xD7",e.careInsuranceRate100,"\uFF05\xF72\uFF1D",e.careInsuranceAmountEmployee,"\u5186")}}function Ie(n,t){if(n&1&&(i(0,"div",22)(1,"span",23),s(2,"\u539A\u751F\u5E74\u91D1\uFF08\u5168\u984D\uFF09"),a(),i(3,"span",24),s(4),g(5,"number"),a()()),n&2){let e=m(2);o(4),f("",e.latestStandard!=null&&e.latestStandard.nenkinStandardMonthly?I(5,3,e.latestStandard.nenkinStandardMonthly,"1.0-0"):"---","\u5186\xD7",e.pensionInsuranceRate100,"\uFF05\uFF1D",e.pensionInsuranceAmount,"\u5186")}}function xe(n,t){if(n&1&&(i(0,"div",22)(1,"span",23),s(2,"\u539A\u751F\u5E74\u91D1\uFF08\u4F1A\u793E\u8CA0\u62C5\uFF09"),a(),i(3,"span",24),s(4),g(5,"number"),a()()),n&2){let e=m(2);o(4),f("",e.latestStandard!=null&&e.latestStandard.nenkinStandardMonthly?I(5,3,e.latestStandard.nenkinStandardMonthly,"1.0-0"):"---","\u5186\xD7",e.pensionInsuranceRate100,"\uFF05\xF72\uFF1D",e.pensionInsuranceAmountCompany,"\u5186")}}function ye(n,t){if(n&1&&(i(0,"div",22)(1,"span",23),s(2,"\u539A\u751F\u5E74\u91D1\uFF08\u5F93\u696D\u54E1\u8CA0\u62C5\uFF09"),a(),i(3,"span",24),s(4),g(5,"number"),a()()),n&2){let e=m(2);o(4),f("",e.latestStandard!=null&&e.latestStandard.nenkinStandardMonthly?I(5,3,e.latestStandard.nenkinStandardMonthly,"1.0-0"):"---","\u5186\xD7",e.pensionInsuranceRate100,"\uFF05\xF72\uFF1D",e.pensionInsuranceAmountEmployee,"\u5186")}}function Ce(n,t){if(n&1&&(i(0,"div",22)(1,"span",23),s(2,"\u5168\u984D\u5408\u8A08"),a(),i(3,"span",24),s(4),a()()),n&2){let e=m(2);o(4),P("",e.totalInsuranceAmount,"\u5186")}}function _e(n,t){if(n&1&&(i(0,"div",22)(1,"span",23),s(2,"\u4F1A\u793E\u8CA0\u62C5\u5408\u8A08"),a(),i(3,"span",24),s(4),a()()),n&2){let e=m(2);o(4),P("",e.totalInsuranceAmountCompany,"\u5186")}}function Se(n,t){if(n&1&&(i(0,"div",22)(1,"span",23),s(2,"\u5F93\u696D\u54E1\u8CA0\u62C5\u5408\u8A08"),a(),i(3,"span",24),s(4),a()()),n&2){let e=m(2);o(4),P("",e.totalInsuranceAmountEmployee,"\u5186")}}function ve(n,t){if(n&1&&(i(0,"div"),D(1,de,6,6,"div",21)(2,me,6,6,"div",21)(3,pe,6,6,"div",21)(4,he,6,6,"div",21)(5,fe,6,6,"div",21)(6,ge,6,6,"div",21)(7,Ie,6,6,"div",21)(8,xe,6,6,"div",21)(9,ye,6,6,"div",21)(10,Ce,5,1,"div",21)(11,_e,5,1,"div",21)(12,Se,5,1,"div",21),a()),n&2){let e=m();o(),c("ngIf",e.healthInsuranceResult),o(),c("ngIf",e.healthInsuranceResult),o(),c("ngIf",e.healthInsuranceResult),o(),c("ngIf",e.careInsuranceResult),o(),c("ngIf",e.careInsuranceResult),o(),c("ngIf",e.careInsuranceResult),o(),c("ngIf",e.pensionInsuranceResult),o(),c("ngIf",e.pensionInsuranceResult),o(),c("ngIf",e.pensionInsuranceResult),o(),c("ngIf",e.healthInsuranceResult||e.careInsuranceResult||e.pensionInsuranceResult),o(),c("ngIf",e.healthInsuranceResult||e.careInsuranceResult||e.pensionInsuranceResult),o(),c("ngIf",e.healthInsuranceResult||e.careInsuranceResult||e.pensionInsuranceResult)}}var G=class n{constructor(t,e,r){this.route=t;this.firestore=e;this.router=r}employeesId="";companyId="";employeeData=null;companyData=null;officeData=null;insuranceRateData=null;currentNendo=(()=>{let t=new Date,e=t.getFullYear();return t.getMonth()+1>=4?e:e-1})();standardsList=[];isLoading=!0;eligibilityResult=null;isSocialInsuranceExcluded=!1;healthInsuranceResult=!1;careInsuranceResult=!1;pensionInsuranceResult=!1;hasUnsavedCalc=!1;hasSavedExcludedInsurance=!1;triedSaveExcluded=!1;ngOnInit(){return F(this,null,function*(){this.isLoading=!0,this.employeesId=this.route.snapshot.paramMap.get("id")||"";let t=_(this.firestore,"companies"),e=yield S(t);for(let r of e.docs){let h=_(this.firestore,"companies",r.id,"employees"),v=yield S(h);for(let l of v.docs)if(l.id===this.employeesId){this.companyId=r.id,this.employeeData=l.data();let d=M(this.firestore,"companies",this.companyId),E=yield O(d);if(this.companyData=E.exists()?E.data():null,this.employeeData.officesId){let p=M(this.firestore,"companies",this.companyId,"offices",this.employeeData.officesId),b=yield O(p);if(this.officeData=b.exists()?b.data():null,this.officeData&&this.officeData.officePrefecture){let Z=_(this.firestore,"insurance_rates"),ee=yield S(Z);this.insuranceRateData=ee.docs.map(R=>R.data()).find(R=>R.prefecture===this.officeData.officePrefecture&&String(R.year)===String(this.currentNendo))||null}}let J=_(this.firestore,`companies/${this.companyId}/employees/${this.employeesId}/standards`),Y=yield S(J);if(this.standardsList=Y.docs.map(p=>y({id:p.id},p.data())).filter(p=>!!p.createdAt).map(p=>A(y({},p),{_millis:p.createdAt?.toDate?p.createdAt.toDate().getTime():p.createdAt?new Date(p.createdAt).getTime():0})).sort((p,b)=>b._millis-p._millis),!x.judgeSocialInsuranceRequired({employee:this.employeeData,office:this.officeData,company:this.companyData})){this.isSocialInsuranceExcluded=!0,this.isLoading=!1;return}let K=x.judgeHealthInsurance(this.employeeData);console.log("[\u5065\u5EB7\u4FDD\u967A\u5224\u5B9A]",K);let Q=x.judgeCareInsurance(this.employeeData);console.log("[\u4ECB\u8B77\u4FDD\u967A\u5224\u5B9A]",Q);let X=x.judgePensionInsurance(this.employeeData);if(console.log("[\u539A\u751F\u5E74\u91D1\u5224\u5B9A]",X),this.employeeData.dispatchedAbroad!=="\u8A72\u5F53\u3057\u306A\u3044"){let p=x.judgeInternationalSocialInsurance(this.employeeData);if(console.log("[\u6D77\u5916\u6D3E\u9063\u5224\u5B9A]",p),!p){this.isSocialInsuranceExcluded=!0,this.isLoading=!1;return}}else console.log("[\u6D77\u5916\u6D3E\u9063\u5224\u5B9A] \u5224\u5B9A\u3057\u306A\u3044");this.healthInsuranceResult=x.judgeHealthInsurance(this.employeeData),this.careInsuranceResult=x.judgeCareInsurance(this.employeeData),this.pensionInsuranceResult=x.judgePensionInsurance(this.employeeData),this.eligibilityResult=x.judgeEligibility(this.employeeData),this.isLoading=!1,yield this.checkUnsavedCalc();return}}console.log("currentNendo:",this.currentNendo),this.isLoading=!1,yield this.checkUnsavedCalc()})}ngAfterViewChecked(){this.isSocialInsuranceExcluded&&!this.hasSavedExcludedInsurance&&!this.triedSaveExcluded&&(this.triedSaveExcluded=!0,this.saveExcludedInsurance())}saveExcludedInsurance(){return F(this,null,function*(){let t=M(this.firestore,`companies/${this.companyId}/employees/${this.employeesId}`),e=_(t,"insurances"),r=this.standardsList&&this.standardsList.length>0?this.standardsList[0]:null,h=r?r.id:null,l=(yield S(e)).docs.map(d=>y({id:d.id},d.data()));if(h&&l.some(d=>d.standardId===h)){console.log("[DEBUG] \u793E\u4F1A\u4FDD\u967A\u5BFE\u8C61\u5916: \u540C\u3058standardId\u304C\u65E2\u306B\u5B58\u5728\u3059\u308B\u305F\u3081\u4FDD\u5B58\u3057\u307E\u305B\u3093",h),this.hasSavedExcludedInsurance=!0;return}console.log("[DEBUG] \u793E\u4F1A\u4FDD\u967A\u5BFE\u8C61\u5916: insurances\u4FDD\u5B58\u958B\u59CB",{employeeId:this.employeesId,companyId:this.companyId,standardId:h}),yield B(e,{createdAt:V(),standardId:h,isInsuranceTarget:!1}),console.log("[DEBUG] \u793E\u4F1A\u4FDD\u967A\u5BFE\u8C61\u5916: insurances\u4FDD\u5B58\u5B8C\u4E86"),this.hasSavedExcludedInsurance=!0})}get healthInsuranceRate100(){if(!this.insuranceRateData||this.insuranceRateData.health_insurance==null)return"";try{return new u(this.insuranceRateData.health_insurance).times(100).toString()}catch{return""}}get careInsuranceRate100(){if(!this.insuranceRateData||this.insuranceRateData.care_insurance==null)return"";try{return new u(this.insuranceRateData.care_insurance).times(100).toString()}catch{return""}}get pensionInsuranceRate100(){if(!this.insuranceRateData||this.insuranceRateData.pension_insurance==null)return"";try{return new u(this.insuranceRateData.pension_insurance).times(100).toString()}catch{return""}}formatWithComma(t){if(t==null||t==="")return"";let e=typeof t=="number"?t:Number(t);return isNaN(e)?"":e.toLocaleString()}get latestStandard(){if(!this.standardsList||this.standardsList.length===0)return null;let t=this.standardsList.filter(e=>!!e.createdAt);return t.length===0?null:t.map(e=>A(y({},e),{_millis:e.createdAt?.toDate?e.createdAt.toDate().getTime():e.createdAt?new Date(e.createdAt).getTime():0})).sort((e,r)=>r._millis-e._millis)[0]}get healthInsuranceAmount(){if(!this.healthInsuranceResult||!this.insuranceRateData)return"";let t=this.latestStandard?.kenpoStandardMonthly??(this.employeeData?this.employeeData.stdSalaryHealth:null),e=this.insuranceRateData.health_insurance;if(t==null||e==null)return"";try{return this.formatWithComma(new u(t).times(new u(e)).toDecimalPlaces(0,u.ROUND_HALF_UP).toString())}catch{return""}}get healthInsuranceAmountCompany(){if(!this.healthInsuranceResult)return"";let t=this.healthInsuranceAmount.replace(/,/g,"");if(!t)return"";try{return this.formatWithComma(new u(t).div(2).toDecimalPlaces(0,u.ROUND_HALF_UP).toString())}catch{return""}}get healthInsuranceAmountEmployee(){if(!this.healthInsuranceResult)return"";let t=this.healthInsuranceAmount.replace(/,/g,"");if(!t)return"";try{let e=new u(t).div(2);return e.minus(e.floor()).times(10).toNumber()<=5?this.formatWithComma(e.floor().toString()):this.formatWithComma(e.ceil().toString())}catch{return""}}get pensionInsuranceAmount(){if(!this.pensionInsuranceResult||!this.insuranceRateData)return"";let t=this.latestStandard?.nenkinStandardMonthly??(this.employeeData?this.employeeData.stdSalaryPension:null),e=this.insuranceRateData.pension_insurance;if(t==null||e==null)return"";try{return this.formatWithComma(new u(t).times(new u(e)).toFixed(0))}catch{return""}}get pensionInsuranceAmountCompany(){if(!this.pensionInsuranceResult)return"";let t=this.pensionInsuranceAmount.replace(/,/g,"");if(!t)return"";try{return this.formatWithComma(new u(t).div(2).toDecimalPlaces(0,u.ROUND_HALF_UP).toString())}catch{return""}}get pensionInsuranceAmountEmployee(){if(!this.pensionInsuranceResult)return"";let t=this.pensionInsuranceAmount.replace(/,/g,"");if(!t)return"";try{let e=new u(t).div(2);return e.minus(e.floor()).times(10).toNumber()<=5?this.formatWithComma(e.floor().toString()):this.formatWithComma(e.ceil().toString())}catch{return""}}get careInsuranceAmount(){if(!this.careInsuranceResult||!this.insuranceRateData)return"";let t=this.latestStandard?.kenpoStandardMonthly??(this.employeeData?this.employeeData.stdSalaryHealth:null),e=this.insuranceRateData.care_insurance;if(t==null||e==null)return"";try{return this.formatWithComma(new u(t).times(new u(e)).toDecimalPlaces(0,u.ROUND_HALF_UP).toString())}catch{return""}}get careInsuranceAmountCompany(){if(!this.careInsuranceResult)return"";let t=this.careInsuranceAmount.replace(/,/g,"");if(!t)return"";try{return this.formatWithComma(new u(t).div(2).toDecimalPlaces(0,u.ROUND_HALF_UP).toString())}catch{return""}}get careInsuranceAmountEmployee(){if(!this.careInsuranceResult)return"";let t=this.careInsuranceAmount.replace(/,/g,"");if(!t)return"";try{let e=new u(t).div(2);return e.minus(e.floor()).times(10).toNumber()<=5?this.formatWithComma(e.floor().toString()):this.formatWithComma(e.ceil().toString())}catch{return""}}get totalInsuranceAmount(){let t=this.healthInsuranceResult?this.healthInsuranceAmount.replace(/,/g,""):"",e=this.pensionInsuranceResult?this.pensionInsuranceAmount.replace(/,/g,""):"",r=this.careInsuranceResult?this.careInsuranceAmount.replace(/,/g,""):"";if(!t&&!e&&!r)return"";try{return this.formatWithComma(new u(t||0).plus(new u(e||0)).plus(new u(r||0)).toString())}catch{return""}}get totalInsuranceAmountCompany(){let t=this.healthInsuranceResult?this.healthInsuranceAmountCompany.replace(/,/g,""):"",e=this.pensionInsuranceResult?this.pensionInsuranceAmountCompany.replace(/,/g,""):"",r=this.careInsuranceResult?this.careInsuranceAmountCompany.replace(/,/g,""):"";if(!t&&!e&&!r)return"";try{return this.formatWithComma(new u(t||0).plus(new u(e||0)).plus(new u(r||0)).toString())}catch{return""}}get totalInsuranceAmountEmployee(){let t=this.healthInsuranceResult?this.healthInsuranceAmountEmployee.replace(/,/g,""):"",e=this.pensionInsuranceResult?this.pensionInsuranceAmountEmployee.replace(/,/g,""):"",r=this.careInsuranceResult?this.careInsuranceAmountEmployee.replace(/,/g,""):"";if(!t&&!e&&!r)return"";try{return this.formatWithComma(new u(t||0).plus(new u(e||0)).plus(new u(r||0)).toString())}catch{return""}}get stdSalaryHealthWithComma(){return!this.employeeData||this.employeeData.stdSalaryHealth==null?"":this.formatWithComma(this.employeeData.stdSalaryHealth)}get stdSalaryPensionWithComma(){return!this.employeeData||this.employeeData.stdSalaryPension==null?"":this.formatWithComma(this.employeeData.stdSalaryPension)}checkUnsavedCalc(){return F(this,null,function*(){if(!this.companyId||!this.employeesId||!this.latestStandard){this.hasUnsavedCalc=!1;return}let t=_(this.firestore,`companies/${this.companyId}/employees/${this.employeesId}/insurances`),h=(yield S(t)).docs.map(l=>y({id:l.id},l.data())).filter(l=>!!l.createdAt).map(l=>A(y({},l),{_millis:l.createdAt?.toDate?l.createdAt.toDate().getTime():l.createdAt?new Date(l.createdAt).getTime():0})).sort((l,d)=>d._millis-l._millis)[0],v=this.latestStandard?.id;this.hasUnsavedCalc=!(h&&h.standardId===v)})}onSaveCalc=()=>F(this,null,function*(){if(!this.companyId||!this.employeesId||!this.latestStandard)return;let t=_(this.firestore,`companies/${this.companyId}/employees/${this.employeesId}/insurances`),h=(yield S(t)).docs.map(d=>y({id:d.id},d.data())).filter(d=>!!d.createdAt).map(d=>A(y({},d),{_millis:d.createdAt?.toDate?d.createdAt.toDate().getTime():d.createdAt?new Date(d.createdAt).getTime():0})).sort((d,E)=>E._millis-d._millis)[0],v=this.latestStandard?.id;if(h&&h.standardId===v){alert("\u3059\u3067\u306B\u3053\u306E\u6A19\u6E96\u5831\u916C\u6708\u984D\u30FB\u7B49\u7D1A\u3067\u8A08\u7B97\u7D50\u679C\u304C\u4FDD\u5B58\u3055\u308C\u3066\u3044\u307E\u3059\u3002");return}let l={standardId:v,employeeId:this.employeesId,createdAt:new Date};this.healthInsuranceResult&&(l.healthInsuranceTotal=this.healthInsuranceAmount.replace(/,/g,""),l.healthInsuranceCompany=this.healthInsuranceAmountCompany.replace(/,/g,""),l.healthInsuranceEmployee=this.healthInsuranceAmountEmployee.replace(/,/g,"")),this.careInsuranceResult&&(l.careInsuranceTotal=this.careInsuranceAmount.replace(/,/g,""),l.careInsuranceCompany=this.careInsuranceAmountCompany.replace(/,/g,""),l.careInsuranceEmployee=this.careInsuranceAmountEmployee.replace(/,/g,"")),this.pensionInsuranceResult&&(l.pensionInsuranceTotal=this.pensionInsuranceAmount.replace(/,/g,""),l.pensionInsuranceCompany=this.pensionInsuranceAmountCompany.replace(/,/g,""),l.pensionInsuranceEmployee=this.pensionInsuranceAmountEmployee.replace(/,/g,"")),l.total=this.totalInsuranceAmount.replace(/,/g,""),l.totalCompany=this.totalInsuranceAmountCompany.replace(/,/g,""),l.totalEmployee=this.totalInsuranceAmountEmployee.replace(/,/g,""),yield B(t,l),alert("\u8A08\u7B97\u7D50\u679C\u3092\u4FDD\u5B58\u3057\u307E\u3057\u305F\u3002"),this.router.navigate(["/employee-detail",this.employeesId])});onNavigateToDetail=()=>F(this,null,function*(){if(yield this.checkUnsavedCalc(),this.hasUnsavedCalc){alert("\u8A08\u7B97\u7D50\u679C\u3092\u4FDD\u5B58\u3057\u3066\u304F\u3060\u3055\u3044");return}this.router.navigate(["/employee-detail",this.employeesId])});static \u0275fac=function(e){return new(e||n)(w(H),w(q),w($))};static \u0275cmp=U({type:n,selectors:[["app-calculate"]],decls:58,vars:16,consts:[[1,"calculate-header"],[1,"calculate-header-title"],[1,"to-detail-btn",3,"click"],["class","unsaved-warning",4,"ngIf"],[1,"info-calc-flex",2,"margin-top","0"],[1,"office-info"],[1,"office-label"],[1,"office-value"],[1,"extra-info-box"],[1,"extra-info-row"],[1,"extra-info-label"],[1,"extra-info-value"],[4,"ngIf"],[1,"calculate-container"],["type","button","class","save-calc-btn",3,"click",4,"ngIf"],["class","loading-message",4,"ngIf"],["class","excluded-message",4,"ngIf"],[1,"unsaved-warning"],["type","button",1,"save-calc-btn",3,"click"],[1,"loading-message"],[1,"excluded-message"],["class","calc-row",4,"ngIf"],[1,"calc-row"],[1,"calc-label"],[1,"calc-value"]],template:function(e,r){e&1&&(i(0,"div",0)(1,"span",1),s(2,"\u8A08\u7B97\u7D50\u679C\u8868\u793A\u753B\u9762"),a(),i(3,"button",2),k("click",function(){return r.onNavigateToDetail()}),s(4,"\u5F93\u696D\u54E1\u8A73\u7D30\u753B\u9762\u3078"),a(),D(5,te,2,0,"div",3),a(),i(6,"div",4)(7,"div")(8,"div",5)(9,"div")(10,"span",6),s(11,"\u6240\u5C5E\u4E8B\u696D\u6240\uFF1A"),a(),i(12,"span",7),s(13),a()(),i(14,"div")(15,"span",6),s(16,"\u6240\u5728\u90FD\u9053\u5E9C\u770C\uFF1A"),a(),i(17,"span",7),s(18),a()(),i(19,"div")(20,"span",6),s(21,"\u5065\u5EB7\u4FDD\u967A\u6599\u7387\uFF1A"),a(),i(22,"span",7),s(23),a()(),i(24,"div")(25,"span",6),s(26,"\u4ECB\u8B77\u4FDD\u967A\u6599\u7387\uFF1A"),a(),i(27,"span",7),s(28),a()(),i(29,"div")(30,"span",6),s(31,"\u539A\u751F\u5E74\u91D1\u4FDD\u967A\u6599\u7387\uFF1A"),a(),i(32,"span",7),s(33),a()()(),i(34,"div",8)(35,"div",9)(36,"span",10),s(37,"\u5065\u5EB7\u4FDD\u967A\u5BFE\u8C61\uFF1A"),a(),i(38,"span",11),D(39,ne,2,0,"span",12)(40,ae,2,1,"span",12),a()(),i(41,"div",9)(42,"span",10),s(43,"\u4ECB\u8B77\u4FDD\u967A\uFF1A"),a(),i(44,"span",11),D(45,ie,2,0,"span",12)(46,re,2,1,"span",12),a()(),i(47,"div",9)(48,"span",10),s(49,"\u539A\u751F\u5E74\u91D1\u5BFE\u8C61\uFF1A"),a(),i(50,"span",11),D(51,se,2,0,"span",12)(52,oe,2,1,"span",12),a()()()(),i(53,"div",13),D(54,le,2,0,"button",14)(55,ue,2,0,"div",15)(56,ce,2,0,"div",16)(57,ve,13,12,"div",12),a()()),e&2&&(o(5),c("ngIf",r.hasUnsavedCalc),o(8),C((r.officeData==null?null:r.officeData.officeName)||"---"),o(5),C((r.officeData==null?null:r.officeData.officePrefecture)||"---"),o(5),C(r.insuranceRateData!=null&&r.insuranceRateData.health_insurance?r.insuranceRateData.health_insurance*100+"\uFF05":"---"),o(5),C(r.insuranceRateData!=null&&r.insuranceRateData.care_insurance?r.insuranceRateData.care_insurance*100+"\uFF05":"---"),o(5),C(r.insuranceRateData!=null&&r.insuranceRateData.pension_insurance?r.insuranceRateData.pension_insurance*100+"\uFF05":"---"),o(6),c("ngIf",r.isSocialInsuranceExcluded),o(),c("ngIf",!r.isSocialInsuranceExcluded),o(5),c("ngIf",r.isSocialInsuranceExcluded),o(),c("ngIf",!r.isSocialInsuranceExcluded),o(5),c("ngIf",r.isSocialInsuranceExcluded),o(),c("ngIf",!r.isSocialInsuranceExcluded),o(2),c("ngIf",!r.isSocialInsuranceExcluded),o(),c("ngIf",r.isLoading),o(),c("ngIf",r.isSocialInsuranceExcluded),o(),c("ngIf",!r.isSocialInsuranceExcluded&&r.employeeData))},dependencies:[z,W,j],styles:[".calculate-container[_ngcontent-%COMP%]{padding-top:4rem;max-width:600px;margin:0 auto;background:#f8fafc;border-radius:12px;box-shadow:0 2px 12px #1976d212;padding-bottom:2.5rem}.calculate-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:1.2rem}.calculate-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:1.04rem;color:#222;padding:.32rem .2rem;border-bottom:1px solid #e3e8ee}.calculate-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{border-bottom:none}.calculate-container[_ngcontent-%COMP%]   .loading-message[_ngcontent-%COMP%]{text-align:center;font-size:1.08rem;color:#1976d2;padding:2.5rem 0;font-weight:600}.save-calc-btn[_ngcontent-%COMP%]{display:block;margin:.1rem auto;background:#1976d2;color:#fff;font-size:.95rem;font-weight:600;padding:.4rem 1.2rem;border:none;border-radius:7px;cursor:pointer;box-shadow:0 1px 4px #1976d214;transition:background .2s}.save-calc-btn[_ngcontent-%COMP%]:hover{background:#1565c0}@media (max-width: 600px){.calculate-container[_ngcontent-%COMP%]{padding:1.2rem .5rem 2rem;max-width:99vw}.calculate-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:.98rem}.save-calc-btn[_ngcontent-%COMP%]{font-size:.98rem;padding:.6rem 1.2rem}}.info-calc-flex[_ngcontent-%COMP%]{display:flex;gap:2.2rem;align-items:flex-start;justify-content:center;margin-top:1.5rem;max-width:1200px;margin-left:auto;margin-right:auto;padding-top:3.5rem}.office-info[_ngcontent-%COMP%]{min-width:260px;max-width:340px;flex:0 0 320px;background:#e3f2fd;border-radius:14px;padding:1.3rem 1.5rem;font-size:1.04rem;color:#1976d2;box-shadow:0 2px 8px #1976d20f;display:flex;flex-direction:column;gap:.5rem}.office-info[_ngcontent-%COMP%]   .office-label[_ngcontent-%COMP%]{font-weight:600;color:#1565c0}.office-info[_ngcontent-%COMP%]   .office-value[_ngcontent-%COMP%]{font-weight:500;color:#1976d2}.calculate-container[_ngcontent-%COMP%]{flex:1 1 600px;max-width:600px;background:#f8fafc;border-radius:14px;box-shadow:0 2px 12px #1976d212;padding-top:0!important;padding-right:1.5rem;padding-bottom:2.5rem;padding-left:1.5rem}@media (max-width: 900px){.info-calc-flex[_ngcontent-%COMP%]{flex-direction:column;gap:1.2rem;margin-top:1.2rem;max-width:99vw;padding-top:3.2rem}.office-info[_ngcontent-%COMP%], .calculate-container[_ngcontent-%COMP%]{max-width:99vw;min-width:0;flex:1 1 100%;margin:0 auto}}.calc-row[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.5rem;font-size:1.04rem;color:#222;padding:.32rem .2rem;border-bottom:1px solid #e3e8ee}.calc-label[_ngcontent-%COMP%]{min-width:12em;text-align:left;font-weight:600;color:#1976d2;flex-shrink:0;margin-right:.7em}.calc-value[_ngcontent-%COMP%]{flex:1;word-break:break-all}.extra-info-row[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.01rem;margin-bottom:.5rem;padding:.2rem .3rem}.extra-info-label[_ngcontent-%COMP%]{min-width:6.5em;font-weight:600;color:#1976d2}.extra-info-value[_ngcontent-%COMP%]{flex:1;color:#222}.extra-info-box[_ngcontent-%COMP%]{min-width:260px;max-width:340px;background:#e3f2fd;border-radius:14px;margin-top:1.2rem;box-shadow:0 2px 8px #1976d20f;padding:1.1rem 1.2rem}.excluded-message[_ngcontent-%COMP%]{color:#d32f2f;background:#fff0f0;border:none;border-radius:8px;font-size:1.25em;font-weight:700;padding:18px 0;text-align:center;margin:18px 0 12px;letter-spacing:.05em;box-shadow:0 2px 8px #d32f2f14;width:100%;box-sizing:border-box;margin-left:-1.5rem;margin-right:-1.5rem}.calculate-header[_ngcontent-%COMP%]{width:100%;padding-top:3.5rem;margin-bottom:0;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;gap:.7rem}.calculate-header-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1976d2;letter-spacing:.04em;margin-left:.2em}.to-detail-btn[_ngcontent-%COMP%]{background:#42a5f5;color:#fff;border:none;border-radius:7px;font-size:1.02em;font-weight:600;padding:.5em 1.6em;cursor:pointer;box-shadow:0 1px 4px #1976d214;transition:background .2s}.to-detail-btn[_ngcontent-%COMP%]:hover{background:#1976d2}.info-calc-flex[_ngcontent-%COMP%]{margin-top:2.5rem}.unsaved-warning[_ngcontent-%COMP%]{color:#d32f2f;font-weight:700;margin-top:0;font-size:1.08em;text-align:center;display:block;margin-left:auto;margin-right:auto;max-width:100%}"]})};export{G as CalculateComponent};
