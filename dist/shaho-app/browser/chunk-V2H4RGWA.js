var pA=Object.defineProperty,gA=Object.defineProperties;var mA=Object.getOwnPropertyDescriptors;var Va=Object.getOwnPropertySymbols,yA=Object.getPrototypeOf,x_=Object.prototype.hasOwnProperty,O_=Object.prototype.propertyIsEnumerable,vA=Reflect.get;var k_=(t,e,n)=>e in t?pA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ct=(t,e)=>{for(var n in e||={})x_.call(e,n)&&k_(t,n,e[n]);if(Va)for(var n of Va(e))O_.call(e,n)&&k_(t,n,e[n]);return t},ut=(t,e)=>gA(t,mA(e));var cU=(t,e)=>{var n={};for(var r in t)x_.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Va)for(var r of Va(t))e.indexOf(r)<0&&O_.call(t,r)&&(n[r]=t[r]);return n};var Gn=(t,e,n)=>vA(yA(t),n,e);var _=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});function Ld(t,e){return Object.is(t,e)}var Oe=null,ja=!1,Vd=1,Ct=Symbol("SIGNAL");function ie(t){let e=Oe;return Oe=t,e}function jd(){return Oe}var Zo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Jo(t){if(ja)throw new Error("");if(Oe===null)return;Oe.consumerOnSignalRead(t);let e=Oe.nextProducerIndex++;if(Ha(Oe),e<Oe.producerNode.length&&Oe.producerNode[e]!==t&&Yo(Oe)){let n=Oe.producerNode[e];$a(n,Oe.producerIndexOfThis[e])}Oe.producerNode[e]!==t&&(Oe.producerNode[e]=t,Oe.producerIndexOfThis[e]=Yo(Oe)?L_(t,Oe,e):0),Oe.producerLastReadVersion[e]=t.version}function F_(){Vd++}function Bd(t){if(!(Yo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Vd)){if(!t.producerMustRecompute(t)&&!qd(t)){Fd(t);return}t.producerRecomputeValue(t),Fd(t)}}function Ud(t){if(t.liveConsumerNode===void 0)return;let e=ja;ja=!0;try{for(let n of t.liveConsumerNode)n.dirty||_A(n)}finally{ja=e}}function $d(){return Oe?.consumerAllowSignalWrites!==!1}function _A(t){t.dirty=!0,Ud(t),t.consumerMarkedDirty?.(t)}function Fd(t){t.dirty=!1,t.lastCleanEpoch=Vd}function Ua(t){return t&&(t.nextProducerIndex=0),ie(t)}function Hd(t,e){if(ie(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Yo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)$a(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function qd(t){Ha(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Bd(n),r!==n.version))return!0}return!1}function zd(t){if(Ha(t),Yo(t))for(let e=0;e<t.producerNode.length;e++)$a(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function L_(t,e,n){if(V_(t),t.liveConsumerNode.length===0&&j_(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=L_(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function $a(t,e){if(V_(t),t.liveConsumerNode.length===1&&j_(t))for(let r=0;r<t.producerNode.length;r++)$a(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ha(i),i.producerIndexOfThis[r]=e}}function Yo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ha(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function V_(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function j_(t){return t.producerNode!==void 0}function Wd(t,e){let n=Object.create(IA);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Bd(n),Jo(n),n.value===Ba)throw n.error;return n.value};return r[Ct]=n,r}var xd=Symbol("UNSET"),Od=Symbol("COMPUTING"),Ba=Symbol("ERRORED"),IA=ut(ct({},Zo),{value:xd,dirty:!0,error:null,equal:Ld,kind:"computed",producerMustRecompute(t){return t.value===xd||t.value===Od},producerRecomputeValue(t){if(t.value===Od)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Od;let n=Ua(t),r,i=!1;try{r=t.computation(),ie(null),i=e!==xd&&e!==Ba&&r!==Ba&&t.equal(e,r)}catch(o){r=Ba,t.error=o}finally{Hd(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function EA(){throw new Error}var B_=EA;function U_(t){B_(t)}function Gd(t){B_=t}var wA=null;function Kd(t,e){let n=Object.create(qa);n.value=t,e!==void 0&&(n.equal=e);let r=()=>(Jo(n),n.value);return r[Ct]=n,r}function Xo(t,e){$d()||U_(t),t.equal(t.value,e)||(t.value=e,TA(t))}function Qd(t,e){$d()||U_(t),Xo(t,e(t.value))}var qa=ut(ct({},Zo),{equal:Ld,value:void 0,kind:"signal"});function TA(t){t.version++,F_(),Ud(t),wA?.()}function Yd(t){let e=ie(null);try{return t()}finally{ie(e)}}var Zd;function es(){return Zd}function vn(t){let e=Zd;return Zd=t,e}var za=Symbol("NotFound");function z(t){return typeof t=="function"}function Ii(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Wa=Ii(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Er(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ne=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(z(r))try{r()}catch(o){e=o instanceof Wa?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{$_(o)}catch(s){e=e??[],s instanceof Wa?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Wa(e)}}add(e){var n;if(e&&e!==this)if(this.closed)$_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Er(n,e)}remove(e){let{_finalizers:n}=this;n&&Er(n,e),e instanceof t&&e._removeParent(this)}};Ne.EMPTY=(()=>{let t=new Ne;return t.closed=!0,t})();var Jd=Ne.EMPTY;function Ga(t){return t instanceof Ne||t&&"closed"in t&&z(t.remove)&&z(t.add)&&z(t.unsubscribe)}function $_(t){z(t)?t():t.unsubscribe()}var xt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ei={setTimeout(t,e,...n){let{delegate:r}=Ei;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ei;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ka(t){Ei.setTimeout(()=>{let{onUnhandledError:e}=xt;if(e)e(t);else throw t})}function ts(){}var H_=Xd("C",void 0,void 0);function q_(t){return Xd("E",void 0,t)}function z_(t){return Xd("N",t,void 0)}function Xd(t,e,n){return{kind:t,value:e,error:n}}var wr=null;function wi(t){if(xt.useDeprecatedSynchronousErrorHandling){let e=!wr;if(e&&(wr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=wr;if(wr=null,n)throw r}}else t()}function W_(t){xt.useDeprecatedSynchronousErrorHandling&&wr&&(wr.errorThrown=!0,wr.error=t)}var Tr=class extends Ne{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ga(e)&&e.add(this)):this.destination=RA}static create(e,n,r){return new _n(e,n,r)}next(e){this.isStopped?th(z_(e),this):this._next(e)}error(e){this.isStopped?th(q_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?th(H_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},SA=Function.prototype.bind;function eh(t,e){return SA.call(t,e)}var nh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Qa(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Qa(r)}else Qa(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Qa(n)}}},_n=class extends Tr{constructor(e,n,r){super();let i;if(z(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&xt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&eh(e.next,o),error:e.error&&eh(e.error,o),complete:e.complete&&eh(e.complete,o)}):i=e}this.destination=new nh(i)}};function Qa(t){xt.useDeprecatedSynchronousErrorHandling?W_(t):Ka(t)}function AA(t){throw t}function th(t,e){let{onStoppedNotification:n}=xt;n&&Ei.setTimeout(()=>n(t,e))}var RA={closed:!0,next:ts,error:AA,complete:ts};var Ti=typeof Symbol=="function"&&Symbol.observable||"@@observable";function tt(t){return t}function NA(...t){return rh(t)}function rh(t){return t.length===0?tt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var te=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=MA(n)?n:new _n(n,r,i);return wi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=G_(r),new r((i,o)=>{let s=new _n({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ti](){return this}pipe(...n){return rh(n)(this)}toPromise(n){return n=G_(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function G_(t){var e;return(e=t??xt.Promise)!==null&&e!==void 0?e:Promise}function PA(t){return t&&z(t.next)&&z(t.error)&&z(t.complete)}function MA(t){return t&&t instanceof Tr||PA(t)&&Ga(t)}function ih(t){return z(t?.lift)}function K(t){return e=>{if(ih(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function W(t,e,n,r,i){return new oh(t,e,n,r,i)}var oh=class extends Tr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function sh(){return K((t,e)=>{let n=null;t._refCount++;let r=W(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ah=class extends te{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ih(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ne;let n=this.getSubject();e.add(this.source.subscribe(W(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ne.EMPTY)}return e}refCount(){return sh()(this)}};var K_=Ii(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var St=(()=>{class t extends te{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ya(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new K_}next(n){wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Jd:(this.currentObservers=null,o.push(n),new Ne(()=>{this.currentObservers=null,Er(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new te;return n.source=this,n}}return t.create=(e,n)=>new Ya(e,n),t})(),Ya=class extends St{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Jd}};var ns=class extends St{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ch={now(){return(ch.delegate||Date).now()},delegate:void 0};var Za=class extends Ne{constructor(e,n){super()}schedule(e,n=0){return this}};var rs={setInterval(t,e,...n){let{delegate:r}=rs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=rs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Di=class extends Za{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return rs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&rs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Er(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var bi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};bi.now=ch.now;var Ci=class extends bi{constructor(e,n=bi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Kn=new Ci(Di),uh=Kn;var Ja=class extends Di{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Xa=class extends Ci{};var lh=new Xa(Ja);var Dr=new te(t=>t.complete());function ec(t){return t&&z(t.schedule)}function dh(t){return t[t.length-1]}function tc(t){return z(dh(t))?t.pop():void 0}function Gt(t){return ec(dh(t))?t.pop():void 0}function Q_(t,e){return typeof dh(t)=="number"?t.pop():e}function hh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Z_(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function Y_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function br(t){return this instanceof br?(this.v=t,this):new br(t)}function J_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(T){return Promise.resolve(T).then(y,p)}}function a(y,T){r[y]&&(i[y]=function(R){return new Promise(function(N,x){o.push([y,R,N,x])>1||u(y,R)})},T&&(i[y]=T(i[y])))}function u(y,T){try{l(r[y](T))}catch(R){m(o[0][3],R)}}function l(y){y.value instanceof br?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,T){y(T),o.shift(),o.length&&u(o[0][0],o[0][1])}}function X_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Y_=="function"?Y_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var nc=t=>t&&typeof t.length=="number"&&typeof t!="function";function rc(t){return z(t?.then)}function ic(t){return z(t[Ti])}function oc(t){return Symbol.asyncIterator&&z(t?.[Symbol.asyncIterator])}function sc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function kA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ac=kA();function cc(t){return z(t?.[ac])}function uc(t){return J_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield br(n.read());if(i)return yield br(void 0);yield yield br(r)}}finally{n.releaseLock()}})}function lc(t){return z(t?.getReader)}function ge(t){if(t instanceof te)return t;if(t!=null){if(ic(t))return xA(t);if(nc(t))return OA(t);if(rc(t))return FA(t);if(oc(t))return eI(t);if(cc(t))return LA(t);if(lc(t))return VA(t)}throw sc(t)}function xA(t){return new te(e=>{let n=t[Ti]();if(z(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function OA(t){return new te(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function FA(t){return new te(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ka)})}function LA(t){return new te(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function eI(t){return new te(e=>{jA(t,e).catch(n=>e.error(n))})}function VA(t){return eI(uc(t))}function jA(t,e){var n,r,i,o;return Z_(this,void 0,void 0,function*(){try{for(n=X_(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function lt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Qn(t,e=0){return K((n,r)=>{n.subscribe(W(r,i=>lt(r,t,()=>r.next(i),e),()=>lt(r,t,()=>r.complete(),e),i=>lt(r,t,()=>r.error(i),e)))})}function Yn(t,e=0){return K((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function tI(t,e){return ge(t).pipe(Yn(e),Qn(e))}function nI(t,e){return ge(t).pipe(Yn(e),Qn(e))}function rI(t,e){return new te(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function iI(t,e){return new te(n=>{let r;return lt(n,e,()=>{r=t[ac](),lt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>z(r?.return)&&r.return()})}function dc(t,e){if(!t)throw new Error("Iterable cannot be null");return new te(n=>{lt(n,e,()=>{let r=t[Symbol.asyncIterator]();lt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function oI(t,e){return dc(uc(t),e)}function sI(t,e){if(t!=null){if(ic(t))return tI(t,e);if(nc(t))return rI(t,e);if(rc(t))return nI(t,e);if(oc(t))return dc(t,e);if(cc(t))return iI(t,e);if(lc(t))return oI(t,e)}throw sc(t)}function Kt(t,e){return e?sI(t,e):ge(t)}function BA(...t){let e=Gt(t);return Kt(t,e)}function UA(t,e){let n=z(t)?t:()=>t,r=i=>i.error(n());return new te(e?i=>e.schedule(r,0,i):r)}function $A(t){return!!t&&(t instanceof te||z(t.lift)&&z(t.subscribe))}var Cr=Ii(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function aI(t){return t instanceof Date&&!isNaN(t)}function Sr(t,e){return K((n,r)=>{let i=0;n.subscribe(W(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:HA}=Array;function qA(t,e){return HA(e)?t(...e):t(e)}function hc(t){return Sr(e=>qA(t,e))}var{isArray:zA}=Array,{getPrototypeOf:WA,prototype:GA,keys:KA}=Object;function fc(t){if(t.length===1){let e=t[0];if(zA(e))return{args:e,keys:null};if(QA(e)){let n=KA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function QA(t){return t&&typeof t=="object"&&WA(t)===GA}function pc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function YA(...t){let e=Gt(t),n=tc(t),{args:r,keys:i}=fc(t);if(r.length===0)return Kt([],e);let o=new te(ZA(r,e,i?s=>pc(i,s):tt));return n?o.pipe(hc(n)):o}function ZA(t,e,n=tt){return r=>{cI(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)cI(e,()=>{let l=Kt(t[u],e),h=!1;l.subscribe(W(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function cI(t,e,n){t?lt(n,t,e):e()}function uI(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=R=>l<r?T(R):u.push(R),T=R=>{o&&e.next(R),l++;let N=!1;ge(n(R,h++)).subscribe(W(e,x=>{i?.(x),o?y(x):e.next(x)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let x=u.shift();s?lt(e,s,()=>T(x)):T(x)}m()}catch(x){e.error(x)}}))};return t.subscribe(W(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Ar(t,e,n=1/0){return z(e)?Ar((r,i)=>Sr((o,s)=>e(r,o,i,s))(ge(t(r,i))),n):(typeof e=="number"&&(n=e),K((r,i)=>uI(r,i,t,n)))}function is(t=1/0){return Ar(tt,t)}function lI(){return is(1)}function gc(...t){return lI()(Kt(t,Gt(t)))}function JA(t){return new te(e=>{ge(t()).subscribe(e)})}function XA(...t){let e=tc(t),{args:n,keys:r}=fc(t),i=new te(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;ge(n[h]).subscribe(W(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?pc(r,a):a),o.complete())}))}});return e?i.pipe(hc(e)):i}function dI(t=0,e,n=uh){let r=-1;return e!=null&&(ec(e)?n=e:r=e),new te(i=>{let o=aI(t)?+t-n.now():t;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function eR(...t){let e=Gt(t),n=Q_(t,1/0),r=t;return r.length?r.length===1?ge(r[0]):is(n)(Kt(r,e)):Dr}function Rr(t,e){return K((n,r)=>{let i=0;n.subscribe(W(r,o=>t.call(e,o,i++)&&r.next(o)))})}function hI(t){return K((e,n)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let l=i;i=null,n.next(l)}s&&n.complete()},u=()=>{o=null,s&&n.complete()};e.subscribe(W(n,l=>{r=!0,i=l,o||ge(t(l)).subscribe(o=W(n,a,u))},()=>{s=!0,(!r||!o||o.closed)&&n.complete()}))})}function tR(t,e=Kn){return hI(()=>dI(t,e))}function fI(t){return K((e,n)=>{let r=null,i=!1,o;r=e.subscribe(W(n,void 0,void 0,s=>{o=ge(t(s,fI(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function pI(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(W(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function nR(t,e){return z(e)?Ar(t,e,1):Ar(t,1)}function rR(t,e=Kn){return K((n,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function u(){let l=s+t,h=e.now();if(h<l){i=this.schedule(void 0,l-h),r.add(i);return}a()}n.subscribe(W(r,l=>{o=l,s=e.now(),i||(i=e.schedule(u,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function os(t){return K((e,n)=>{let r=!1;e.subscribe(W(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function fh(t){return t<=0?()=>Dr:K((e,n)=>{let r=0;e.subscribe(W(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function iR(t,e=tt){return t=t??oR,K((n,r)=>{let i,o=!0;n.subscribe(W(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function oR(t,e){return t===e}function mc(t=sR){return K((e,n)=>{let r=!1;e.subscribe(W(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function sR(){return new Cr}function aR(t){return K((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function cR(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Rr((i,o)=>t(i,o,r)):tt,fh(1),n?os(e):mc(()=>new Cr))}function ph(t){return t<=0?()=>Dr:K((e,n)=>{let r=[];e.subscribe(W(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function uR(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Rr((i,o)=>t(i,o,r)):tt,ph(1),n?os(e):mc(()=>new Cr))}function lR(t,e){return K(pI(t,e,arguments.length>=2,!0))}function dR(t={}){let{connector:e=()=>new St,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,u,l=0,h=!1,p=!1,m=()=>{a?.unsubscribe(),a=void 0},y=()=>{m(),s=u=void 0,h=p=!1},T=()=>{let R=s;y(),R?.unsubscribe()};return K((R,N)=>{l++,!p&&!h&&m();let x=u=u??e();N.add(()=>{l--,l===0&&!p&&!h&&(a=gh(T,i))}),x.subscribe(N),!s&&l>0&&(s=new _n({next:L=>x.next(L),error:L=>{p=!0,m(),a=gh(y,n,L),x.error(L)},complete:()=>{h=!0,m(),a=gh(y,r),x.complete()}}),ge(R).subscribe(s))})(o)}}function gh(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new _n({next:()=>{r.unsubscribe(),t()}});return ge(e(...n)).subscribe(r)}function hR(t){return Rr((e,n)=>t<=n)}function fR(...t){let e=Gt(t);return K((n,r)=>{(e?gc(t,n,e):gc(t,n)).subscribe(r)})}function pR(t,e){return K((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(W(r,u=>{i?.unsubscribe();let l=0,h=o++;ge(t(u,h)).subscribe(i=W(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function gR(t){return K((e,n)=>{ge(t).subscribe(W(n,()=>n.complete(),ts)),!n.closed&&e.subscribe(n)})}function mR(t,e,n){let r=z(t)||e||n?{next:t,error:e,complete:n}:t;return r?K((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(W(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):tt}var iE="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",Z=class extends Error{code;constructor(e,n){super(oE(e,n)),this.code=e}};function yR(t){return`NG0${Math.abs(t)}`}function oE(t,e){return`${yR(t)}${e?": "+e:""}`}var sE=Symbol("InputSignalNode#UNSET"),vR=ut(ct({},qa),{transformFn:void 0,applyValueToInputSignal(t,e){Xo(t,e)}});function aE(t,e){let n=Object.create(vR);n.value=t,n.transformFn=e?.transform;function r(){if(Jo(n),n.value===sE){let i=null;throw new Z(-950,i)}return n.value}return r[Ct]=n,r}function vs(t){return{toString:t}.toString()}var yc="__parameters__";function _R(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function cE(t,e,n){return vs(()=>{let r=_R(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(yc)?u[yc]:Object.defineProperty(u,yc,{value:[]})[yc];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Zn=globalThis;function me(t){for(let e in t)if(t[e]===me)return e;throw Error("Could not find renamed property on target object.")}function IR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ft(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(ft).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Nh(t,e){return t?e?`${t} ${e}`:t:e||""}var ER=me({__forward_ref__:me});function uE(t){return t.__forward_ref__=uE,t.toString=function(){return ft(this())},t}function nt(t){return lE(t)?t():t}function lE(t){return typeof t=="function"&&t.hasOwnProperty(ER)&&t.__forward_ref__===uE}function de(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function dE(t){return{providers:t.providers||[],imports:t.imports||[]}}function Xc(t){return gI(t,hE)||gI(t,fE)}function Ez(t){return Xc(t)!==null}function gI(t,e){return t.hasOwnProperty(e)?t[e]:null}function wR(t){let e=t&&(t[hE]||t[fE]);return e||null}function mI(t){return t&&(t.hasOwnProperty(yI)||t.hasOwnProperty(TR))?t[yI]:null}var hE=me({\u0275prov:me}),yI=me({\u0275inj:me}),fE=me({ngInjectableDef:me}),TR=me({ngInjectorDef:me}),Q=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=de({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function pE(t){return t&&!!t.\u0275providers}var DR=me({\u0275cmp:me}),bR=me({\u0275dir:me}),CR=me({\u0275pipe:me}),SR=me({\u0275mod:me}),Ac=me({\u0275fac:me}),us=me({__NG_ELEMENT_ID__:me}),vI=me({__NG_ENV_ID__:me});function In(t){return typeof t=="string"?t:t==null?"":String(t)}function AR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():In(t)}function gE(t,e){throw new Z(-200,t)}function Vf(t,e){throw new Z(-201,!1)}var ne=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ne||{}),Ph;function mE(){return Ph}function dt(t){let e=Ph;return Ph=t,e}function yE(t,e,n){let r=Xc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ne.Optional)return null;if(e!==void 0)return e;Vf(t,"Injector")}var RR={},Pr=RR,Mh="__NG_DI_FLAG__",Rc=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?za:Pr,r)}},Nc="ngTempTokenPath",NR="ngTokenPath",PR=/\n/gm,MR="\u0275",_I="__source";function kR(t,e=ne.Default){if(es()===void 0)throw new Z(-203,!1);if(es()===null)return yE(t,void 0,e);{let n=es(),r;return n instanceof Rc?r=n.injector:r=n,r.get(t,e&ne.Optional?null:void 0,e)}}function Ue(t,e=ne.Default){return(mE()||kR)(nt(t),e)}function V(t,e=ne.Default){return Ue(t,eu(e))}function eu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function kh(t){let e=[];for(let n=0;n<t.length;n++){let r=nt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new Z(900,!1);let i,o=ne.Default;for(let s=0;s<r.length;s++){let a=r[s],u=xR(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(Ue(i,o))}else e.push(Ue(r))}return e}function vE(t,e){return t[Mh]=e,t.prototype[Mh]=e,t}function xR(t){return t[Mh]}function OR(t,e,n,r){let i=t[Nc];throw e[_I]&&i.unshift(e[_I]),t.message=FR(`
`+t.message,i,n,r),t[NR]=i,t[Nc]=null,t}function FR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==MR?t.slice(2):t;let i=ft(e);if(Array.isArray(e))i=e.map(ft).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):ft(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(PR,`
  `)}`}var Et=vE(cE("Optional"),8);var LR=vE(cE("SkipSelf"),4);function kr(t,e){let n=t.hasOwnProperty(Ac);return n?t[Ac]:null}function VR(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function jR(t){return t.flat(Number.POSITIVE_INFINITY)}function jf(t,e){t.forEach(n=>Array.isArray(n)?jf(n,e):e(n))}function _E(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Pc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function BR(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function UR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Bf(t,e,n){let r=_s(t,e);return r>=0?t[r|1]=n:(r=~r,UR(t,r,e,n)),r}function mh(t,e){let n=_s(t,e);if(n>=0)return t[n|1]}function _s(t,e){return $R(t,e,1)}function $R(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var xr={},ht=[],Mc=new Q(""),IE=new Q("",-1),EE=new Q(""),kc=class{get(e,n=Pr){if(n===Pr){let r=new Error(`NullInjectorError: No provider for ${ft(e)}!`);throw r.name="NullInjectorError",r}return n}};function wE(t,e){let n=t[SR]||null;if(!n&&e===!0)throw new Error(`Type ${ft(t)} does not have '\u0275mod' property.`);return n}function tr(t){return t[DR]||null}function HR(t){return t[bR]||null}function qR(t){return t[CR]||null}function nr(t){return{\u0275providers:t}}function zR(...t){return{\u0275providers:TE(!0,t),\u0275fromNgModule:!0}}function TE(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return jf(e,s=>{let a=s;xh(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&DE(i,o),n}function DE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Uf(i,o=>{e(o,r)})}}function xh(t,e,n,r){if(t=nt(t),!t)return!1;let i=null,o=mI(t),s=!o&&tr(t);if(!o&&!s){let u=t.ngModule;if(o=mI(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)xh(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{jf(o.imports,h=>{xh(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&DE(l,e)}if(!a){let l=kr(i)||(()=>new i);e({provide:i,useFactory:l,deps:ht},i),e({provide:EE,useValue:i,multi:!0},i),e({provide:Mc,useValue:()=>Ue(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Uf(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Uf(t,e){for(let n of t)pE(n)&&(n=n.\u0275providers),Array.isArray(n)?Uf(n,e):e(n)}var WR=me({provide:String,useValue:me});function bE(t){return t!==null&&typeof t=="object"&&WR in t}function GR(t){return!!(t&&t.useExisting)}function KR(t){return!!(t&&t.useFactory)}function ki(t){return typeof t=="function"}function QR(t){return!!t.useClass}var CE=new Q(""),wc={},II={},yh;function tu(){return yh===void 0&&(yh=new kc),yh}var Yt=class{},ls=class extends Yt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Fh(e,s=>this.processProvider(s)),this.records.set(IE,Si(void 0,this)),i.has("environment")&&this.records.set(Yt,Si(void 0,this));let o=this.records.get(CE);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(EE,ht,ne.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?za:Pr,r)}destroy(){as(this),this._destroyed=!0;let e=ie(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ie(e)}}onDestroy(e){return as(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){as(this);let n=vn(this),r=dt(void 0),i;try{return e()}finally{vn(n),dt(r)}}get(e,n=Pr,r=ne.Default){if(as(this),e.hasOwnProperty(vI))return e[vI](this);r=eu(r);let i,o=vn(this),s=dt(void 0);try{if(!(r&ne.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=eN(e)&&Xc(e);l&&this.injectableDefInScope(l)?u=Si(Oh(e),wc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,r)}let a=r&ne.Self?tu():this.parent;return n=r&ne.Optional&&n===Pr?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Nc]=a[Nc]||[]).unshift(ft(e)),o)throw a;return OR(a,e,"R3InjectorError",this.source)}else throw a}finally{dt(s),vn(o)}}resolveInjectorInitializers(){let e=ie(null),n=vn(this),r=dt(void 0),i;try{let o=this.get(Mc,ht,ne.Self);for(let s of o)s()}finally{vn(n),dt(r),ie(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ft(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=nt(e);let n=ki(e)?e:nt(e&&e.provide),r=ZR(e);if(!ki(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Si(void 0,wc,!0),i.factory=()=>kh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=ie(null);try{return n.value===II?gE(ft(e)):n.value===wc&&(n.value=II,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&XR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ie(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=nt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Oh(t){let e=Xc(t),n=e!==null?e.factory:kr(t);if(n!==null)return n;if(t instanceof Q)throw new Z(204,!1);if(t instanceof Function)return YR(t);throw new Z(204,!1)}function YR(t){if(t.length>0)throw new Z(204,!1);let n=wR(t);return n!==null?()=>n.factory(t):()=>new t}function ZR(t){if(bE(t))return Si(void 0,t.useValue);{let e=SE(t);return Si(e,wc)}}function SE(t,e,n){let r;if(ki(t)){let i=nt(t);return kr(i)||Oh(i)}else if(bE(t))r=()=>nt(t.useValue);else if(KR(t))r=()=>t.useFactory(...kh(t.deps||[]));else if(GR(t))r=(i,o)=>Ue(nt(t.useExisting),o!==void 0&&o&ne.Optional?ne.Optional:void 0);else{let i=nt(t&&(t.useClass||t.provide));if(JR(t))r=()=>new i(...kh(t.deps));else return kr(i)||Oh(i)}return r}function as(t){if(t.destroyed)throw new Z(205,!1)}function Si(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function JR(t){return!!t.deps}function XR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function eN(t){return typeof t=="function"||typeof t=="object"&&t instanceof Q}function Fh(t,e){for(let n of t)Array.isArray(n)?Fh(n,e):n&&pE(n)?Fh(n.\u0275providers,e):e(n)}function Bi(t,e){let n;t instanceof ls?(as(t),n=t):n=new Rc(t);let r,i=vn(n),o=dt(void 0);try{return e()}finally{vn(i),dt(o)}}function AE(){return mE()!==void 0||es()!=null}function nu(t){if(!AE())throw new Z(-203,!1)}function tN(t){return typeof t=="function"}var Dn=0,J=1,H=2,Ge=3,Lt=4,gt=5,ds=6,xc=7,pt=8,Or=9,En=10,Ee=11,hs=12,EI=13,Ui=14,Rt=15,Fr=16,Ai=17,wn=18,ru=19,RE=20,Xn=21,vh=22,Oc=23,At=24,Pi=25,rt=26,NE=1;var Lr=7,Fc=8,xi=9,It=10;function er(t){return Array.isArray(t)&&typeof t[NE]=="object"}function bn(t){return Array.isArray(t)&&t[NE]===!0}function $f(t){return(t.flags&4)!==0}function $i(t){return t.componentOffset>-1}function iu(t){return(t.flags&1)===1}function Zt(t){return!!t.template}function Lc(t){return(t[H]&512)!==0}function Hi(t){return(t[H]&256)===256}var Lh=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function PE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var nN=(()=>{let t=()=>ME;return t.ngInherit=!0,t})();function ME(t){return t.type.prototype.ngOnChanges&&(t.setInput=iN),rN}function rN(){let t=xE(this),e=t?.current;if(e){let n=t.previous;if(n===xr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function iN(t,e,n,r,i){let o=this.declaredInputs[r],s=xE(t)||oN(t,{previous:xr,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Lh(l&&l.currentValue,n,u===xr),PE(t,e,i,n)}var kE="__ngSimpleChanges__";function xE(t){return t[kE]||null}function oN(t,e){return t[kE]=e}var wI=null;var he=function(t,e=null,n){wI?.(t,e,n)},sN="svg",aN="math";function Jt(t){for(;Array.isArray(t);)t=t[Dn];return t}function OE(t,e){return Jt(e[t])}function tn(t,e){return Jt(e[t.index])}function FE(t,e){return t.data[e]}function LE(t,e){return t[e]}function Xt(t,e){let n=e[t];return er(n)?n:n[Dn]}function cN(t){return(t[H]&4)===4}function Hf(t){return(t[H]&128)===128}function uN(t){return bn(t[Ge])}function Oi(t,e){return e==null?null:t[e]}function VE(t){t[Ai]=0}function jE(t){t[H]&1024||(t[H]|=1024,Hf(t)&&Is(t))}function lN(t,e){for(;t>0;)e=e[Ui],t--;return e}function ou(t){return!!(t[H]&9216||t[At]?.dirty)}function Vh(t){t[En].changeDetectionScheduler?.notify(8),t[H]&64&&(t[H]|=1024),ou(t)&&Is(t)}function Is(t){t[En].changeDetectionScheduler?.notify(0);let e=Vr(t);for(;e!==null&&!(e[H]&8192||(e[H]|=8192,!Hf(e)));)e=Vr(e)}function BE(t,e){if(Hi(t))throw new Z(911,!1);t[Xn]===null&&(t[Xn]=[]),t[Xn].push(e)}function dN(t,e){if(t[Xn]===null)return;let n=t[Xn].indexOf(e);n!==-1&&t[Xn].splice(n,1)}function Vr(t){let e=t[Ge];return bn(e)?e[Ge]:e}function qf(t){return t[xc]??=[]}function zf(t){return t.cleanup??=[]}function hN(t,e,n,r){let i=qf(e);i.push(n),t.firstCreatePass&&zf(t).push(r,i.length-1)}var Y={lFrame:KE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var jh=!1;function fN(){return Y.lFrame.elementDepthCount}function pN(){Y.lFrame.elementDepthCount++}function gN(){Y.lFrame.elementDepthCount--}function Wf(){return Y.bindingsEnabled}function UE(){return Y.skipHydrationRootTNode!==null}function mN(t){return Y.skipHydrationRootTNode===t}function yN(){Y.skipHydrationRootTNode=null}function X(){return Y.lFrame.lView}function Re(){return Y.lFrame.tView}function wz(t){return Y.lFrame.contextLView=t,t[pt]}function Tz(t){return Y.lFrame.contextLView=null,t}function it(){let t=$E();for(;t!==null&&t.type===64;)t=t.parent;return t}function $E(){return Y.lFrame.currentTNode}function vN(){let t=Y.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Wr(t,e){let n=Y.lFrame;n.currentTNode=t,n.isParent=e}function Gf(){return Y.lFrame.isParent}function Kf(){Y.lFrame.isParent=!1}function _N(){return Y.lFrame.contextLView}function HE(){return jh}function TI(t){let e=jh;return jh=t,e}function Qf(){let t=Y.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function qE(){return Y.lFrame.bindingIndex}function IN(t){return Y.lFrame.bindingIndex=t}function su(){return Y.lFrame.bindingIndex++}function au(t){let e=Y.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function EN(){return Y.lFrame.inI18n}function wN(t,e){let n=Y.lFrame;n.bindingIndex=n.bindingRootIndex=t,Bh(e)}function TN(){return Y.lFrame.currentDirectiveIndex}function Bh(t){Y.lFrame.currentDirectiveIndex=t}function DN(t){let e=Y.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function zE(){return Y.lFrame.currentQueryIndex}function Yf(t){Y.lFrame.currentQueryIndex=t}function bN(t){let e=t[J];return e.type===2?e.declTNode:e.type===1?t[gt]:null}function WE(t,e,n){if(n&ne.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ne.Host);)if(i=bN(o),i===null||(o=o[Ui],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=Y.lFrame=GE();return r.currentTNode=e,r.lView=t,!0}function Zf(t){let e=GE(),n=t[J];Y.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function GE(){let t=Y.lFrame,e=t===null?null:t.child;return e===null?KE(t):e}function KE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function QE(){let t=Y.lFrame;return Y.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var YE=QE;function Jf(){let t=QE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function CN(t){return(Y.lFrame.contextLView=lN(t,Y.lFrame.contextLView))[pt]}function Cn(){return Y.lFrame.selectedIndex}function jr(t){Y.lFrame.selectedIndex=t}function cu(){let t=Y.lFrame;return FE(t.tView,t.selectedIndex)}function SN(){return Y.lFrame.currentNamespace}var ZE=!0;function uu(){return ZE}function lu(t){ZE=t}function AN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=ME(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Xf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Tc(t,e,n){JE(t,e,3,n)}function Dc(t,e,n,r){(t[H]&3)===n&&JE(t,e,n,r)}function _h(t,e){let n=t[H];(n&3)===e&&(n&=16383,n+=1,t[H]=n)}function JE(t,e,n,r){let i=r!==void 0?t[Ai]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Ai]+=65536),(a<o||o==-1)&&(RN(t,n,e,u),t[Ai]=(t[Ai]&4294901760)+u+2),u++}function DI(t,e){he(4,t,e);let n=ie(null);try{e.call(t)}finally{ie(n),he(5,t,e)}}function RN(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[H]>>14<t[Ai]>>16&&(t[H]&3)===e&&(t[H]+=16384,DI(a,o)):DI(a,o)}var Mi=-1,Br=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function NN(t){return(t.flags&8)!==0}function PN(t){return(t.flags&16)!==0}function MN(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];kN(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function XE(t){return t===3||t===4||t===6}function kN(t){return t.charCodeAt(0)===64}function Fi(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?bI(t,n,i,null,e[++r]):bI(t,n,i,null,null))}}return t}function bI(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function ew(t){return t!==Mi}function Vc(t){return t&32767}function xN(t){return t>>16}function jc(t,e){let n=xN(t),r=e;for(;n>0;)r=r[Ui],n--;return r}var Uh=!0;function Bc(t){let e=Uh;return Uh=t,e}var ON=256,tw=ON-1,nw=5,FN=0,Qt={};function LN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(us)&&(r=n[us]),r==null&&(r=n[us]=FN++);let i=r&tw,o=1<<i;e.data[t+(i>>nw)]|=o}function Uc(t,e){let n=rw(t,e);if(n!==-1)return n;let r=e[J];r.firstCreatePass&&(t.injectorIndex=e.length,Ih(r.data,t),Ih(e,null),Ih(r.blueprint,null));let i=ep(t,e),o=t.injectorIndex;if(ew(i)){let s=Vc(i),a=jc(i,e),u=a[J].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Ih(t,e){t.push(0,0,0,0,0,0,0,0,e)}function rw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ep(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=cw(i),r===null)return Mi;if(n++,i=i[Ui],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Mi}function $h(t,e,n){LN(t,e,n)}function VN(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(XE(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function iw(t,e,n){if(n&ne.Optional||t!==void 0)return t;Vf(e,"NodeInjector")}function ow(t,e,n,r){if(n&ne.Optional&&r===void 0&&(r=null),(n&(ne.Self|ne.Host))===0){let i=t[Or],o=dt(void 0);try{return i?i.get(e,r,n&ne.Optional):yE(e,r,n&ne.Optional)}finally{dt(o)}}return iw(r,e,n)}function sw(t,e,n,r=ne.Default,i){if(t!==null){if(e[H]&2048&&!(r&ne.Self)){let s=$N(t,e,n,r,Qt);if(s!==Qt)return s}let o=aw(t,e,n,r,Qt);if(o!==Qt)return o}return ow(e,n,r,i)}function aw(t,e,n,r,i){let o=BN(n);if(typeof o=="function"){if(!WE(e,t,r))return r&ne.Host?iw(i,n,r):ow(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ne.Optional))Vf(n);else return s}finally{YE()}}else if(typeof o=="number"){let s=null,a=rw(t,e),u=Mi,l=r&ne.Host?e[Rt][gt]:null;for((a===-1||r&ne.SkipSelf)&&(u=a===-1?ep(t,e):e[a+8],u===Mi||!SI(r,!1)?a=-1:(s=e[J],a=Vc(u),e=jc(u,e)));a!==-1;){let h=e[J];if(CI(o,a,h.data)){let p=jN(a,e,n,s,r,l);if(p!==Qt)return p}u=e[a+8],u!==Mi&&SI(r,e[J].data[a+8]===l)&&CI(o,a,e)?(s=h,a=Vc(u),e=jc(u,e)):a=-1}}return i}function jN(t,e,n,r,i,o){let s=e[J],a=s.data[t+8],u=r==null?$i(a)&&Uh:r!=s&&(a.type&3)!==0,l=i&ne.Host&&o===a,h=bc(a,s,n,u,l);return h!==null?fs(e,s,h,a,i):Qt}function bc(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let T=s[y];if(y<u&&n===T||y>=u&&T.type===n)return y}if(i){let y=s[u];if(y&&Zt(y)&&y.type===n)return u}return null}function fs(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof Br){let a=o;a.resolving&&gE(AR(s[n]));let u=Bc(a.canSeeViewProviders);a.resolving=!0;let l,h=a.injectImpl?dt(a.injectImpl):null,p=WE(t,r,ne.Default);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&AN(n,s[n],e)}finally{h!==null&&dt(h),Bc(u),a.resolving=!1,YE()}}return o}function BN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(us)?t[us]:void 0;return typeof e=="number"?e>=0?e&tw:UN:e}function CI(t,e,n){let r=1<<t;return!!(n[e+(t>>nw)]&r)}function SI(t,e){return!(t&ne.Self)&&!(t&ne.Host&&e)}var Mr=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return sw(this._tNode,this._lView,e,eu(r),n)}};function UN(){return new Mr(it(),X())}function Dz(t){return vs(()=>{let e=t.prototype.constructor,n=e[Ac]||Hh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Ac]||Hh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Hh(t){return lE(t)?()=>{let e=Hh(nt(t));return e&&e()}:kr(t)}function $N(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[H]&2048&&!Lc(s);){let a=aw(o,s,n,r|ne.Self,Qt);if(a!==Qt)return a;let u=o.parent;if(!u){let l=s[RE];if(l){let h=l.get(n,Qt,r);if(h!==Qt)return h}u=cw(s),s=s[Ui]}o=u}return i}function cw(t){let e=t[J],n=e.type;return n===2?e.declTNode:n===1?t[gt]:null}function uw(t){return VN(it(),t)}function AI(t,e=null,n=null,r){let i=lw(t,e,n,r);return i.resolveInjectorInitializers(),i}function lw(t,e=null,n=null,r,i=new Set){let o=[n||ht,zR(t)];return r=r||(typeof t=="object"?void 0:ft(t)),new ls(o,e||tu(),r||null,i)}var Ke=class t{static THROW_IF_NOT_FOUND=Pr;static NULL=new kc;static create(e,n){if(Array.isArray(e))return AI({name:""},n,e,"");{let r=e.name??"";return AI({name:r},e.parent,e.providers,r)}}static \u0275prov=de({token:t,providedIn:"any",factory:()=>Ue(IE)});static __NG_ELEMENT_ID__=-1};var RI=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>uw(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},HN=new Q("");HN.__NG_ELEMENT_ID__=t=>{let e=it();if(e===null)throw new Z(204,!1);if(e.type&2)return e.value;if(t&ne.Optional)return null;throw new Z(204,!1)};var dw=!1,du=(()=>{class t{static __NG_ELEMENT_ID__=qN;static __NG_ENV_ID__=n=>n}return t})(),qh=class extends du{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return Hi(n)?(e(),()=>{}):(BE(n,e),()=>dN(n,e))}};function qN(){return new qh(X())}var Ur=class{},tp=new Q("",{providedIn:"root",factory:()=>!1});var hw=new Q(""),fw=new Q(""),Es=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ns(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=de({token:t,providedIn:"root",factory:()=>new t})}return t})(),hu=(()=>{class t{internalPendingTasks=V(Es);scheduler=V(Ur);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return _(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=de({token:t,providedIn:"root",factory:()=>new t})}return t})(),zh=class extends St{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,AE()&&(this.destroyRef=V(du,{optional:!0})??void 0,this.pendingTasks=V(Es,{optional:!0})??void 0)}emit(e){let n=ie(null);try{super.next(e)}finally{ie(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ne&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Jn=zh;function $c(...t){}function pw(t){let e,n;function r(){t=$c;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function NI(t){return queueMicrotask(()=>t()),()=>{t=$c}}var np="isAngularZone",Hc=np+"_ID",zN=0,Ie=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Jn(!1);onMicrotaskEmpty=new Jn(!1);onStable=new Jn(!1);onError=new Jn(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=dw}=e;if(typeof Zone>"u")throw new Z(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,KN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(np)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Z(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Z(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,WN,$c,$c);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},WN={};function rp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function GN(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){pw(()=>{t.callbackScheduled=!1,Wh(t),t.isCheckStableRunning=!0,rp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Wh(t)}function KN(t){let e=()=>{GN(t)},n=zN++;t._inner=t._inner.fork({name:"angular",properties:{[np]:!0,[Hc]:n,[Hc+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(QN(u))return r.invokeTask(o,s,a,u);try{return PI(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),MI(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return PI(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!YN(u)&&e(),MI(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Wh(t),rp(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Wh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function PI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function MI(t){t._nesting--,rp(t)}var Gh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Jn;onMicrotaskEmpty=new Jn;onStable=new Jn;onError=new Jn;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function QN(t){return gw(t,"__ignore_ng_zone__")}function YN(t){return gw(t,"__scheduler_tick__")}function gw(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var $r=class{_console=console;handleError(e){this._console.error("ERROR",e)}},ZN=new Q("",{providedIn:"root",factory:()=>{let t=V(Ie),e=V($r);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function kI(t,e){return aE(t,e)}function JN(t){return aE(sE,t)}var bz=(kI.required=JN,kI);function XN(){return qi(it(),X())}function qi(t,e){return new Gr(tn(t,e))}var Gr=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=XN}return t})();function eP(t){return t instanceof Gr?t.nativeElement:t}function tP(t){return typeof t=="function"&&t[Ct]!==void 0}function nP(t,e){let n=Kd(t,e?.equal),r=n[Ct];return n.set=i=>Xo(r,i),n.update=i=>Qd(r,i),n.asReadonly=rP.bind(n),n}function rP(){let t=this[Ct];if(t.readonlyFn===void 0){let e=()=>this();e[Ct]=t,t.readonlyFn=e}return t.readonlyFn}function mw(t){return tP(t)&&typeof t.set=="function"}function iP(){return this._results[Symbol.iterator]()}var Kh=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new St}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=jR(e);(this._changesDetected=!VR(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=iP};function yw(t){return(t.flags&128)===128}var vw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(vw||{}),_w=new Map,oP=0;function sP(){return oP++}function aP(t){_w.set(t[ru],t)}function Qh(t){_w.delete(t[ru])}var xI="__ngContext__";function zi(t,e){er(e)?(t[xI]=e[ru],aP(e)):t[xI]=e}function Iw(t){return ww(t[hs])}function Ew(t){return ww(t[Lt])}function ww(t){for(;t!==null&&!bn(t);)t=t[Lt];return t}var Yh;function Cz(t){Yh=t}function cP(){if(Yh!==void 0)return Yh;if(typeof document<"u")return document;throw new Z(210,!1)}var uP=new Q("",{providedIn:"root",factory:()=>lP}),lP="ng",dP=new Q(""),ip=new Q("",{providedIn:"platform",factory:()=>"unknown"});var Sz=new Q(""),Az=new Q("",{providedIn:"root",factory:()=>cP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var hP="h",fP="b";var Tw=!1,pP=new Q("",{providedIn:"root",factory:()=>Tw});var op=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(op||{}),fu=new Q(""),OI=new Set;function ws(t){OI.has(t)||(OI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Dw=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=gP}return t})();function gP(){return new Dw(X(),it())}var Ri=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ri||{}),bw=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=de({token:t,providedIn:"root",factory:()=>new t})}return t})(),mP=[Ri.EarlyRead,Ri.Write,Ri.MixedReadWrite,Ri.Read],yP=(()=>{class t{ngZone=V(Ie);scheduler=V(Ur);errorHandler=V($r,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){V(fu,{optional:!0})}execute(){let n=this.sequences.size>0;n&&he(16),this.executing=!0;for(let r of mP)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&he(17)}register(n){let{view:r}=n;r!==void 0?((r[Pi]??=[]).push(n),Is(r),r[H]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(op.AFTER_NEXT_RENDER,n):n()}static \u0275prov=de({token:t,providedIn:"root",factory:()=>new t})}return t})(),Zh=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Pi];e&&(this.view[Pi]=e.filter(n=>n!==this))}};function vP(t,e){!e?.injector&&nu(vP);let n=e?.injector??V(Ke);return ws("NgAfterRender"),Cw(t,n,e,!1)}function _P(t,e){!e?.injector&&nu(_P);let n=e?.injector??V(Ke);return ws("NgAfterNextRender"),Cw(t,n,e,!0)}function IP(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function Cw(t,e,n,r){let i=e.get(bw);i.impl??=e.get(yP);let o=e.get(fu,null,{optional:!0}),s=n?.phase??Ri.MixedReadWrite,a=n?.manualCleanup!==!0?e.get(du):null,u=e.get(Dw,null,{optional:!0}),l=new Zh(i.impl,IP(t,s),u?.view,r,a,o?.snapshot(null));return i.impl.register(l),l}var EP=()=>null;function Sw(t,e,n=!1){return EP(t,e,n)}function Aw(t,e){let n=t.contentQueries;if(n!==null){let r=ie(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Yf(o),a.contentQueries(2,e[s],s)}}}finally{ie(r)}}}function Jh(t,e,n){Yf(0);let r=ie(null);try{e(t,n)}finally{ie(r)}}function sp(t,e,n){if($f(e)){let r=ie(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{ie(r)}}}var ps=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ps||{}),vc;function wP(){if(vc===void 0&&(vc=null,Zn.trustedTypes))try{vc=Zn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return vc}function pu(t){return wP()?.createHTML(t)||t}var _c;function TP(){if(_c===void 0&&(_c=null,Zn.trustedTypes))try{_c=Zn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return _c}function FI(t){return TP()?.createScriptURL(t)||t}var Tn=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${iE})`}},Xh=class extends Tn{getTypeName(){return"HTML"}},ef=class extends Tn{getTypeName(){return"Style"}},tf=class extends Tn{getTypeName(){return"Script"}},nf=class extends Tn{getTypeName(){return"URL"}},rf=class extends Tn{getTypeName(){return"ResourceURL"}};function Ts(t){return t instanceof Tn?t.changingThisBreaksApplicationSecurity:t}function Rw(t,e){let n=DP(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${iE})`)}return n===e}function DP(t){return t instanceof Tn&&t.getTypeName()||null}function Rz(t){return new Xh(t)}function Nz(t){return new ef(t)}function Pz(t){return new tf(t)}function Mz(t){return new nf(t)}function kz(t){return new rf(t)}function bP(t){let e=new sf(t);return CP()?new of(e):e}var of=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(pu(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},sf=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=pu(e),n}};function CP(){try{return!!new window.DOMParser().parseFromString(pu(""),"text/html")}catch{return!1}}var SP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Nw(t){return t=String(t),t.match(SP)?t:"unsafe:"+t}function Sn(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Ds(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var Pw=Sn("area,br,col,hr,img,wbr"),Mw=Sn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),kw=Sn("rp,rt"),AP=Ds(kw,Mw),RP=Ds(Mw,Sn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),NP=Ds(kw,Sn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),LI=Ds(Pw,RP,NP,AP),xw=Sn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),PP=Sn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),MP=Sn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),kP=Ds(xw,PP,MP),xP=Sn("script,style,template"),af=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=LP(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=FP(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=VI(e).toLowerCase();if(!LI.hasOwnProperty(n))return this.sanitizedSomething=!0,!xP.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!kP.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=o.value;xw[a]&&(u=Nw(u)),this.buf.push(" ",s,'="',jI(u),'"')}return this.buf.push(">"),!0}endElement(e){let n=VI(e).toLowerCase();LI.hasOwnProperty(n)&&!Pw.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(jI(e))}};function OP(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function FP(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw Ow(e);return e}function LP(t){let e=t.firstChild;if(e&&OP(t,e))throw Ow(e);return e}function VI(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function Ow(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var VP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jP=/([^\#-~ |!])/g;function jI(t){return t.replace(/&/g,"&amp;").replace(VP,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(jP,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Ic;function xz(t,e){let n=null;try{Ic=Ic||bP(t);let r=e?String(e):"";n=Ic.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Ic.getInertBodyElement(r)}while(r!==o);let a=new af().sanitizeChildren(BI(n)||n);return pu(a)}finally{if(n){let r=BI(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function BI(t){return"content"in t&&BP(t)?t.content:null}function BP(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var ap=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ap||{});function UP(t){let e=Fw();return e?e.sanitize(ap.URL,t)||"":Rw(t,"URL")?Ts(t):Nw(In(t))}function $P(t){let e=Fw();if(e)return FI(e.sanitize(ap.RESOURCE_URL,t)||"");if(Rw(t,"ResourceURL"))return FI(Ts(t));throw new Z(904,!1)}function HP(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?$P:UP}function Oz(t,e,n){return HP(e,n)(t)}function Fw(){let t=X();return t&&t[En].sanitizer}var qP=/^>|^->|<!--|-->|--!>|<!-$/g,zP=/(<|>)/g,WP="\u200B$1\u200B";function GP(t){return t.replace(qP,e=>e.replace(zP,WP))}function Lw(t){return t instanceof Function?t():t}function KP(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var Vw="ng-template";function QP(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&KP(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(cp(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function cp(t){return t.type===4&&t.value!==Vw}function YP(t,e,n){let r=t.type===4&&!n?Vw:t.value;return e===r}function ZP(t,e,n){let r=4,i=t.attrs,o=i!==null?eM(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Ot(r)&&!Ot(u))return!1;if(s&&Ot(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!YP(t,u,n)||u===""&&e.length===1){if(Ot(r))return!1;s=!0}}else if(r&8){if(i===null||!QP(t,i,u,n)){if(Ot(r))return!1;s=!0}}else{let l=e[++a],h=JP(u,i,cp(t),n);if(h===-1){if(Ot(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Ot(r))return!1;s=!0}}}}return Ot(r)||s}function Ot(t){return(t&1)===0}function JP(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return tM(e,t)}function jw(t,e,n=!1){for(let r=0;r<e.length;r++)if(ZP(t,e[r],n))return!0;return!1}function XP(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function eM(t){for(let e=0;e<t.length;e++){let n=t[e];if(XE(n))return e}return t.length}function tM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function nM(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function UI(t,e){return t?":not("+e.trim()+")":e}function rM(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Ot(s)&&(e+=UI(o,i),i=""),r=s,o=o||!Ot(r);n++}return i!==""&&(e+=UI(o,i)),e}function iM(t){return t.map(rM).join(",")}function oM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Ot(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var ot={};function sM(t,e){return t.createText(e)}function aM(t,e,n){t.setValue(e,n)}function cM(t,e){return t.createComment(GP(e))}function Bw(t,e,n){return t.createElement(e,n)}function qc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Uw(t,e,n){t.appendChild(e,n)}function $I(t,e,n,r,i){r!==null?qc(t,e,n,r,i):Uw(t,e,n)}function uM(t,e,n){t.removeChild(null,e,n)}function lM(t,e,n){t.setAttribute(e,"style",n)}function dM(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function $w(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&MN(t,e,r),i!==null&&dM(t,e,i),o!==null&&lM(t,e,o)}function up(t,e,n,r,i,o,s,a,u,l,h){let p=rt+r,m=p+i,y=hM(p,m),T=typeof l=="function"?l():l;return y[J]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:T,incompleteFirstPass:!1,ssrId:h}}function hM(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ot);return n}function fM(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=up(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function lp(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Dn]=i,p[H]=r|4|128|8|64|1024,(l!==null||t&&t[H]&2048)&&(p[H]|=2048),VE(p),p[Ge]=p[Ui]=t,p[pt]=n,p[En]=s||t&&t[En],p[Ee]=a||t&&t[Ee],p[Or]=u||t&&t[Or]||null,p[gt]=o,p[ru]=sP(),p[ds]=h,p[RE]=l,p[Rt]=e.type==2?t[Rt]:p,p}function pM(t,e,n){let r=tn(e,t),i=fM(n),o=t[En].rendererFactory,s=dp(t,lp(t,i,null,Hw(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function Hw(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function qw(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function dp(t,e){return t[hs]?t[EI][Lt]=e:t[hs]=e,t[EI]=e,e}function Fz(t=1){zw(Re(),X(),Cn()+t,!1)}function zw(t,e,n,r){if(!r)if((e[H]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Tc(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Dc(e,o,0,n)}jr(n)}var gu=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(gu||{});function cf(t,e,n,r){let i=ie(null);try{let[o,s,a]=t.inputs[n],u=null;(s&gu.SignalBased)!==0&&(u=e[o][Ct]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):PE(e,u,o,r)}finally{ie(i)}}function Ww(t,e,n,r,i){let o=Cn(),s=r&2;try{jr(-1),s&&e.length>rt&&zw(t,e,rt,!1),he(s?2:0,i),n(r,i)}finally{jr(o),he(s?3:1,i)}}function mu(t,e,n){IM(t,e,n),(n.flags&64)===64&&EM(t,e,n)}function hp(t,e,n=tn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function gM(t,e,n,r){let o=r.get(pP,Tw)||n===ps.ShadowDom,s=t.selectRootElement(e,o);return mM(s),s}function mM(t){yM(t)}var yM=()=>null;function vM(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function fp(t,e,n,r,i,o,s,a){if(!a&&gp(e,t,n,r,i)){$i(e)&&_M(n,e.index);return}if(e.type&3){let u=tn(e,n);r=vM(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function _M(t,e){let n=Xt(e,t);n[H]&16||(n[H]|=64)}function IM(t,e,n){let r=n.directiveStart,i=n.directiveEnd;$i(n)&&pM(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Uc(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=fs(e,t,s,n);if(zi(u,e),o!==null&&bM(e,s-r,u,a,n,o),Zt(a)){let l=Xt(n.index,e);l[pt]=fs(e,t,s,n)}}}function EM(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=TN();try{jr(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Bh(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&wM(u,l)}}finally{jr(-1),Bh(s)}}function wM(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function pp(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];jw(e,o.selectors,!1)&&(r??=[],Zt(o)?r.unshift(o):r.push(o))}return r}function TM(t,e,n,r,i,o){let s=tn(t,e);DM(e[Ee],s,o,t.value,n,r,i)}function DM(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?In(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function bM(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];cf(r,n,u,l)}}function CM(t,e){let n=t[Or],r=n?n.get($r,null):null;r&&r.handleError(e)}function gp(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];cf(p,n[l],h,i),a=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];cf(h,l,r,i),a=!0}return a}function SM(t,e){let n=Xt(e,t),r=n[J];AM(r,n);let i=n[Dn];i!==null&&n[ds]===null&&(n[ds]=Sw(i,n[Or])),he(18),mp(r,n,n[pt]),he(19,n[pt])}function AM(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function mp(t,e,n){Zf(e);try{let r=t.viewQuery;r!==null&&Jh(1,r,n);let i=t.template;i!==null&&Ww(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[wn]?.finishViewCreation(t),t.staticContentQueries&&Aw(t,e),t.staticViewQueries&&Jh(2,t.viewQuery,n);let o=t.components;o!==null&&RM(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[H]&=-5,Jf()}}function RM(t,e){for(let n=0;n<e.length;n++)SM(t,e[n])}function Gw(t,e,n,r){let i=ie(null);try{let o=e.tView,a=t[H]&4096?4096:16,u=lp(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Fr]=l;let h=t[wn];return h!==null&&(u[wn]=h.createEmbeddedView(o)),mp(o,u,n),u}finally{ie(i)}}function uf(t,e){return!e||e.firstChild===null||yw(t)}var NM;function yp(t,e){return NM(t,e)}var zc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(zc||{});function vp(t){return(t.flags&32)===32}function Ni(t,e,n,r,i){if(r!=null){let o,s=!1;bn(r)?o=r:er(r)&&(s=!0,r=r[Dn]);let a=Jt(r);t===0&&n!==null?i==null?Uw(e,n,a):qc(e,n,a,i||null,!0):t===1&&n!==null?qc(e,n,a,i||null,!0):t===2?uM(e,a,s):t===3&&e.destroyNode(a),o!=null&&BM(e,t,o,n,i)}}function PM(t,e){Kw(t,e),e[Dn]=null,e[gt]=null}function MM(t,e,n,r,i,o){r[Dn]=i,r[gt]=e,vu(t,r,n,1,i,o)}function Kw(t,e){e[En].changeDetectionScheduler?.notify(9),vu(t,e,e[Ee],2,null,null)}function kM(t){let e=t[hs];if(!e)return Eh(t[J],t);for(;e;){let n=null;if(er(e))n=e[hs];else{let r=e[It];r&&(n=r)}if(!n){for(;e&&!e[Lt]&&e!==t;)er(e)&&Eh(e[J],e),e=e[Ge];e===null&&(e=t),er(e)&&Eh(e[J],e),n=e&&e[Lt]}e=n}}function _p(t,e){let n=t[xi],r=n.indexOf(e);n.splice(r,1)}function Qw(t,e){if(Hi(e))return;let n=e[Ee];n.destroyNode&&vu(t,e,n,3,null,null),kM(e)}function Eh(t,e){if(Hi(e))return;let n=ie(null);try{e[H]&=-129,e[H]|=256,e[At]&&zd(e[At]),OM(t,e),xM(t,e),e[J].type===1&&e[Ee].destroy();let r=e[Fr];if(r!==null&&bn(e[Ge])){r!==e[Ge]&&_p(r,e);let i=e[wn];i!==null&&i.detachView(t)}Qh(e)}finally{ie(n)}}function xM(t,e){let n=t.cleanup,r=e[xc];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[xc]=null);let i=e[Xn];if(i!==null){e[Xn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Oc];if(o!==null){e[Oc]=null;for(let s of o)s.destroy()}}function OM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Br)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];he(4,a,u);try{u.call(a)}finally{he(5,a,u)}}else{he(4,i,o);try{o.call(i)}finally{he(5,i,o)}}}}}function Yw(t,e,n){return FM(t,e.parent,n)}function FM(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Dn];if($i(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===ps.None||i===ps.Emulated)return null}return tn(r,n)}function Zw(t,e,n){return VM(t,e,n)}function LM(t,e,n){return t.type&40?tn(t,n):null}var VM=LM,HI;function yu(t,e,n,r){let i=Yw(t,r,e),o=e[Ee],s=r.parent||e[gt],a=Zw(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)$I(o,i,n[u],a,!1);else $I(o,i,n,a,!1);HI!==void 0&&HI(o,r,e,n,i)}function cs(t,e){if(e!==null){let n=e.type;if(n&3)return tn(e,t);if(n&4)return lf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return cs(t,r);{let i=t[e.index];return bn(i)?lf(-1,i):Jt(i)}}else{if(n&128)return cs(t,e.next);if(n&32)return yp(e,t)()||Jt(t[e.index]);{let r=Jw(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Vr(t[Rt]);return cs(i,r)}else return cs(t,e.next)}}}return null}function Jw(t,e){if(e!==null){let r=t[Rt][gt],i=e.projection;return r.projection[i]}return null}function lf(t,e){let n=It+t+1;if(n<e.length){let r=e[n],i=r[J].firstChild;if(i!==null)return cs(r,i)}return e[Lr]}function Ip(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&zi(Jt(a),r),n.flags|=2),!vp(n))if(u&8)Ip(t,e,n.child,r,i,o,!1),Ni(e,t,i,a,o);else if(u&32){let l=yp(n,r),h;for(;h=l();)Ni(e,t,i,h,o);Ni(e,t,i,a,o)}else u&16?Xw(t,e,r,n,i,o):Ni(e,t,i,a,o);n=s?n.projectionNext:n.next}}function vu(t,e,n,r,i,o){Ip(n,r,t.firstChild,e,i,o,!1)}function jM(t,e,n){let r=e[Ee],i=Yw(t,n,e),o=n.parent||e[gt],s=Zw(o,n,e);Xw(r,0,e,n,i,s)}function Xw(t,e,n,r,i,o){let s=n[Rt],u=s[gt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Ni(e,t,i,h,o)}else{let l=u,h=s[Ge];yw(r)&&(l.flags|=128),Ip(t,e,l,h,i,o,!0)}}function BM(t,e,n,r,i){let o=n[Lr],s=Jt(n);o!==s&&Ni(e,t,r,o,i);for(let a=It;a<n.length;a++){let u=n[a];vu(u[J],u,t,e,r,o)}}function UM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:zc.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=zc.Important),t.setStyle(n,r,i,o))}}function Wc(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Jt(o)),bn(o)&&$M(o,r);let s=n.type;if(s&8)Wc(t,e,n.child,r);else if(s&32){let a=yp(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=Jw(e,n);if(Array.isArray(a))r.push(...a);else{let u=Vr(e[Rt]);Wc(u[J],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function $M(t,e){for(let n=It;n<t.length;n++){let r=t[n],i=r[J].firstChild;i!==null&&Wc(r[J],r,i,e)}t[Lr]!==t[Dn]&&e.push(t[Lr])}function eT(t){if(t[Pi]!==null){for(let e of t[Pi])e.impl.addSequence(e);t[Pi].length=0}}var tT=[];function HM(t){return t[At]??qM(t)}function qM(t){let e=tT.pop()??Object.create(WM);return e.lView=t,e}function zM(t){t.lView[At]!==t&&(t.lView=null,tT.push(t))}var WM=ut(ct({},Zo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Is(t.lView)},consumerOnSignalRead(){this.lView[At]=this}});function GM(t){let e=t[At]??Object.create(KM);return e.lView=t,e}var KM=ut(ct({},Zo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Vr(t.lView);for(;e&&!nT(e[J]);)e=Vr(e);e&&jE(e)},consumerOnSignalRead(){this.lView[At]=this}});function nT(t){return t.type!==2}function rT(t){if(t[Oc]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Oc])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[H]&8192)}}var QM=100;function iT(t,e=!0,n=0){let i=t[En].rendererFactory,o=!1;o||i.begin?.();try{YM(t,n)}catch(s){throw e&&CM(t,s),s}finally{o||i.end?.()}}function YM(t,e){let n=HE();try{TI(!0),df(t,e);let r=0;for(;ou(t);){if(r===QM)throw new Z(103,!1);r++,df(t,1)}}finally{TI(n)}}function ZM(t,e,n,r){if(Hi(e))return;let i=e[H],o=!1,s=!1;Zf(e);let a=!0,u=null,l=null;o||(nT(t)?(l=HM(e),u=Ua(l)):jd()===null?(a=!1,l=GM(e),u=Ua(l)):e[At]&&(zd(e[At]),e[At]=null));try{VE(e),IN(t.bindingStartIndex),n!==null&&Ww(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&Tc(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Dc(e,y,0,null),_h(e,0)}if(s||JM(e),rT(e),oT(e,0),t.contentQueries!==null&&Aw(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&Tc(e,y)}else{let y=t.contentHooks;y!==null&&Dc(e,y,1),_h(e,1)}ek(t,e);let p=t.components;p!==null&&aT(e,p,0);let m=t.viewQuery;if(m!==null&&Jh(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&Tc(e,y)}else{let y=t.viewHooks;y!==null&&Dc(e,y,2),_h(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[vh]){for(let y of e[vh])y();e[vh]=null}o||(eT(e),e[H]&=-73)}catch(h){throw o||Is(e),h}finally{l!==null&&(Hd(l,u),a&&zM(l)),Jf()}}function oT(t,e){for(let n=Iw(t);n!==null;n=Ew(n))for(let r=It;r<n.length;r++){let i=n[r];sT(i,e)}}function JM(t){for(let e=Iw(t);e!==null;e=Ew(e)){if(!(e[H]&2))continue;let n=e[xi];for(let r=0;r<n.length;r++){let i=n[r];jE(i)}}}function XM(t,e,n){he(18);let r=Xt(e,t);sT(r,n),he(19,r[pt])}function sT(t,e){Hf(t)&&df(t,e)}function df(t,e){let r=t[J],i=t[H],o=t[At],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&qd(o)),s||=!1,o&&(o.dirty=!1),t[H]&=-9217,s)ZM(r,t,r.template,t[pt]);else if(i&8192){rT(t),oT(t,1);let a=r.components;a!==null&&aT(t,a,1),eT(t)}}function aT(t,e,n){for(let r=0;r<e.length;r++)XM(t,e[r],n)}function ek(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)jr(~i);else{let o=i,s=n[++r],a=n[++r];wN(s,o);let u=e[o];he(24,u),a(2,u),he(25,u)}}}finally{jr(-1)}}function Ep(t,e){let n=HE()?64:1088;for(t[En].changeDetectionScheduler?.notify(e);t;){t[H]|=n;let r=Vr(t);if(Lc(t)&&!r)return t;t=r}return null}function cT(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function uT(t,e,n,r=!0){let i=e[J];if(tk(i,e,t,n),r){let s=lf(n,t),a=e[Ee],u=a.parentNode(t[Lr]);u!==null&&MM(i,t[gt],a,e,u,s)}let o=e[ds];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function hf(t,e){if(t.length<=It)return;let n=It+e,r=t[n];if(r){let i=r[Fr];i!==null&&i!==t&&_p(i,r),e>0&&(t[n-1][Lt]=r[Lt]);let o=Pc(t,It+e);PM(r[J],r);let s=o[wn];s!==null&&s.detachView(o[J]),r[Ge]=null,r[Lt]=null,r[H]&=-129}return r}function tk(t,e,n,r){let i=It+r,o=n.length;r>0&&(n[i-1][Lt]=e),r<o-It?(e[Lt]=n[i],_E(n,It+r,e)):(n.push(e),e[Lt]=null),e[Ge]=n;let s=e[Fr];s!==null&&n!==s&&lT(s,e);let a=e[wn];a!==null&&a.insertView(t),Vh(e),e[H]|=128}function lT(t,e){let n=t[xi],r=e[Ge];if(er(r))t[H]|=2;else{let i=r[Ge][Rt];e[Rt]!==i&&(t[H]|=2)}n===null?t[xi]=[e]:n.push(e)}var gs=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[J];return Wc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[pt]}set context(e){this._lView[pt]=e}get destroyed(){return Hi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ge];if(bn(e)){let n=e[Fc],r=n?n.indexOf(this):-1;r>-1&&(hf(e,r),Pc(n,r))}this._attachedToViewContainer=!1}Qw(this._lView[J],this._lView)}onDestroy(e){BE(this._lView,e)}markForCheck(){Ep(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[H]&=-129}reattach(){Vh(this._lView),this._lView[H]|=128}detectChanges(){this._lView[H]|=1024,iT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Lc(this._lView),n=this._lView[Fr];n!==null&&!e&&_p(n,this._lView),Kw(this._lView[J],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Z(902,!1);this._appRef=e;let n=Lc(this._lView),r=this._lView[Fr];r!==null&&!n&&lT(r,this._lView),Vh(this._lView)}};var Hr=(()=>{class t{static __NG_ELEMENT_ID__=ik}return t})(),nk=Hr,rk=class extends nk{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Gw(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new gs(i)}};function ik(){return _u(it(),X())}function _u(t,e){return t.type&4?new rk(e,t,qi(t,e)):null}function bs(t,e,n,r,i){let o=t.data[e];if(o===null)o=ok(t,e,n,r,i),EN()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=vN();o.injectorIndex=s===null?-1:s.injectorIndex}return Wr(o,!0),o}function ok(t,e,n,r,i){let o=$E(),s=Gf(),a=s?o:o&&o.parent,u=t.data[e]=ak(t,a,n,e,r,i);return sk(t,u,o,s),u}function sk(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function ak(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return UE()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var jz=new RegExp(`^(\\d+)*(${fP}|${hP})*(.*)`);var ck=()=>null;function ff(t,e){return ck(t,e)}var uk=class{},dT=class{},pf=class{resolveComponentFactory(e){throw Error(`No component factory found for ${ft(e)}.`)}},Iu=class{static NULL=new pf},Gc=class{},wp=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>lk()}return t})();function lk(){let t=X(),e=it(),n=Xt(e.index,t);return(er(n)?n:t)[Ee]}var dk=(()=>{class t{static \u0275prov=de({token:t,providedIn:"root",factory:()=>null})}return t})();var wh={},gf=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=eu(r);let i=this.injector.get(e,wh,r);return i!==wh||n===wh?i:this.parentInjector.get(e,n,r)}};function mf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Nh(i,a);else if(o==2){let u=a,l=e[++s];r=Nh(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Qe(t,e=ne.Default){let n=X();if(n===null)return Ue(t,e);let r=it();return sw(r,n,nt(t),e)}function Hz(){let t="invalid";throw new Error(t)}function Tp(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a,u=null,l=null,h=fk(s);h===null?a=s:[a,u,l]=h,mk(t,e,n,a,o,u,l)}o!==null&&r!==null&&hk(n,r,o)}function hk(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new Z(-301,!1);r.push(e[i],o)}}function fk(t){let e=null,n=!1;for(let s=0;s<t.length;s++){let a=t[s];if(s===0&&Zt(a)&&(e=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,pk(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,o]):null}function pk(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function gk(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function mk(t,e,n,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&Zt(y)&&(u=!0,gk(t,n,m)),$h(Uc(n,e),t,y.type)}wk(n,t.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=qw(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(n.mergedAttrs=Fi(n.mergedAttrs,y.hostAttrs),vk(t,n,e,p,y),Ek(p,y,i),s!==null&&s.has(y)){let[R,N]=s.get(y);n.directiveToIndex.set(y.type,[p,R+n.directiveStart,N+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let T=y.type.prototype;!l&&(T.ngOnChanges||T.ngOnInit||T.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(T.ngOnChanges||T.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}yk(t,n,o)}function yk(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))qI(0,e,i,r),qI(1,e,i,r),WI(e,r,!1);else{let o=n.get(i);zI(0,e,o,r),zI(1,e,o,r),WI(e,r,!0)}}}function qI(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),hT(e,o)}}function zI(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),hT(e,s)}}function hT(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function WI(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||cp(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function vk(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=kr(i.type,!0)),s=new Br(o,Zt(i),Qe);t.blueprint[r]=s,n[r]=s,_k(t,e,r,qw(t,n,i.hostVars,ot),i)}function _k(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;Ik(s)!=a&&s.push(a),s.push(n,r,o)}}function Ik(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Ek(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Zt(e)&&(n[""]=t)}}function wk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function fT(t,e,n,r,i,o,s,a){let u=e.consts,l=Oi(u,s),h=bs(e,t,2,r,l);return o&&Tp(e,n,h,Oi(u,a),i),h.mergedAttrs=Fi(h.mergedAttrs,h.attrs),h.attrs!==null&&mf(h,h.attrs,!1),h.mergedAttrs!==null&&mf(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function pT(t,e){Xf(t,e),$f(e)&&t.queries.elementEnd(e)}var Kc=class extends Iu{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=tr(e);return new qr(n,this.ngModule)}};function Tk(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&gu.SignalBased)!==0};return i&&(o.transform=i),o})}function Dk(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function bk(t,e,n){let r=e instanceof Yt?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new gf(n,r):n}function Ck(t){let e=t.get(Gc,null);if(e===null)throw new Z(407,!1);let n=t.get(dk,null),r=t.get(Ur,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function Sk(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return Bw(e,n,n==="svg"?sN:n==="math"?aN:null)}var qr=class extends dT{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Tk(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Dk(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=iM(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){he(22);let o=ie(null);try{let s=this.componentDef,a=r?["ng-version","19.2.11"]:oM(this.componentDef.selectors[0]),u=up(0,null,null,1,0,null,null,null,null,[a],null),l=bk(s,i||this.ngModule,e),h=Ck(l),p=h.rendererFactory.createRenderer(null,s),m=r?gM(p,r,s.encapsulation,l):Sk(s,p),y=lp(null,u,null,512|Hw(s),null,null,h,p,l,null,Sw(m,l,!0));y[rt]=m,Zf(y);let T=null;try{let R=fT(rt,u,y,"#host",()=>[this.componentDef],!0,0);m&&($w(p,m,R),zi(m,y)),mu(u,y,R),sp(u,R,y),pT(u,R),n!==void 0&&Ak(R,this.ngContentSelectors,n),T=Xt(R.index,y),y[pt]=T[pt],mp(u,y,null)}catch(R){throw T!==null&&Qh(T),Qh(y),R}finally{he(23),Jf()}return new yf(this.componentType,y)}finally{ie(o)}}},yf=class extends uk{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=FE(n[J],rt),this.location=qi(this._tNode,n),this.instance=Xt(this._tNode.index,n)[pt],this.hostView=this.changeDetectorRef=new gs(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=gp(r,i[J],i,e,n);this.previousInputValues.set(e,n);let s=Xt(r.index,i);Ep(s,1)}get injector(){return new Mr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Ak(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Wi=(()=>{class t{static __NG_ELEMENT_ID__=Rk}return t})();function Rk(){let t=it();return mT(t,X())}var Nk=Wi,gT=class extends Nk{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return qi(this._hostTNode,this._hostLView)}get injector(){return new Mr(this._hostTNode,this._hostLView)}get parentInjector(){let e=ep(this._hostTNode,this._hostLView);if(ew(e)){let n=jc(e,this._hostLView),r=Vc(e),i=n[J].data[r+8];return new Mr(i,n)}else return new Mr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=GI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-It}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=ff(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,uf(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!tN(e),a;if(s)a=n;else{let T=n||{};a=T.index,r=T.injector,i=T.projectableNodes,o=T.environmentInjector||T.ngModuleRef}let u=s?e:new qr(tr(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let R=(s?l:this.parentInjector).get(Yt,null);R&&(o=R)}let h=tr(u.componentType??{}),p=ff(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,o);return this.insertImpl(y.hostView,a,uf(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(uN(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Ge],l=new gT(u,u[gt],u[Ge]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return uT(s,i,o,r),e.attachToViewContainerRef(),_E(Th(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=GI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=hf(this._lContainer,n);r&&(Pc(Th(this._lContainer),n),Qw(r[J],r))}detach(e){let n=this._adjustIndex(e,-1),r=hf(this._lContainer,n);return r&&Pc(Th(this._lContainer),n)!=null?new gs(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function GI(t){return t[Fc]}function Th(t){return t[Fc]||(t[Fc]=[])}function mT(t,e){let n,r=e[t.index];return bn(r)?n=r:(n=cT(r,e,null,t),e[t.index]=n,dp(e,n)),Mk(n,e,t,r),new gT(n,t,e)}function Pk(t,e){let n=t[Ee],r=n.createComment(""),i=tn(e,t),o=n.parentNode(i);return qc(n,o,r,n.nextSibling(i),!1),r}var Mk=Ok,kk=()=>!1;function xk(t,e,n){return kk(t,e,n)}function Ok(t,e,n,r){if(t[Lr])return;let i;n.type&8?i=Jt(r):i=Pk(e,n),t[Lr]=i}var vf=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},_f=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Dp(e,n).matches!==null&&this.queries[n].setDirty()}},If=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=Hk(e):this.predicate=e}},Ef=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},wf=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,Fk(n,o)),this.matchTNodeWithReadOption(e,n,bc(n,e,o,!1,!1))}else r===Hr?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,bc(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Gr||i===Wi||i===Hr&&n.type&4)this.addMatch(n.index,-2);else{let o=bc(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function Fk(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function Lk(t,e){return t.type&11?qi(t,e):t.type&4?_u(t,e):null}function Vk(t,e,n,r){return n===-1?Lk(e,t):n===-2?jk(t,e,r):fs(t,t[J],n,e)}function jk(t,e,n){if(n===Gr)return qi(e,t);if(n===Hr)return _u(e,t);if(n===Wi)return mT(e,t)}function yT(t,e,n,r){let i=e[wn].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(Vk(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Tf(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=yT(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=It;p<h.length;p++){let m=h[p];m[Fr]===m[Ge]&&Tf(m[J],m,l,r)}if(h[xi]!==null){let p=h[xi];for(let m=0;m<p.length;m++){let y=p[m];Tf(y[J],y,l,r)}}}}}return r}function Bk(t,e){return t[wn].queries[e].queryList}function Uk(t,e,n){let r=new Kh((n&4)===4);return hN(t,e,r,r.destroy),(e[wn]??=new _f).queries.push(new vf(r))-1}function $k(t,e,n){let r=Re();return r.firstCreatePass&&(qk(r,new If(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),Uk(r,X(),e)}function Hk(t){return t.split(",").map(e=>e.trim())}function qk(t,e,n){t.queries===null&&(t.queries=new Ef),t.queries.track(new wf(e,n))}function Dp(t,e){return t.queries.getByIndex(e)}function zk(t,e){let n=t[J],r=Dp(n,e);return r.crossesNgTemplate?Tf(n,t,e,[]):yT(n,t,r,e)}var Li=class{},Wk=class{};var Df=class extends Li{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Kc(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=wE(e);this._bootstrapComponents=Lw(o.bootstrap),this._r3Injector=lw(e,n,[{provide:Li,useValue:this},{provide:Iu,useValue:this.componentFactoryResolver},...r],ft(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},bf=class extends Wk{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Df(this.moduleType,e,[])}};var Qc=class extends Li{injector;componentFactoryResolver=new Kc(this);instance=null;constructor(e){super();let n=new ls([...e.providers,{provide:Li,useValue:this},{provide:Iu,useValue:this.componentFactoryResolver}],e.parent||tu(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Gk(t,e,n=null){return new Qc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Kk=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=TE(!1,n.type),i=r.length>0?Gk([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=de({token:t,providedIn:"environment",factory:()=>new t(Ue(Yt))})}return t})();function Gz(t){return vs(()=>{let e=_T(t),n=ut(ct({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===vw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Kk).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ps.Emulated,styles:t.styles||ht,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&ws("NgStandalone"),IT(n);let r=t.dependencies;return n.directiveDefs=KI(r,!1),n.pipeDefs=KI(r,!0),n.id=Xk(n),n})}function Qk(t){return tr(t)||HR(t)}function Yk(t){return t!==null}function vT(t){return vs(()=>({type:t.type,bootstrap:t.bootstrap||ht,declarations:t.declarations||ht,imports:t.imports||ht,exports:t.exports||ht,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Zk(t,e){if(t==null)return xr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=gu.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function Jk(t){if(t==null)return xr;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Eu(t){return vs(()=>{let e=_T(t);return IT(e),e})}function bp(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function _T(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||xr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||ht,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Zk(t.inputs,e),outputs:Jk(t.outputs),debugInfo:null}}function IT(t){t.features?.forEach(e=>e(t))}function KI(t,e){if(!t)return null;let n=e?qR:Qk;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Yk)}function Xk(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ex(t){return Object.getPrototypeOf(t.prototype).constructor}function tx(t){let e=ex(t.type),n=!0,r=[t];for(;e;){let i;if(Zt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Z(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Dh(t.inputs),s.declaredInputs=Dh(t.declaredInputs),s.outputs=Dh(t.outputs);let a=i.hostBindings;a&&sx(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&ix(t,u),l&&ox(t,l),nx(t,i),IR(t.outputs,i.outputs),Zt(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===tx&&(n=!1)}}e=Object.getPrototypeOf(e)}rx(r)}function nx(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function rx(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Fi(i.hostAttrs,n=Fi(n,i.hostAttrs))}}function Dh(t){return t===xr?{}:t===ht?[]:t}function ix(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function ox(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function sx(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function ET(t){return cx(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function ax(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function cx(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Cp(t,e,n){return t[e]=n}function ux(t,e){return t[e]}function en(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Sp(t,e,n,r){let i=en(t,e,n);return en(t,e+1,r)||i}function lx(t,e,n,r,i){let o=Sp(t,e,n,r);return en(t,e+2,i)||o}function dx(t,e,n,r,i,o,s,a,u){let l=e.consts,h=bs(e,t,4,s||null,a||null);Wf()&&Tp(e,n,h,Oi(l,u),pp),h.mergedAttrs=Fi(h.mergedAttrs,h.attrs),Xf(e,h);let p=h.tView=up(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function wT(t,e,n,r,i,o,s,a,u,l){let h=n+rt,p=e.firstCreatePass?dx(h,e,t,r,i,o,s,a,u):e.data[h];Wr(p,!1);let m=fx(e,t,p,n);uu()&&yu(e,t,m,p),zi(m,t);let y=cT(m,t,m,p);return t[h]=y,dp(t,y),xk(y,p,t),iu(p)&&mu(e,t,p),u!=null&&hp(t,p,l),p}function hx(t,e,n,r,i,o,s,a){let u=X(),l=Re(),h=Oi(l.consts,o);return wT(u,l,t,e,n,r,i,h,s,a),hx}var fx=px;function px(t,e,n,r){return lu(!0),e[Ee].createComment("")}var Kz=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var gx=new Q("");var mx=(()=>{class t{static \u0275prov=de({token:t,providedIn:"root",factory:()=>new Cf})}return t})(),Cf=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function Ap(t){return!!t&&typeof t.then=="function"}function TT(t){return!!t&&typeof t.subscribe=="function"}var DT=new Q("");function Qz(t){return nr([{provide:DT,multi:!0,useValue:t}])}var bT=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=V(DT,{optional:!0})??[];injector=V(Ke);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Bi(this.injector,i);if(Ap(o))n.push(o);else if(TT(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yx=new Q("");function vx(){Gd(()=>{throw new Z(600,!1)})}function _x(t){return t.isBoundToModule}var Ix=10;var ms=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=V(ZN);afterRenderManager=V(bw);zonelessEnabled=V(tp);rootEffectScheduler=V(mx);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new St;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=V(Es).hasPendingTasks.pipe(Sr(n=>!n));constructor(){V(fu,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=V(Yt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Ke.NULL){he(10);let o=n instanceof dT;if(!this._injector.get(bT).done){let y="";throw new Z(405,y)}let a;o?a=n:a=this._injector.get(Iu).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let u=_x(a)?void 0:this._injector.get(Li),l=r||a.selector,h=a.create(i,[],l,u),p=h.location.nativeElement,m=h.injector.get(gx,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Cc(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),he(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){he(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(op.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Z(101,!1);let n=ie(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ie(n),this.afterTick.next(),he(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Gc,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<Ix;)he(14),this.synchronizeOnce(),he(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)Ex(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>ou(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Cc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(yx,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Cc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Z(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Cc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Ex(t,e,n,r){if(!n&&!ou(t))return;iT(t,e,n&&!r?0:1)}function wx(t,e,n,r){let i=X(),o=su();if(en(i,o,e)){let s=Re(),a=cu();TM(a,i,t,e,n,r)}return wx}function CT(t,e,n,r){return en(t,su(),n)?e+In(n)+r:ot}function Tx(t,e,n,r,i,o){let s=qE(),a=Sp(t,s,n,i);return au(2),a?e+In(n)+r+In(i)+o:ot}function Dx(t,e,n,r,i,o,s,a){let u=qE(),l=lx(t,u,n,i,s);return au(3),l?e+In(n)+r+In(i)+o+In(s)+a:ot}function Ec(t,e){return t<<17|e<<2}function zr(t){return t>>17&32767}function bx(t){return(t&2)==2}function Cx(t,e){return t&131071|e<<17}function Sf(t){return t|2}function Vi(t){return(t&131068)>>2}function bh(t,e){return t&-131069|e<<2}function Sx(t){return(t&1)===1}function Af(t){return t|1}function Ax(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=zr(s),u=Vi(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||_s(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=zr(t[a+1]);t[r+1]=Ec(m,a),m!==0&&(t[m+1]=bh(t[m+1],r)),t[a+1]=Cx(t[a+1],r)}else t[r+1]=Ec(a,0),a!==0&&(t[a+1]=bh(t[a+1],r)),a=r;else t[r+1]=Ec(u,0),a===0?a=r:t[u+1]=bh(t[u+1],r),u=r;l&&(t[r+1]=Sf(t[r+1])),QI(t,h,r,!0),QI(t,h,r,!1),Rx(e,h,t,r,o),s=Ec(a,u),o?e.classBindings=s:e.styleBindings=s}function Rx(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&_s(o,e)>=0&&(n[r+1]=Af(n[r+1]))}function QI(t,e,n,r){let i=t[n+1],o=e===null,s=r?zr(i):Vi(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];Nx(u,e)&&(a=!0,t[s+1]=r?Af(l):Sf(l)),s=r?zr(l):Vi(l)}a&&(t[n+1]=r?Sf(i):Af(i))}function Nx(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?_s(t,e)>=0:!1}var Ft={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Px(t){return t.substring(Ft.key,Ft.keyEnd)}function Mx(t){return kx(t),ST(t,AT(t,0,Ft.textEnd))}function ST(t,e){let n=Ft.textEnd;return n===e?-1:(e=Ft.keyEnd=xx(t,Ft.key=e,n),AT(t,e,n))}function kx(t){Ft.key=0,Ft.keyEnd=0,Ft.value=0,Ft.valueEnd=0,Ft.textEnd=t.length}function AT(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function xx(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function Ox(t,e,n){let r=X(),i=su();if(en(r,i,e)){let o=Re(),s=cu();fp(o,s,r,t,e,r[Ee],n,!1)}return Ox}function Rf(t,e,n,r,i){gp(e,t,n,i?"class":"style",r)}function Fx(t,e){return Vx(t,e,null,!0),Fx}function Yz(t){jx(zx,Lx,t,!0)}function Lx(t,e){for(let n=Mx(e);n>=0;n=ST(e,n))Bf(t,Px(e),!0)}function Vx(t,e,n,r){let i=X(),o=Re(),s=au(2);if(o.firstUpdatePass&&NT(o,t,s,r),e!==ot&&en(i,s,e)){let a=o.data[Cn()];PT(o,a,i,i[Ee],t,i[s+1]=Gx(e,n),r,s)}}function jx(t,e,n,r){let i=Re(),o=au(2);i.firstUpdatePass&&NT(i,null,o,r);let s=X();if(n!==ot&&en(s,o,n)){let a=i.data[Cn()];if(MT(a,r)&&!RT(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;u!==null&&(n=Nh(u,n||"")),Rf(i,a,s,n,r)}else Wx(i,a,s,s[Ee],s[o+1],s[o+1]=qx(t,e,n),r,o)}}function RT(t,e){return e>=t.expandoStartIndex}function NT(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Cn()],s=RT(t,n);MT(o,r)&&e===null&&!s&&(e=!1),e=Bx(i,o,e,r),Ax(i,o,e,n,s,r)}}function Bx(t,e,n,r){let i=DN(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Ch(null,t,e,n,r),n=ys(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Ch(i,t,e,n,r),o===null){let u=Ux(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Ch(null,t,e,u[1],r),u=ys(u,e.attrs,r),$x(t,e,r,u))}else o=Hx(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function Ux(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Vi(r)!==0)return t[zr(r)]}function $x(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[zr(i)]=r}function Hx(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ys(r,s,n)}return ys(r,e.attrs,n)}function Ch(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=ys(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ys(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Bf(t,s,n?!0:e[++o]))}return t===void 0?null:t}function qx(t,e,n){if(n==null||n==="")return ht;let r=[],i=Ts(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function zx(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Bf(t,r,n)}function Wx(t,e,n,r,i,o,s,a){i===ot&&(i=ht);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let m=u<i.length?i[u+1]:void 0,y=l<o.length?o[l+1]:void 0,T=null,R;h===p?(u+=2,l+=2,m!==y&&(T=p,R=y)):p===null||h!==null&&h<p?(u+=2,T=h):(l+=2,T=p,R=y),T!==null&&PT(t,e,n,r,T,R,s,a),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function PT(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=Sx(l)?YI(u,e,n,i,Vi(l),s):void 0;if(!Yc(h)){Yc(o)||bx(l)&&(o=YI(u,null,n,i,a,s));let p=OE(Cn(),n);UM(r,s,p,i,o)}}function YI(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===ot&&(m=p?ht:void 0);let y=p?mh(m,r):h===r?m:void 0;if(l&&!Yc(y)&&(y=mh(u,r)),Yc(y)&&(a=y,s))return a;let T=t[i+1];i=s?zr(T):Vi(T)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=mh(u,r))}return a}function Yc(t){return t!==void 0}function Gx(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ft(Ts(t)))),t}function MT(t,e){return(t.flags&(e?8:16))!==0}function kT(t,e,n,r){let i=X(),o=Re(),s=rt+t,a=i[Ee],u=o.firstCreatePass?fT(s,o,i,e,pp,Wf(),n,r):o.data[s],l=Qx(o,i,u,a,e,t);i[s]=l;let h=iu(u);return Wr(u,!0),$w(a,l,u),!vp(u)&&uu()&&yu(o,i,l,u),(fN()===0||h)&&zi(l,i),pN(),h&&(mu(o,i,u),sp(o,u,i)),r!==null&&hp(i,u),kT}function xT(){let t=it();Gf()?Kf():(t=t.parent,Wr(t,!1));let e=t;mN(e)&&yN(),gN();let n=Re();return n.firstCreatePass&&pT(n,e),e.classesWithoutHost!=null&&NN(e)&&Rf(n,e,X(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&PN(e)&&Rf(n,e,X(),e.stylesWithoutHost,!1),xT}function Kx(t,e,n,r){return kT(t,e,n,r),xT(),Kx}var Qx=(t,e,n,r,i,o)=>(lu(!0),Bw(r,i,SN()));function Yx(t,e,n,r,i){let o=e.consts,s=Oi(o,r),a=bs(e,t,8,"ng-container",s);s!==null&&mf(a,s,!0);let u=Oi(o,i);return Wf()&&Tp(e,n,a,u,pp),a.mergedAttrs=Fi(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function Zx(t,e,n){let r=X(),i=Re(),o=t+rt,s=i.firstCreatePass?Yx(o,i,r,e,n):i.data[o];Wr(s,!0);let a=Xx(i,r,s,t);return r[o]=a,uu()&&yu(i,r,a,s),zi(a,r),iu(s)&&(mu(i,r,s),sp(i,s,r)),n!=null&&hp(r,s),Zx}function Jx(){let t=it(),e=Re();return Gf()?Kf():(t=t.parent,Wr(t,!1)),e.firstCreatePass&&(Xf(e,t),$f(t)&&e.queries.elementEnd(t)),Jx}var Xx=(t,e,n,r)=>(lu(!0),cM(e[Ee],""));function Zz(){return X()}var Nr=void 0;function e1(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var t1=["en",[["a","p"],["AM","PM"],Nr],[["AM","PM"],Nr,Nr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nr,"{1} 'at' {0}",Nr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",e1],Sh={};function wt(t){let e=n1(t),n=ZI(e);if(n)return n;let r=e.split("-")[0];if(n=ZI(r),n)return n;if(r==="en")return t1;throw new Z(701,!1)}function ZI(t){return t in Sh||(Sh[t]=Zn.ng&&Zn.ng.common&&Zn.ng.common.locales&&Zn.ng.common.locales[t]),Sh[t]}var De=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(De||{});function n1(t){return t.toLowerCase().replace(/_/g,"-")}var Zc="en-US";var r1=Zc;function i1(t){typeof t=="string"&&(r1=t.toLowerCase().replace(/_/g,"-"))}function JI(t,e,n){return function r(i){if(i===Function)return n;let o=$i(t)?Xt(t.index,e):e;Ep(o,5);let s=e[pt],a=XI(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=XI(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function XI(t,e,n,r){let i=ie(null);try{return he(6,e,n),n(r)!==!1}catch(o){return o1(t,o),!1}finally{he(7,e,n),ie(i)}}function o1(t,e){let n=t[Or],r=n?n.get($r,null):null;r&&r.handleError(e)}function eE(t,e,n,r,i,o){let s=e[n],a=e[J],l=a.data[n].outputs[r],h=s[l],p=a.firstCreatePass?zf(a):null,m=qf(e),y=h.subscribe(o),T=m.length;m.push(o,y),p&&p.push(i,t.index,T,-(T+1))}var s1=new Map;function a1(t,e,n,r){let i=X(),o=Re(),s=it();return OT(o,i,i[Ee],s,t,e,r),a1}function c1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[xc],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function OT(t,e,n,r,i,o,s){let a=iu(r),l=t.firstCreatePass?zf(t):null,h=qf(e),p=!0;if(r.type&3||s){let m=tn(r,e),y=s?s(m):m,T=h.length,R=s?x=>s(Jt(x[r.index])):r.index,N=null;if(!s&&a&&(N=c1(t,e,i,r.index)),N!==null){let x=N.__ngLastListenerFn__||N;x.__ngNextListenerFn__=o,N.__ngLastListenerFn__=o,p=!1}else{o=JI(r,e,o);let x=e[Or].get(uP);s1.get(x)?.(y,i,o);let $=n.listen(y,i,o);h.push(o,$),l&&l.push(i,R,T,T+1)}}else o=JI(r,e,o);if(p){let m=r.outputs?.[i],y=r.hostDirectiveOutputs?.[i];if(y&&y.length)for(let T=0;T<y.length;T+=2){let R=y[T],N=y[T+1];eE(r,e,R,N,i,o)}if(m&&m.length)for(let T of m)eE(r,e,T,i,i,o)}}function Jz(t=1){return CN(t)}function u1(t,e){let n=null,r=XP(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?jw(t,o,!0):nM(r,o))return i}return n}function Xz(t){let e=X()[Rt][gt];if(!e.projection){let n=t?t.length:1,r=e.projection=BR(n,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=t?u1(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function e9(t,e=0,n,r,i,o){let s=X(),a=Re(),u=r?t+1:null;u!==null&&wT(s,a,u,r,i,o,null,n);let l=bs(a,rt+t,16,null,n||null);l.projection===null&&(l.projection=e),Kf();let p=!s[ds]||UE();s[Rt][gt].projection[l.projection]===null&&u!==null?l1(s,a,u):p&&!vp(l)&&jM(a,s,l)}function l1(t,e,n){let r=rt+n,i=e.data[r],o=t[r],s=ff(o,i.tView.ssrId),a=Gw(t,i,void 0,{dehydratedView:s});uT(o,a,0,uf(i,s))}function d1(t,e,n,r,i){let o=X(),s=CT(o,e,n,r);if(s!==ot){let a=Re(),u=cu();fp(a,u,o,t,s,o[Ee],i,!1)}return d1}function t9(t,e,n){$k(t,e,n)}function n9(t){let e=X(),n=Re(),r=zE();Yf(r+1);let i=Dp(n,r);if(t.dirty&&cN(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=zk(e,r);t.reset(o,eP),t.notifyOnChanges()}return!0}return!1}function r9(){return Bk(X(),zE())}function h1(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function i9(t){let e=_N();return LE(e,rt+t)}function o9(t,e=""){let n=X(),r=Re(),i=t+rt,o=r.firstCreatePass?bs(r,i,1,e,null):r.data[i],s=f1(r,n,o,e,t);n[i]=s,uu()&&yu(r,n,s,o),Wr(o,!1)}var f1=(t,e,n,r,i)=>(lu(!0),sM(e[Ee],r));function p1(t){return FT("",t,""),p1}function FT(t,e,n){let r=X(),i=CT(r,t,e,n);return i!==ot&&Rp(r,Cn(),i),FT}function g1(t,e,n,r,i){let o=X(),s=Tx(o,t,e,n,r,i);return s!==ot&&Rp(o,Cn(),s),g1}function m1(t,e,n,r,i,o,s){let a=X(),u=Dx(a,t,e,n,r,i,o,s);return u!==ot&&Rp(a,Cn(),u),m1}function Rp(t,e,n){let r=OE(e,t);aM(t[Ee],r,n)}function y1(t,e,n){mw(e)&&(e=e());let r=X(),i=su();if(en(r,i,e)){let o=Re(),s=cu();fp(o,s,r,t,e,r[Ee],n,!1)}return y1}function s9(t,e){let n=mw(t);return n&&t.set(e),n}function v1(t,e){let n=X(),r=Re(),i=it();return OT(r,n,n[Ee],i,t,e),v1}function _1(t,e,n){let r=Re();if(r.firstCreatePass){let i=Zt(t);Nf(n,r.data,r.blueprint,i,!0),Nf(e,r.data,r.blueprint,i,!1)}}function Nf(t,e,n,r,i){if(t=nt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Nf(t[o],e,n,r,i);else{let o=Re(),s=X(),a=it(),u=ki(t)?t:nt(t.provide),l=SE(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(ki(t)||!t.multi){let y=new Br(l,i,Qe),T=Rh(u,e,i?h:h+m,p);T===-1?($h(Uc(a,s),o,u),Ah(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[T]=y,s[T]=y)}else{let y=Rh(u,e,h+m,p),T=Rh(u,e,h,h+m),R=y>=0&&n[y],N=T>=0&&n[T];if(i&&!N||!i&&!R){$h(Uc(a,s),o,u);let x=w1(i?E1:I1,n.length,i,r,l);!i&&N&&(n[T].providerFactory=x),Ah(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(x),s.push(x)}else{let x=LT(n[i?T:y],l,!i&&r);Ah(o,t,y>-1?y:T,x)}!i&&r&&N&&n[T].componentProviders++}}}function Ah(t,e,n,r){let i=ki(e),o=QR(e);if(i||o){let u=(o?nt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function LT(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Rh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function I1(t,e,n,r,i){return Pf(this.multi,[])}function E1(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=fs(r,r[J],this.providerFactory.index,i);s=u.slice(0,a),Pf(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],Pf(o,s);return s}function Pf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function w1(t,e,n,r,i){let o=new Br(t,n,Qe);return o.multi=[],o.index=e,o.componentProviders=0,LT(o,i,r&&!n),o}function a9(t,e=[]){return n=>{n.providersResolver=(r,i)=>_1(r,i?i(t):t,e)}}function c9(t,e,n){let r=Qf()+t,i=X();return i[r]===ot?Cp(i,r,n?e.call(n):e()):ux(i,r)}function u9(t,e,n,r){return T1(X(),Qf(),t,e,n,r)}function VT(t,e){let n=t[e];return n===ot?void 0:n}function T1(t,e,n,r,i,o){let s=e+n;return en(t,s,i)?Cp(t,s+1,o?r.call(o,i):r(i)):VT(t,s+1)}function D1(t,e,n,r,i,o,s){let a=e+n;return Sp(t,a,i,o)?Cp(t,a+2,s?r.call(s,i,o):r(i,o)):VT(t,a+2)}function l9(t,e){let n=Re(),r,i=t+rt;n.firstCreatePass?(r=b1(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=kr(r.type,!0)),s,a=dt(Qe);try{let u=Bc(!1),l=o();return Bc(u),h1(n,X(),i,l),l}finally{dt(a)}}function b1(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function d9(t,e,n,r){let i=t+rt,o=X(),s=LE(o,i);return C1(o,i)?D1(o,Qf(),e,s.transform,n,r,s):s.transform(n,r)}function C1(t,e){return t[J].data[e].pure}function h9(t,e){return _u(t,e)}var ji=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},jT=new ji("19.2.11"),Mf=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},f9=(()=>{class t{compileModuleSync(n){return new bf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=wE(n),o=Lw(i.declarations).reduce((s,a)=>{let u=tr(a);return u&&s.push(new qr(u)),s},[]);return new Mf(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var S1=(()=>{class t{zone=V(Ie);changeDetectionScheduler=V(Ur);applicationRef=V(ms);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),A1=new Q("",{factory:()=>!1});function BT({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ie(ut(ct({},UT()),{scheduleInRootZone:n})),[{provide:Ie,useFactory:t},{provide:Mc,multi:!0,useFactory:()=>{let r=V(S1,{optional:!0});return()=>r.initialize()}},{provide:Mc,multi:!0,useFactory:()=>{let r=V(R1);return()=>{r.initialize()}}},e===!0?{provide:hw,useValue:!0}:[],{provide:fw,useValue:n??dw}]}function p9(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=BT({ngZoneFactory:()=>{let i=UT(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&ws("NgZone_CoalesceEvent"),new Ie(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return nr([{provide:A1,useValue:!0},{provide:tp,useValue:!1},r])}function UT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var R1=(()=>{class t{subscription=new Ne;initialized=!1;zone=V(Ie);pendingTasks=V(Es);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var N1=(()=>{class t{appRef=V(ms);taskService=V(Es);ngZone=V(Ie);zonelessEnabled=V(tp);tracing=V(fu,{optional:!0});disableScheduling=V(hw,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ne;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Hc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(V(fw,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Gh||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?NI:pw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Hc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,NI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function P1(){return typeof $localize<"u"&&$localize.locale||Zc}var Cs=new Q("",{providedIn:"root",factory:()=>V(Cs,ne.Optional|ne.SkipSelf)||P1()});var kf=new Q(""),M1=new Q("");function ss(t){return!t.moduleRef}function k1(t){let e=ss(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ie);return n.run(()=>{ss(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get($r,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),ss(t)){let o=()=>e.destroy(),s=t.platformInjector.get(kf);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(kf);s.add(o),t.moduleRef.onDestroy(()=>{Cc(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return O1(r,n,()=>{let o=e.get(bT);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Cs,Zc);if(i1(s||Zc),!e.get(M1,!0))return ss(t)?e.get(ms):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(ss(t)){let u=e.get(ms);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return x1(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function x1(t,e){let n=t.injector.get(ms);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new Z(-403,!1);e.push(t)}function O1(t,e,n){try{let r=n();return Ap(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Sc=null;function F1(t=[],e){return Ke.create({name:e,providers:[{provide:CE,useValue:"platform"},{provide:kf,useValue:new Set([()=>Sc=null])},...t]})}function L1(t=[]){if(Sc)return Sc;let e=F1(t);return Sc=e,vx(),V1(e),e}function V1(t){let e=t.get(dP,null);Bi(t,()=>{e?.forEach(n=>n())})}function Np(){return!1}var $T=(()=>{class t{static __NG_ELEMENT_ID__=j1}return t})();function j1(t){return B1(it(),X(),(t&16)===16)}function B1(t,e,n){if($i(t)&&!n){let r=Xt(t.index,e);return new gs(r,r)}else if(t.type&175){let r=e[Rt];return new gs(r,e)}return null}var xf=class{constructor(){}supports(e){return ET(e)}create(e){return new Of(e)}},U1=(t,e)=>e,Of=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||U1}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<tE(r,i,o)?n:r,a=tE(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,T=y+m;h<=T&&T<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!ET(e))throw new Z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,ax(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Ff(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Jc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Jc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Ff=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},Lf=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Jc=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Lf,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function tE(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function nE(){return new Pp([new xf])}var Pp=(()=>{class t{factories;static \u0275prov=de({token:t,providedIn:"root",factory:nE});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||nE()),deps:[[t,new LR,new Et]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new Z(901,!1)}}return t})();function g9(t){he(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=L1(r),o=[BT({}),{provide:Ur,useExisting:N1},...n||[]],s=new Qc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return k1({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{he(9)}}function $1(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function HT(t){return Yd(t)}function H1(t,e){return Wd(t,e?.equal)}var rE=class{[Ct];constructor(e){this[Ct]=e}destroy(){this[Ct].destroy()}};function m9(t,e){let n=tr(t),r=e.elementInjector||tu();return new qr(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}function y9(t){let e=tr(t);if(!e)return null;let n=new qr(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Ss=new Q("");var WT=null;function wu(){return WT}function q1(t){WT??=t}var kp=class{},As=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:()=>V(GT),providedIn:"platform"})}return t})(),z1=new Q(""),GT=(()=>{class t extends As{_location;_history;_doc=V(Ss);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return wu().getBaseHref(this._doc)}onPopState(n){let r=wu().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=wu().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Tu(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function qT(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Vt(t){return t&&t[0]!=="?"?`?${t}`:t}var Gi=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:()=>V(KT),providedIn:"root"})}return t})(),Du=new Q(""),KT=(()=>{class t extends Gi{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(Ss).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Tu(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Vt(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Vt(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Vt(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Ue(As),Ue(Du,8))};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),QT=(()=>{class t{_subject=new St;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=K1(qT(zT(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Vt(r))}normalize(n){return t.stripTrailingSlash(G1(this._basePath,zT(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Vt(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Vt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Vt;static joinWithSlash=Tu;static stripTrailingSlash=qT;static \u0275fac=function(r){return new(r||t)(Ue(Gi))};static \u0275prov=de({token:t,factory:()=>W1(),providedIn:"root"})}return t})();function W1(){return new QT(Ue(Gi))}function G1(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function zT(t){return t.replace(/\/index.html$/,"")}function K1(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Q1=(()=>{class t extends Gi{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Tu(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Vt(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Vt(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Ue(As),Ue(Du,8))};static \u0275prov=de({token:t,factory:t.\u0275fac})}return t})();var Bp=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Bp||{});var Ye=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Ye||{}),fe=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(fe||{}),mt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(mt||{}),yt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function tD(t){return wt(t)[De.LocaleId]}function nD(t,e,n){let r=wt(t),i=[r[De.DayPeriodsFormat],r[De.DayPeriodsStandalone]],o=Nt(i,e);return Nt(o,n)}function rD(t,e,n){let r=wt(t),i=[r[De.DaysFormat],r[De.DaysStandalone]],o=Nt(i,e);return Nt(o,n)}function iD(t,e,n){let r=wt(t),i=[r[De.MonthsFormat],r[De.MonthsStandalone]],o=Nt(i,e);return Nt(o,n)}function oD(t,e){let r=wt(t)[De.Eras];return Nt(r,e)}function Rs(t,e){let n=wt(t);return Nt(n[De.DateFormat],e)}function Ns(t,e){let n=wt(t);return Nt(n[De.TimeFormat],e)}function Ps(t,e){let r=wt(t)[De.DateTimeFormat];return Nt(r,e)}function nn(t,e){let n=wt(t),r=n[De.NumberSymbols][e];if(typeof r>"u"){if(e===yt.CurrencyDecimal)return n[De.NumberSymbols][yt.Decimal];if(e===yt.CurrencyGroup)return n[De.NumberSymbols][yt.Group]}return r}function sD(t,e){return wt(t)[De.NumberFormats][e]}function aD(t){if(!t[De.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[De.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function cD(t){let e=wt(t);return aD(e),(e[De.ExtraData][2]||[]).map(r=>typeof r=="string"?xp(r):[xp(r[0]),xp(r[1])])}function uD(t,e,n){let r=wt(t);aD(r);let i=[r[De.ExtraData][0],r[De.ExtraData][1]],o=Nt(i,e)||[];return Nt(o,n)||[]}function Nt(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function xp(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var Y1=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,bu={},Z1=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function lD(t,e,n,r){let i=sO(t);e=An(n,e)||e;let s=[],a;for(;e;)if(a=Z1.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=hD(r,u),i=oO(i,r));let l="";return s.forEach(h=>{let p=rO(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Nu(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function An(t,e){let n=tD(t);if(bu[n]??={},bu[n][e])return bu[n][e];let r="";switch(e){case"shortDate":r=Rs(t,mt.Short);break;case"mediumDate":r=Rs(t,mt.Medium);break;case"longDate":r=Rs(t,mt.Long);break;case"fullDate":r=Rs(t,mt.Full);break;case"shortTime":r=Ns(t,mt.Short);break;case"mediumTime":r=Ns(t,mt.Medium);break;case"longTime":r=Ns(t,mt.Long);break;case"fullTime":r=Ns(t,mt.Full);break;case"short":let i=An(t,"shortTime"),o=An(t,"shortDate");r=Cu(Ps(t,mt.Short),[i,o]);break;case"medium":let s=An(t,"mediumTime"),a=An(t,"mediumDate");r=Cu(Ps(t,mt.Medium),[s,a]);break;case"long":let u=An(t,"longTime"),l=An(t,"longDate");r=Cu(Ps(t,mt.Long),[u,l]);break;case"full":let h=An(t,"fullTime"),p=An(t,"fullDate");r=Cu(Ps(t,mt.Full),[h,p]);break}return r&&(bu[n][e]=r),r}function Cu(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function jt(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function J1(t,e){return jt(t,3).substring(0,e)}function Pe(t,e,n=0,r=!1,i=!1){return function(o,s){let a=X1(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return J1(a,e);let u=nn(s,yt.MinusSign);return jt(a,e,u,r,i)}}function X1(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function ye(t,e,n=Ye.Format,r=!1){return function(i,o){return eO(i,o,t,e,n,r)}}function eO(t,e,n,r,i,o){switch(n){case 2:return iD(e,i,r)[t.getMonth()];case 1:return rD(e,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let l=cD(e),h=uD(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,T]=m,R=s>=y.hours&&a>=y.minutes,N=s<T.hours||s===T.hours&&a<T.minutes;if(y.hours<T.hours){if(R&&N)return!0}else if(R||N)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return nD(e,i,r)[s<12?0:1];case 3:return oD(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function Su(t){return function(e,n,r){let i=-1*r,o=nn(n,yt.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+jt(s,2,o)+jt(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+jt(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+jt(s,2,o)+":"+jt(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+jt(s,2,o)+":"+jt(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var tO=0,Ru=4;function nO(t){let e=Nu(t,tO,1).getDay();return Nu(t,0,1+(e<=Ru?Ru:Ru+7)-e)}function dD(t){let e=t.getDay(),n=e===0?-3:Ru-e;return Nu(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Op(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=dD(n),s=nO(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return jt(i,t,nn(r,yt.MinusSign))}}function Au(t,e=!1){return function(n,r){let o=dD(n).getFullYear();return jt(o,t,nn(r,yt.MinusSign),e)}}var Fp={};function rO(t){if(Fp[t])return Fp[t];let e;switch(t){case"G":case"GG":case"GGG":e=ye(3,fe.Abbreviated);break;case"GGGG":e=ye(3,fe.Wide);break;case"GGGGG":e=ye(3,fe.Narrow);break;case"y":e=Pe(0,1,0,!1,!0);break;case"yy":e=Pe(0,2,0,!0,!0);break;case"yyy":e=Pe(0,3,0,!1,!0);break;case"yyyy":e=Pe(0,4,0,!1,!0);break;case"Y":e=Au(1);break;case"YY":e=Au(2,!0);break;case"YYY":e=Au(3);break;case"YYYY":e=Au(4);break;case"M":case"L":e=Pe(1,1,1);break;case"MM":case"LL":e=Pe(1,2,1);break;case"MMM":e=ye(2,fe.Abbreviated);break;case"MMMM":e=ye(2,fe.Wide);break;case"MMMMM":e=ye(2,fe.Narrow);break;case"LLL":e=ye(2,fe.Abbreviated,Ye.Standalone);break;case"LLLL":e=ye(2,fe.Wide,Ye.Standalone);break;case"LLLLL":e=ye(2,fe.Narrow,Ye.Standalone);break;case"w":e=Op(1);break;case"ww":e=Op(2);break;case"W":e=Op(1,!0);break;case"d":e=Pe(2,1);break;case"dd":e=Pe(2,2);break;case"c":case"cc":e=Pe(7,1);break;case"ccc":e=ye(1,fe.Abbreviated,Ye.Standalone);break;case"cccc":e=ye(1,fe.Wide,Ye.Standalone);break;case"ccccc":e=ye(1,fe.Narrow,Ye.Standalone);break;case"cccccc":e=ye(1,fe.Short,Ye.Standalone);break;case"E":case"EE":case"EEE":e=ye(1,fe.Abbreviated);break;case"EEEE":e=ye(1,fe.Wide);break;case"EEEEE":e=ye(1,fe.Narrow);break;case"EEEEEE":e=ye(1,fe.Short);break;case"a":case"aa":case"aaa":e=ye(0,fe.Abbreviated);break;case"aaaa":e=ye(0,fe.Wide);break;case"aaaaa":e=ye(0,fe.Narrow);break;case"b":case"bb":case"bbb":e=ye(0,fe.Abbreviated,Ye.Standalone,!0);break;case"bbbb":e=ye(0,fe.Wide,Ye.Standalone,!0);break;case"bbbbb":e=ye(0,fe.Narrow,Ye.Standalone,!0);break;case"B":case"BB":case"BBB":e=ye(0,fe.Abbreviated,Ye.Format,!0);break;case"BBBB":e=ye(0,fe.Wide,Ye.Format,!0);break;case"BBBBB":e=ye(0,fe.Narrow,Ye.Format,!0);break;case"h":e=Pe(3,1,-12);break;case"hh":e=Pe(3,2,-12);break;case"H":e=Pe(3,1);break;case"HH":e=Pe(3,2);break;case"m":e=Pe(4,1);break;case"mm":e=Pe(4,2);break;case"s":e=Pe(5,1);break;case"ss":e=Pe(5,2);break;case"S":e=Pe(6,1);break;case"SS":e=Pe(6,2);break;case"SSS":e=Pe(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Su(0);break;case"ZZZZZ":e=Su(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Su(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Su(2);break;default:return null}return Fp[t]=e,e}function hD(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function iO(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function oO(t,e,n){let i=t.getTimezoneOffset(),o=hD(e,i);return iO(t,-1*(o-i))}function sO(t){if(YT(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return Nu(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(Y1))return aO(r)}let e=new Date(t);if(!YT(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function aO(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function YT(t){return t instanceof Date&&!isNaN(t.valueOf())}var cO=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ZT=22,Pu=".",Ms="0",uO=";",lO=",",Lp="#";function dO(t,e,n,r,i,o,s=!1){let a="",u=!1;if(!isFinite(t))a=nn(n,yt.Infinity);else{let l=pO(t);s&&(l=fO(l));let h=e.minInt,p=e.minFrac,m=e.maxFrac;if(o){let L=o.match(cO);if(L===null)throw new Error(`${o} is not a valid digit info`);let $=L[1],ce=L[3],Fe=L[5];$!=null&&(h=Vp($)),ce!=null&&(p=Vp(ce)),Fe!=null?m=Vp(Fe):ce!=null&&p>m&&(m=p)}gO(l,p,m);let y=l.digits,T=l.integerLen,R=l.exponent,N=[];for(u=y.every(L=>!L);T<h;T++)y.unshift(0);for(;T<0;T++)y.unshift(0);T>0?N=y.splice(T,y.length):(N=y,y=[0]);let x=[];for(y.length>=e.lgSize&&x.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)x.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&x.unshift(y.join("")),a=x.join(nn(n,r)),N.length&&(a+=nn(n,i)+N.join("")),R&&(a+=nn(n,yt.Exponential)+"+"+R)}return t<0&&!u?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function fD(t,e,n){let r=sD(e,Bp.Decimal),i=hO(r,nn(e,yt.MinusSign));return dO(t,i,e,yt.Group,yt.Decimal,n)}function hO(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(uO),i=r[0],o=r[1],s=i.indexOf(Pu)!==-1?i.split(Pu):[i.substring(0,i.lastIndexOf(Ms)+1),i.substring(i.lastIndexOf(Ms)+1)],a=s[0],u=s[1]||"";n.posPre=a.substring(0,a.indexOf(Lp));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===Ms?n.minFrac=n.maxFrac=h+1:p===Lp?n.maxFrac=h+1:n.posSuf+=p}let l=a.split(lO);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf(Lp);n.negPre=o.substring(0,p).replace(/'/g,""),n.negSuf=o.slice(p+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function fO(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function pO(t){let e=Math.abs(t)+"",n=0,r,i,o,s,a;for((i=e.indexOf(Pu))>-1&&(e=e.replace(Pu,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Ms;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Ms;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>ZT&&(r=r.splice(0,ZT-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function gO(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+t.integerLen,h=r.reduceRight(function(p,m,y,T){return m=m+p,T[y]=m<10?m:m-10,u&&(T[y]===0&&y>=l?T.pop():u=!1),m>=10?1:0},0);h&&(r.unshift(h),t.integerLen++)}function Vp(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var jp=/\s+/,JT=[],mO=(()=>{class t{_ngEl;_renderer;initialClasses=JT;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(jp):JT}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(jp):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(jp).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(Qe(Gr),Qe(wp))};static \u0275dir=Eu({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var Mu=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},pD=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Mu(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),XT(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);XT(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Qe(Wi),Qe(Hr),Qe(Pp))};static \u0275dir=Eu({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function XT(t,e){t.context.$implicit=e.item}var yO=(()=>{class t{_viewContainer;_context=new ku;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){eD(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){eD(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Qe(Wi),Qe(Hr))};static \u0275dir=Eu({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),ku=class{$implicit=null;ngIf=null};function eD(t,e){if(t&&!t.createEmbeddedView)throw new Z(2020,!1)}function gD(t,e){return new Z(2100,!1)}var vO="mediumDate",mD=new Q(""),yD=new Q(""),_O=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??vO,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return lD(n,s,o||this.locale,a)}catch(s){throw gD(t,s.message)}}static \u0275fac=function(r){return new(r||t)(Qe(Cs,16),Qe(mD,24),Qe(yD,24))};static \u0275pipe=bp({name:"date",type:t,pure:!0})}return t})();var IO=(()=>{class t{_locale;constructor(n){this._locale=n}transform(n,r,i){if(!EO(n))return null;i||=this._locale;try{let o=wO(n);return fD(o,i,r)}catch(o){throw gD(t,o.message)}}static \u0275fac=function(r){return new(r||t)(Qe(Cs,16))};static \u0275pipe=bp({name:"number",type:t,pure:!0})}return t})();function EO(t){return!(t==null||t===""||t!==t)}function wO(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var TO=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=vT({type:t});static \u0275inj=dE({})}return t})();function DO(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var vD="browser",_D="server";function bO(t){return t===vD}function CO(t){return t===_D}var Up=class{};var B8=(()=>{class t{static \u0275prov=de({token:t,providedIn:"root",factory:()=>new $p(V(Ss),window)})}return t})(),$p=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=SO(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function SO(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var ID=()=>{};var TD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},AO=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},xu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(TD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):AO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new qp;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let T=l<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},qp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},RO=function(t){let e=TD(t);return xu.encodeByteArray(e,!0)},xs=function(t){return RO(t).replace(/\./g,"")},Ou=function(t){try{return xu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Wp(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var NO=()=>Wp().__FIREBASE_DEFAULTS__,PO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ou(t[1]);return e&&JSON.parse(e)},Fu=()=>{try{return ID()||NO()||PO()||MO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Gp=t=>{var e,n;return(n=(e=Fu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},DD=t=>{let e=Gp(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Kp=()=>{var t;return(t=Fu())===null||t===void 0?void 0:t.config},Qp=t=>{var e;return(e=Fu())===null||e===void 0?void 0:e[`_${t}`]};var Kr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Qr(t){return t.endsWith(".cloudworkstations.dev")}function Lu(t){return _(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function bD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xs(JSON.stringify(n)),xs(JSON.stringify(s)),""].join(".")}var ks={};function kO(){let t={prod:[],emulator:[]};for(let e of Object.keys(ks))ks[e]?t.emulator.push(e):t.prod.push(e);return t}function xO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var ED=!1;function Ki(t,e){if(typeof window>"u"||typeof document>"u"||!Qr(window.location.host)||ks[t]===e||ks[t]||ED)return;ks[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=kO().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{ED=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=xO(r),y=n("text"),T=document.getElementById(y)||document.createElement("span"),R=n("learnmore"),N=document.getElementById(R)||document.createElement("a"),x=n("preprendIcon"),L=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let $=m.element;a($),h(N,R);let ce=l();u(L,x),$.append(L,T,N,ce),document.body.appendChild($)}o?(T.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Le(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function OO(){var t;let e=(t=Fu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AD(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function RD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ND(){let t=Le();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function PD(){return!OO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Os(){try{return typeof indexedDB=="object"}catch{return!1}}function MD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var FO="FirebaseError",Tt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=FO,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bt.prototype.create)}},Bt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?LO(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Tt(i,a,r)}};function LO(t,e){return t.replace(VO,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var VO=/\{\$([^}]+)}/g;function kD(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rn(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(wD(o)&&wD(s)){if(!rn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function wD(t){return t!==null&&typeof t=="object"}function Fs(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qi(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Yi(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function xD(t,e){let n=new zp(t,e);return n.subscribe.bind(n)}var zp=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Hp),i.error===void 0&&(i.error=Hp),i.complete===void 0&&(i.complete=Hp);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function jO(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hp(){}var K8=4*60*60*1e3;function be(t){return t&&t._delegate?t._delegate:t}var st=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Yr="[DEFAULT]";var Yp=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Kr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UO(e))try{this.getOrInitializeService({instanceIdentifier:Yr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Yr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Yr){return this.instances.has(e)}getOptions(e=Yr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yr){return this.component?this.component.multipleInstances?e:Yr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function BO(t){return t===Yr?void 0:t}function UO(t){return t.instantiationMode==="EAGER"}var Vu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Yp(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var $O=[],re=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(re||{}),HO={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},qO=re.INFO,zO={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},WO=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=zO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},on=class{constructor(e){this.name=e,this._logLevel=qO,this._logHandler=WO,this._userLogHandler=null,$O.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}};var GO=(t,e)=>e.some(n=>t instanceof n),OD,FD;function KO(){return OD||(OD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QO(){return FD||(FD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var LD=new WeakMap,Jp=new WeakMap,VD=new WeakMap,Zp=new WeakMap,eg=new WeakMap;function YO(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(sn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&LD.set(n,t)}).catch(()=>{}),eg.set(e,t),e}function ZO(t){if(Jp.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Jp.set(t,e)}var Xp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||VD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jD(t){Xp=t(Xp)}function JO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ju(this),e,...n);return VD.set(r,e.sort?e.sort():[e]),sn(r)}:QO().includes(t)?function(...e){return t.apply(ju(this),e),sn(LD.get(this))}:function(...e){return sn(t.apply(ju(this),e))}}function XO(t){return typeof t=="function"?JO(t):(t instanceof IDBTransaction&&ZO(t),GO(t,KO())?new Proxy(t,Xp):t)}function sn(t){if(t instanceof IDBRequest)return YO(t);if(Zp.has(t))return Zp.get(t);let e=XO(t);return e!==t&&(Zp.set(t,e),eg.set(e,t)),e}var ju=t=>eg.get(t);function UD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=sn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(sn(s.result),u.oldVersion,u.newVersion,sn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var eF=["get","getKey","getAll","getAllKeys","count"],tF=["put","add","delete","clear"],tg=new Map;function BD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tg.get(e))return tg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=tF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||eF.includes(n)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return tg.set(e,o),o}jD(t=>ut(ct({},t),{get:(e,n,r)=>BD(e,n)||t.get(e,n,r),has:(e,n)=>!!BD(e,n)||t.has(e,n)}));var rg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nF(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function nF(t){let e=t.getComponent();return e?.type==="VERSION"}var ig="@firebase/app",$D="0.12.3";var Rn=new on("@firebase/app"),rF="@firebase/app-compat",iF="@firebase/analytics-compat",oF="@firebase/analytics",sF="@firebase/app-check-compat",aF="@firebase/app-check",cF="@firebase/auth",uF="@firebase/auth-compat",lF="@firebase/database",dF="@firebase/data-connect",hF="@firebase/database-compat",fF="@firebase/functions",pF="@firebase/functions-compat",gF="@firebase/installations",mF="@firebase/installations-compat",yF="@firebase/messaging",vF="@firebase/messaging-compat",_F="@firebase/performance",IF="@firebase/performance-compat",EF="@firebase/remote-config",wF="@firebase/remote-config-compat",TF="@firebase/storage",DF="@firebase/storage-compat",bF="@firebase/firestore",CF="@firebase/vertexai",SF="@firebase/firestore-compat",AF="firebase",RF="11.7.3";var og="[DEFAULT]",NF={[ig]:"fire-core",[rF]:"fire-core-compat",[oF]:"fire-analytics",[iF]:"fire-analytics-compat",[aF]:"fire-app-check",[sF]:"fire-app-check-compat",[cF]:"fire-auth",[uF]:"fire-auth-compat",[lF]:"fire-rtdb",[dF]:"fire-data-connect",[hF]:"fire-rtdb-compat",[fF]:"fire-fn",[pF]:"fire-fn-compat",[gF]:"fire-iid",[mF]:"fire-iid-compat",[yF]:"fire-fcm",[vF]:"fire-fcm-compat",[_F]:"fire-perf",[IF]:"fire-perf-compat",[EF]:"fire-rc",[wF]:"fire-rc-compat",[TF]:"fire-gcs",[DF]:"fire-gcs-compat",[bF]:"fire-fst",[SF]:"fire-fst-compat",[CF]:"fire-vertex","fire-js":"fire-js",[AF]:"fire-js-all"};var Ls=new Map,PF=new Map,sg=new Map;function HD(t,e){try{t.container.addComponent(e)}catch(n){Rn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ut(t){let e=t.name;if(sg.has(e))return Rn.debug(`There were multiple attempts to register component ${e}.`),!1;sg.set(e,t);for(let n of Ls.values())HD(n,t);for(let n of PF.values())HD(n,t);return!0}function Zi(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function vt(t){return t==null?!1:t.settings!==void 0}var MF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rr=new Bt("app","Firebase",MF);var ag=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new st("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}};var ir=RF;function lg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:og,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw rr.create("bad-app-name",{appName:String(i)});if(n||(n=Kp()),!n)throw rr.create("no-options");let o=Ls.get(i);if(o){if(rn(n,o.options)&&rn(r,o.config))return o;throw rr.create("duplicate-app",{appName:i})}let s=new Vu(i);for(let u of sg.values())s.addComponent(u);let a=new ag(n,r,s);return Ls.set(i,a),a}function Zr(t=og){let e=Ls.get(t);if(!e&&t===og&&Kp())return lg();if(!e)throw rr.create("no-app",{appName:t});return e}function Bu(){return Array.from(Ls.values())}function Ce(t,e,n){var r;let i=(r=NF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rn.warn(a.join(" "));return}Ut(new st(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var kF="firebase-heartbeat-database",xF=1,Vs="firebase-heartbeat-store",ng=null;function GD(){return ng||(ng=UD(kF,xF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vs)}catch(n){console.warn(n)}}}}).catch(t=>{throw rr.create("idb-open",{originalErrorMessage:t.message})})),ng}function OF(t){return _(this,null,function*(){try{let n=(yield GD()).transaction(Vs),r=yield n.objectStore(Vs).get(KD(t));return yield n.done,r}catch(e){if(e instanceof Tt)Rn.warn(e.message);else{let n=rr.create("idb-get",{originalErrorMessage:e?.message});Rn.warn(n.message)}}})}function qD(t,e){return _(this,null,function*(){try{let r=(yield GD()).transaction(Vs,"readwrite");yield r.objectStore(Vs).put(e,KD(t)),yield r.done}catch(n){if(n instanceof Tt)Rn.warn(n.message);else{let r=rr.create("idb-set",{originalErrorMessage:n?.message});Rn.warn(r.message)}}})}function KD(t){return`${t.name}!${t.options.appId}`}var FF=1024,LF=30,cg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new ug(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=zD();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>LF){let s=jF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Rn.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=zD(),{heartbeatsToSend:r,unsentEntries:i}=VF(this._heartbeatsCache.heartbeats),o=xs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Rn.warn(n),""}})}};function zD(){return new Date().toISOString().substring(0,10)}function VF(t,e=FF){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),WD(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),WD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var ug=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return Os()?MD().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield OF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return qD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return qD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function WD(t){return xs(JSON.stringify({version:2,heartbeats:t})).length}function jF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function BF(t){Ut(new st("platform-logger",e=>new rg(e),"PRIVATE")),Ut(new st("heartbeat",e=>new cg(e),"PRIVATE")),Ce(ig,$D,t),Ce(ig,$D,"esm2017"),Ce("fire-js","")}BF("");var UF="firebase",$F="11.7.3";Ce(UF,$F,"app");function dg(t){t===void 0&&(nu(dg),t=V(Ke));let e=t.get(hu);return n=>new te(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var or=new ji("ANGULARFIRE2_VERSION");function js(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Xi=(t,e)=>{let n=e?[e]:Bu(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ji=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(Ji||{}),QD=Np()&&typeof Zone<"u"?Ji.WARN:Ji.SILENT;var Uu=class{zone;delegate;constructor(e,n=lh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},sr=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=V(Ie);this.outsideAngular=n.runOutsideAngular(()=>new Uu(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Uu(typeof Zone>"u"?void 0:Zone.current,Kn))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=de({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),YD=!1;function HF(t,e){!YD&&(QD>Ji.SILENT||Np())&&(YD=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),QD>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function qF(t){let e=V(Ie,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Jr(t){let e=V(Ie,{optional:!0});return e?e.run(()=>t()):t()}var zF=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Bi(n,()=>Jr(()=>t.apply(void 0,r)))),Se=(t,e,n)=>(n||=e?Ji.WARN:Ji.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=V(sr),s=V(hu),a=V(Yt)}catch{return HF(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Jr(()=>s.add())),i[l]=zF(i[l],r,a));let u=qF(()=>t.apply(this,i));return e?u instanceof te?u.pipe(Yn(o.outsideAngular),Qn(o.insideAngular),dg(a)):u instanceof Promise?Jr(()=>new Promise((l,h)=>{s.run(()=>u).then(p=>Bi(a,()=>Jr(()=>l(p))),p=>Bi(a,()=>Jr(()=>h(p))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Jr(()=>u):u instanceof te?u.pipe(Yn(o.outsideAngular),Qn(o.insideAngular)):Jr(()=>u)});var Nn=class{constructor(e){return e}},Xr=class{constructor(){return Bu()}};function WF(t){return t&&t.length===1?t[0]:new Nn(Zr())}var hg=new Q("angularfire2._apps"),GF={provide:Nn,useFactory:WF,deps:[[new Et,hg]]},KF={provide:Xr,deps:[[new Et,hg]]};function QF(t){return(e,n)=>{let r=n.get(ip);Ce("angularfire",or.full,"core"),Ce("angularfire",or.full,"app"),Ce("angular",jT.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Nn(i)}}function W5(t,...e){return nr([GF,KF,{provide:hg,useFactory:QF(t),multi:!0,deps:[Ie,Ke,sr,...e]}])}var G5=Se(lg,!0);var YF=new Map,ZF={activated:!1,tokenObservers:[]},JF={initialized:!1,enabled:!1};function $t(t){return YF.get(t)||Object.assign({},ZF)}function eb(){return JF}var XF="https://content-firebaseappcheck.googleapis.com/v1";var eL="exchangeDebugToken",ZD={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},nW=24*60*60*1e3;var gg=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new Kr,this.pending.promise.catch(n=>{}),yield tL(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Kr,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function tL(t){return new Promise(e=>{setTimeout(e,t)})}var nL={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ar=new Bt("appCheck","AppCheck",nL);function tb(t){if(!$t(t).activated)throw ar.create("use-before-activation",{appName:t.name})}function nb(r,i){return _(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,a)}catch(y){throw ar.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw ar.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw ar.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw ar.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function rb(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${XF}/projects/${n}/apps/${r}:${eL}?key=${i}`,body:{debug_token:e}}}var rL="firebase-app-check-database",iL=1,mg="firebase-app-check-store";var $u=null;function oL(){return $u||($u=new Promise((t,e)=>{try{let n=indexedDB.open(rL,iL);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(ar.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(mg,{keyPath:"compositeKey"})}}}catch(n){e(ar.create("storage-open",{originalErrorMessage:n?.message}))}}),$u)}function sL(t,e){return aL(cL(t),e)}function aL(t,e){return _(this,null,function*(){let r=(yield oL()).transaction(mg,"readwrite"),o=r.objectStore(mg).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(ar.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function cL(t){return`${t.options.appId}-${t.name}`}var Bs=new on("@firebase/app-check");function fg(t,e){return Os()?sL(t,e).catch(n=>{Bs.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function ib(){return eb().enabled}function ob(){return _(this,null,function*(){let t=eb();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var uL={error:"UNKNOWN_ERROR"};function lL(t){return xu.encodeString(JSON.stringify(t),!1)}function yg(t,e=!1,n=!1){return _(this,null,function*(){let r=t.app;tb(r);let i=$t(r),o=i.token,s;if(o&&!Us(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Us(l)?o=l:yield fg(r,void 0))}if(!e&&o&&Us(o))return{token:o.token};let a=!1;if(ib())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=nb(rb(r,yield ob()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield fg(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Bs.warn(l.message):n&&Bs.error(l),pg(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield $t(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Bs.warn(l.message):n&&Bs.error(l),s=l}let u;return o?s?Us(o)?u={token:o.token,internalError:s}:u=pg(s):(u={token:o.token},i.token=o,yield fg(r,o)):u=pg(s),a&&pL(r,u),u})}function dL(t){return _(this,null,function*(){let e=t.app;tb(e);let{provider:n}=$t(e);if(ib()){let r=yield ob(),{token:i}=yield nb(rb(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function hL(t,e,n,r){let{app:i}=t,o=$t(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Us(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),JD(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>JD(t))}function sb(t,e){let n=$t(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function JD(t){let{app:e}=t,n=$t(e),r=n.tokenRefresher;r||(r=fL(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function fL(t){let{app:e}=t;return new gg(()=>_(null,null,function*(){let n=$t(e),r;if(n.token?r=yield yg(t,!0):r=yield yg(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=$t(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},ZD.RETRIAL_MIN_WAIT,ZD.RETRIAL_MAX_WAIT)}function pL(t,e){let n=$t(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Us(t){return t.expireTimeMillis-Date.now()>0}function pg(t){return{token:lL(uL),error:t}}var vg=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=$t(this.app);for(let n of e)sb(this.app,n.next);return Promise.resolve()}};function gL(t,e){return new vg(t,e)}function mL(t){return{getToken:e=>yg(t,e),getLimitedUseToken:()=>dL(t),addTokenListener:e=>hL(t,"INTERNAL",e),removeTokenListener:e=>sb(t.app,e)}}var yL="@firebase/app-check",vL="0.9.3";var _L="app-check",XD="app-check-internal";function IL(){Ut(new st(_L,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return gL(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(XD).initialize()})),Ut(new st(XD,t=>{let e=t.getProvider("app-check").getImmediate();return mL(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ce(yL,vL)}IL();var EL="app-check";var eo=class{constructor(){return Xi(EL)}};var wL=["localhost","0.0.0.0","127.0.0.1"],gW=typeof window<"u"&&wL.includes(window.location.hostname);function wb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Tb=wb,Db=new Bt("auth","Firebase",wb());var Ku=new on("@firebase/auth");function TL(t,...e){Ku.logLevel<=re.WARN&&Ku.warn(`Auth (${ir}): ${t}`,...e)}function qu(t,...e){Ku.logLevel<=re.ERROR&&Ku.error(`Auth (${ir}): ${t}`,...e)}function cn(t,...e){throw Hg(t,...e)}function ei(t,...e){return Hg(t,...e)}function bb(t,e,n){let r=Object.assign(Object.assign({},Tb()),{[e]:n});return new Bt("auth","Firebase",r).create(e,{appName:t.name})}function kn(t){return bb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Db.create(t,...e)}function U(t,e,...n){if(!t)throw Hg(e,...n)}function Pn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw qu(e),new Error(e)}function lr(t,e){t||Pn(e)}function wg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function DL(){return ab()==="http:"||ab()==="https:"}function ab(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function bL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DL()||AD()||"connection"in navigator)?navigator.onLine:!0}function CL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ti=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,lr(n>e,"Short delay should be less than long delay!"),this.isMobile=CD()||RD()}get(){return bL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function qg(t,e){lr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Qu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var SL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var AL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RL=new ti(3e4,6e4);function dr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function xn(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){return Cb(t,i,()=>_(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Fs(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return SD()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&Qr(t.emulatorConfig.host)&&(y.credentials="include"),Qu.fetch()(yield Sb(t,t.config.apiHost,n,p),y)}))})}function Cb(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},SL),e);try{let i=new Tg(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Hu(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hu(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Hu(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Hu(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw bb(t,h,l);cn(t,h)}}catch(i){if(i instanceof Tt)throw i;cn(t,"network-request-failed",{message:String(i)})}})}function Qs(o,s,a,u){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield xn(t,e,n,r,i);return"mfaPendingCredential"in l&&cn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function Sb(t,e,n,r){return _(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?qg(t.config,i):`${t.config.apiScheme}://${i}`;return AL.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function NL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Tg=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ei(this.auth,"network-request-failed")),RL.get())})}};function Hu(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ei(t,e,r);return i.customData._tokenResponse=n,i}function cb(t){return t!==void 0&&t.enterprise!==void 0}var Dg=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return NL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function PL(t,e){return _(this,null,function*(){return xn(t,"GET","/v2/recaptchaConfig",dr(t,e))})}function ML(t,e){return _(this,null,function*(){return xn(t,"POST","/v1/accounts:delete",e)})}function Yu(t,e){return _(this,null,function*(){return xn(t,"POST","/v1/accounts:lookup",e)})}function Hs(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function zg(t,e=!1){return _(this,null,function*(){let n=be(t),r=yield n.getIdToken(e),i=Wg(r);U(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Hs(_g(i.auth_time)),issuedAtTime:Hs(_g(i.iat)),expirationTime:Hs(_g(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function _g(t){return Number(t)*1e3}function Wg(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qu("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ou(n);return i?JSON.parse(i):(qu("Failed to decode base64 JWT payload"),null)}catch(i){return qu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ub(t){let e=Wg(t);return U(e,"internal-error"),U(typeof e.exp<"u","internal-error"),U(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function to(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Tt&&kL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function kL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var bg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var zs=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hs(this.lastLoginAt),this.creationTime=Hs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Zu(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield to(t,Yu(n,{idToken:r}));U(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Ab(o.providerUserInfo):[],a=xL(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new zs(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function Gg(t){return _(this,null,function*(){let e=be(t);yield Zu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function xL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ab(t){return t.map(e=>{var{providerId:n}=e,r=hh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function OL(t,e){return _(this,null,function*(){let n=yield Cb(t,{},()=>_(null,null,function*(){let r=Fs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield Sb(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Qu.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function FL(t,e){return _(this,null,function*(){return xn(t,"POST","/v2/accounts:revokeToken",dr(t,e))})}var qs=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){U(e.idToken,"internal-error"),U(typeof e.idToken<"u","internal-error"),U(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ub(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){U(e.length!==0,"internal-error");let n=ub(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(U(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield OL(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(U(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(U(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(U(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Pn("not implemented")}};function cr(t,e){U(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ur=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=hh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zs(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield to(this,this.stsTokenManager.getToken(this.auth,e));return U(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return zg(this,e)}reload(){return Gg(this)}_assign(e){this!==e&&(U(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Zu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(vt(this.auth.app))return Promise.reject(kn(this.auth));let e=yield this.getIdToken();return yield to(this,ML(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,T=(s=n.photoURL)!==null&&s!==void 0?s:void 0,R=(a=n.tenantId)!==null&&a!==void 0?a:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,x=(l=n.createdAt)!==null&&l!==void 0?l:void 0,L=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:$,emailVerified:ce,isAnonymous:Fe,providerData:le,stsTokenManager:D}=n;U($&&D,e,"internal-error");let v=qs.fromJSON(this.name,D);U(typeof $=="string",e,"internal-error"),cr(p,e.name),cr(m,e.name),U(typeof ce=="boolean",e,"internal-error"),U(typeof Fe=="boolean",e,"internal-error"),cr(y,e.name),cr(T,e.name),cr(R,e.name),cr(N,e.name),cr(x,e.name),cr(L,e.name);let E=new t({uid:$,auth:e,email:m,emailVerified:ce,displayName:p,isAnonymous:Fe,photoURL:T,phoneNumber:y,tenantId:R,stsTokenManager:v,createdAt:x,lastLoginAt:L});return le&&Array.isArray(le)&&(E.providerData=le.map(w=>Object.assign({},w))),N&&(E._redirectEventId=N),E}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new qs;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Zu(o),o})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];U(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?Ab(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new qs;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new zs(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var lb=new Map;function Mn(t){lr(t instanceof Function,"Expected a class definition");let e=lb.get(t);return e?(lr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lb.set(t,e),e)}var LL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Cg=LL;function zu(t,e,n){return`firebase:${t}:${e}:${n}`}var Ju=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=zu(this.userKey,i.apiKey,o),this.fullPersistenceKey=zu("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Yu(this.auth,{idToken:e}).catch(()=>{});return n?ur._fromGetAccountInfoResponse(this.auth,n,e):null}return ur._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(Mn(Cg),e,r);let i=(yield Promise.all(n.map(l=>_(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Mn(Cg),s=zu(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield Yu(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield ur._fromGetAccountInfoResponse(e,m,h)}else p=ur._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>_(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function db(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Mb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Rb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xb(e))return"Blackberry";if(Ob(e))return"Webos";if(Nb(e))return"Safari";if((e.includes("chrome/")||Pb(e))&&!e.includes("edge/"))return"Chrome";if(kb(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Rb(t=Le()){return/firefox\//i.test(t)}function Nb(t=Le()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Pb(t=Le()){return/crios\//i.test(t)}function Mb(t=Le()){return/iemobile/i.test(t)}function kb(t=Le()){return/android/i.test(t)}function xb(t=Le()){return/blackberry/i.test(t)}function Ob(t=Le()){return/webos/i.test(t)}function Kg(t=Le()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function VL(t=Le()){var e;return Kg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jL(){return ND()&&document.documentMode===10}function Fb(t=Le()){return Kg(t)||kb(t)||Ob(t)||xb(t)||/windows phone/i.test(t)||Mb(t)}function Lb(t,e=[]){let n;switch(t){case"Browser":n=db(Le());break;case"Worker":n=`${db(Le())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ir}/${r}`}var Sg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function BL(n){return _(this,arguments,function*(t,e={}){return xn(t,"GET","/v2/passwordPolicy",dr(t,e))})}var UL=6,Ag=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:UL,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Rg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xu(this),this.idTokenSubscription=new Xu(this),this.beforeStateQueue=new Sg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Db,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mn(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Ju.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield Yu(this,{idToken:e}),r=yield ur._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(vt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return U(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Zu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=CL()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(vt(this.app))return Promise.reject(kn(this));let n=e?be(e):null;return n&&U(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&U(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return vt(this.app)?Promise.reject(kn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return vt(this.app)?Promise.reject(kn(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Mn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield BL(this),n=new Ag(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield FL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Mn(e)||this._popupRedirectResolver;U(n,this,"argument-error"),this.redirectPersistenceManager=yield Ju.create(this,[Mn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(U(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Lb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;if(vt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&TL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ri(t){return be(t)}var Xu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=xD(n=>this.observer=n)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var sl={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $L(t){sl=t}function Vb(t){return sl.loadJS(t)}function HL(){return sl.recaptchaEnterpriseScript}function qL(){return sl.gapiScript}function jb(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Ng=class{constructor(){this.enterprise=new Pg}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},Pg=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var zL="recaptcha-enterprise",Bb="NO_RECAPTCHA",Mg=class{constructor(e){this.type=zL,this.auth=ri(e)}verify(e="verify",n=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(null,null,function*(){PL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Dg(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;cb(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(Bb)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ng().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&cb(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=HL();u.length!==0&&(u+=a),Vb(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function $s(t,e,n,r=!1,i=!1){return _(this,null,function*(){let o=new Mg(t),s;if(i)s=Bb;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}let a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function kg(t,e,n,r,i){return _(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield $s(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(a=>_(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield $s(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield $s(t,e,n);return r(t,a).catch(u=>_(null,null,function*(){var l;if(((l=t._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let h=yield $s(t,e,n,!1,!0);return r(t,h)}return Promise.reject(u)}))}else{let a=yield $s(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")})}function Qg(t,e){let n=Zi(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(rn(o,e??{}))return i;cn(i,"already-initialized")}return n.initialize({options:e})}function WL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Mn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Yg(t,e,n){let r=ri(t);U(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=Ub(e),{host:s,port:a}=GL(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){U(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),U(rn(l,r.config.emulator)&&rn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Qr(s)?(Ki("Auth",!0),Lu(`${o}//${s}${u}`)):i||KL()}function Ub(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function GL(t){let e=Ub(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:hb(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:hb(s)}}}function hb(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function KL(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ws=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pn("not implemented")}_getIdTokenResponse(e){return Pn("not implemented")}_linkToIdToken(e,n){return Pn("not implemented")}_getReauthenticationResolver(e){return Pn("not implemented")}};function QL(t,e){return _(this,null,function*(){return xn(t,"POST","/v1/accounts:signUp",e)})}function YL(t,e){return _(this,null,function*(){return Qs(t,"POST","/v1/accounts:signInWithPassword",dr(t,e))})}function ZL(t,e){return _(this,null,function*(){return Qs(t,"POST","/v1/accounts:signInWithEmailLink",dr(t,e))})}function JL(t,e){return _(this,null,function*(){return Qs(t,"POST","/v1/accounts:signInWithEmailLink",dr(t,e))})}var Gs=class t extends Ws{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kg(e,n,"signInWithPassword",YL,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return ZL(e,{email:this._email,oobCode:this._password});default:cn(e,"internal-error")}})}_linkToIdToken(e,n){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kg(e,r,"signUpPassword",QL,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return JL(e,{idToken:n,email:this._email,oobCode:this._password});default:cn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Ig(t,e){return _(this,null,function*(){return Qs(t,"POST","/v1/accounts:signInWithIdp",dr(t,e))})}function XL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eV(t){let e=Qi(Yi(t)).link,n=e?Qi(Yi(e)).deep_link_id:null,r=Qi(Yi(t)).deep_link_id;return(r?Qi(Yi(r)).link:null)||r||n||e||t}var el=class t{constructor(e){var n,r,i,o,s,a;let u=Qi(Yi(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=XL((i=u.mode)!==null&&i!==void 0?i:null);U(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=eV(e);try{return new t(n)}catch{return null}}};var $b=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Gs._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=el.parseLink(r);return U(i,"argument-error"),Gs._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),tl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var xg=class extends tl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function tV(t,e){return _(this,null,function*(){return Qs(t,"POST","/v1/accounts:signUp",dr(t,e))})}var no=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let o=yield ur._fromIdTokenResponse(e,r,i),s=fb(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=fb(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function fb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Og=class t extends Tt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function Hb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Og._fromErrorAndOperation(t,o,e,r):o})}function nV(t,e,n=!1){return _(this,null,function*(){let r=yield to(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return no._forOperation(t,"link",r)})}function rV(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(vt(r.app))return Promise.reject(kn(r));let i="reauthenticate";try{let o=yield to(t,Hb(r,i,e,t),n);U(o.idToken,r,"internal-error");let s=Wg(o.idToken);U(s,r,"internal-error");let{sub:a}=s;return U(t.uid===a,r,"user-mismatch"),no._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&cn(r,"user-mismatch"),o}})}function qb(t,e,n=!1){return _(this,null,function*(){if(vt(t.app))return Promise.reject(kn(t));let r="signIn",i=yield Hb(t,r,e),o=yield no._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function Zg(t,e){return _(this,null,function*(){return qb(ri(t),e)})}function zb(t){return _(this,null,function*(){let e=ri(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Jg(t,e,n){return _(this,null,function*(){if(vt(t.app))return Promise.reject(kn(t));let r=ri(t),s=yield kg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tV,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&zb(t),u}),a=yield no._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function Xg(t,e,n){return vt(t.app)?Promise.reject(kn(t)):Zg(be(t),$b.credential(e,n)).catch(r=>_(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&zb(t),r}))}function iV(t,e){return _(this,null,function*(){return xn(t,"POST","/v1/accounts:update",e)})}function em(r,i){return _(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let o=be(t),a={idToken:yield o.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=yield to(o,iV(o.auth,a));o.displayName=u.displayName||null,o.photoURL=u.photoUrl||null;let l=o.providerData.find(({providerId:h})=>h==="password");l&&(l.displayName=o.displayName,l.photoURL=o.photoURL),yield o._updateTokensIfNecessary(u)})}function tm(t,e,n,r){return be(t).onIdTokenChanged(e,n,r)}function nm(t,e,n){return be(t).beforeAuthStateChanged(e,n)}function rm(t,e,n,r){return be(t).onAuthStateChanged(e,n,r)}function im(t){return be(t).signOut()}var nl="__sak";var rl=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nl,"1"),this.storage.removeItem(nl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var oV=1e3,sV=10,aV=(()=>{class t extends rl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fb(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);jL()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,sV):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},oV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield Gn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield Gn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield Gn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),Wb=aV;var cV=(()=>{class t extends rl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),om=cV;function uV(t){return Promise.all(t.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var lV=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield uV(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Gb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Fg=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=Gb("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function an(){return window}function dV(t){an().location.href=t}function Kb(){return typeof an().WorkerGlobalScope<"u"&&typeof an().importScripts=="function"}function hV(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function fV(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function pV(){return Kb()?self:null}var Qb="firebaseLocalStorageDb",gV=1,il="firebaseLocalStorage",Yb="fbase_key",ni=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function al(t,e){return t.transaction([il],e?"readwrite":"readonly").objectStore(il)}function mV(){let t=indexedDB.deleteDatabase(Qb);return new ni(t).toPromise()}function Lg(){let t=indexedDB.open(Qb,gV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(il,{keyPath:Yb})}catch(i){n(i)}}),t.addEventListener("success",()=>_(null,null,function*(){let r=t.result;r.objectStoreNames.contains(il)?e(r):(r.close(),yield mV(),e(yield Lg()))}))})}function pb(t,e,n){return _(this,null,function*(){let r=al(t,!0).put({[Yb]:e,value:n});return new ni(r).toPromise()})}function yV(t,e){return _(this,null,function*(){let n=al(t,!1).get(e),r=yield new ni(n).toPromise();return r===void 0?null:r.value})}function gb(t,e){let n=al(t,!0).delete(e);return new ni(n).toPromise()}var vV=800,_V=3,IV=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield Lg(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>_V)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return Kb()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=lV._getInstance(pV()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield hV(),!this.activeServiceWorker)return;this.sender=new Fg(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||fV()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Lg();return yield pb(n,nl,"1"),yield gb(n,nl),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>pb(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>yV(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>gb(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(o=>{let s=al(o,!1).getAll();return new ni(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),vV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),Zb=IV;var TW=jb("rcb"),DW=new ti(3e4,6e4);function EV(t,e){return e?Mn(e):(U(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ks=class extends Ws{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ig(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ig(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ig(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function wV(t){return qb(t.auth,new Ks(t),t.bypassAuthState)}function TV(t){let{auth:e,user:n}=t;return U(n,e,"internal-error"),rV(n,new Ks(t),t.bypassAuthState)}function DV(t){return _(this,null,function*(){let{auth:e,user:n}=t;return U(n,e,"internal-error"),nV(n,new Ks(t),t.bypassAuthState)})}var Vg=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wV;case"linkViaPopup":case"linkViaRedirect":return DV;case"reauthViaPopup":case"reauthViaRedirect":return TV;default:cn(this.auth,"internal-error")}}resolve(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var bW=new ti(2e3,1e4);var bV="pendingRedirect",Wu=new Map,jg=class t extends Vg{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Wu.get(this.auth._key());if(!e){try{let r=(yield CV(this.resolver,this.auth))?yield Gn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wu.set(this.auth._key(),e)}return this.bypassAuthState||Wu.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return Gn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Gn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function CV(t,e){return _(this,null,function*(){let n=RV(e),r=AV(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function SV(t,e){Wu.set(t._key(),e)}function AV(t){return Mn(t._redirectPersistence)}function RV(t){return zu(bV,t.config.apiKey,t.name)}function NV(t,e,n=!1){return _(this,null,function*(){if(vt(t.app))return Promise.reject(kn(t));let r=ri(t),i=EV(r,e),s=yield new jg(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var PV=10*60*1e3,Bg=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Jb(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ei(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PV&&this.cachedEventUids.clear(),this.cachedEventUids.has(mb(e))}saveEventToCache(e){this.cachedEventUids.add(mb(e)),this.lastProcessedEventTime=Date.now()}};function mb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Jb({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function MV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jb(t);default:return!1}}function kV(n){return _(this,arguments,function*(t,e={}){return xn(t,"GET","/v1/projects",e)})}var xV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OV=/^https?/;function FV(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield kV(t);for(let n of e)try{if(LV(n))return}catch{}cn(t,"unauthorized-domain")})}function LV(t){let e=wg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!OV.test(n))return!1;if(xV.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var VV=new ti(3e4,6e4);function yb(){let t=an().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jV(t){return new Promise((e,n)=>{var r,i,o;function s(){yb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yb(),n(ei(t,"network-request-failed"))},timeout:VV.get()})}if(!((i=(r=an().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=an().gapi)===null||o===void 0)&&o.load)s();else{let a=jb("iframefcb");return an()[a]=()=>{gapi.load?s():n(ei(t,"network-request-failed"))},Vb(`${qL()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Gu=null,e})}var Gu=null;function BV(t){return Gu=Gu||jV(t),Gu}var UV=new ti(5e3,15e3),$V="__/auth/iframe",HV="emulator/auth/iframe",qV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WV(t){let e=t.config;U(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?qg(e,HV):`https://${t.config.authDomain}/${$V}`,r={apiKey:e.apiKey,appName:t.name,v:ir},i=zV.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Fs(r).slice(1)}`}function GV(t){return _(this,null,function*(){let e=yield BV(t),n=an().gapi;return U(n,t,"internal-error"),e.open({where:document.body,url:WV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qV,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=ei(t,"network-request-failed"),a=an().setTimeout(()=>{o(s)},UV.get());function u(){an().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var KV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QV=500,YV=600,ZV="_blank",JV="http://localhost",ol=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function XV(t,e,n,r=QV,i=YV){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},KV),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Le().toLowerCase();n&&(a=Pb(l)?ZV:n),Rb(l)&&(e=e||JV,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,T])=>`${m}${y}=${T},`,"");if(VL(l)&&a!=="_self")return e2(e||"",a),new ol(null);let p=window.open(e||"",a,h);U(p,t,"popup-blocked");try{p.focus()}catch{}return new ol(p)}function e2(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var t2="__/auth/handler",n2="emulator/auth/handler",r2=encodeURIComponent("fac");function vb(t,e,n,r,i,o){return _(this,null,function*(){U(t.config.authDomain,t,"auth-domain-config-required"),U(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ir,eventId:i};if(e instanceof tl){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",kD(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof xg){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${r2}=${encodeURIComponent(u)}`:"";return`${i2(t)}?${Fs(a).slice(1)}${l}`})}function i2({config:t}){return t.emulator?qg(t,n2):`https://${t.authDomain}/${t2}`}var Eg="webStorageSupport",Ug=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=om,this._completeRedirectFn=NV,this._overrideRedirectResult=SV}_openPopup(e,n,r,i){return _(this,null,function*(){var o;lr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield vb(e,n,r,wg(),i);return XV(e,s,Gb())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield vb(e,n,r,wg(),i);return dV(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(lr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield GV(e),r=new Bg(e);return n.register("authEvent",i=>(U(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Eg,{type:Eg},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Eg];s!==void 0&&n(!!s),cn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Fb()||Nb()||Kg()}},Xb=Ug;var _b="@firebase/auth",Ib="1.10.4";var $g=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function o2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s2(t){Ut(new st("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;U(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lb(t)},l=new Rg(r,i,o,u);return WL(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ut(new st("auth-internal",e=>{let n=ri(e.getProvider("auth").getImmediate());return(r=>new $g(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ce(_b,Ib,o2(t)),Ce(_b,Ib,"esm2017")}var a2=5*60,c2=Qp("authIdTokenMaxAge")||a2,Eb=null,u2=t=>e=>_(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>c2)return;let i=n?.token;Eb!==i&&(Eb=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function sm(t=Zr()){let e=Zi(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Qg(t,{popupRedirectResolver:Xb,persistence:[Zb,Wb,om]}),r=Qp("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=u2(o.toString());nm(n,s,()=>s(n.currentUser)),tm(n,a=>s(a))}}let i=Gp("auth");return i?Yg(n,`http://${i}`):Ki("Auth",!1),n}function l2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}$L({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=ei("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",l2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s2("Browser");var eC="auth",Ys=class{constructor(e){return e}},Zs=class{constructor(){return Xi(eC)}};var am=new Q("angularfire2.auth-instances");function Z2(t,e){let n=js(eC,t,e);return n&&new Ys(n)}function J2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ys(r)}}var X2={provide:Zs,deps:[[new Et,am]]},ej={provide:Ys,useFactory:Z2,deps:[[new Et,am],Nn]};function dG(t,...e){return Ce("angularfire",or.full,"auth"),nr([ej,X2,{provide:am,useFactory:J2(t),multi:!0,deps:[Ie,Ke,sr,Xr,[new Et,eo],...e]}])}var hG=Se(Jg,!0,2);var fG=Se(sm,!0);var pG=Se(rm,!0);var gG=Se(Xg,!0,2);var mG=Se(im,!0,2);var yG=Se(em,!0,2);var tC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nC={};var On,cm;(function(){var t;function e(D,v){function E(){}E.prototype=v.prototype,D.D=v.prototype,D.prototype=new E,D.prototype.constructor=D,D.C=function(w,b,S){for(var I=Array(arguments.length-2),gn=2;gn<arguments.length;gn++)I[gn-2]=arguments[gn];return v.prototype[b].apply(w,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,E){E||(E=0);var w=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)w[b]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(b=0;16>b;++b)w[b]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=D.g[0],E=D.g[1],b=D.g[2];var S=D.g[3],I=v+(S^E&(b^S))+w[0]+3614090360&4294967295;v=E+(I<<7&4294967295|I>>>25),I=S+(b^v&(E^b))+w[1]+3905402710&4294967295,S=v+(I<<12&4294967295|I>>>20),I=b+(E^S&(v^E))+w[2]+606105819&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(v^b&(S^v))+w[3]+3250441966&4294967295,E=b+(I<<22&4294967295|I>>>10),I=v+(S^E&(b^S))+w[4]+4118548399&4294967295,v=E+(I<<7&4294967295|I>>>25),I=S+(b^v&(E^b))+w[5]+1200080426&4294967295,S=v+(I<<12&4294967295|I>>>20),I=b+(E^S&(v^E))+w[6]+2821735955&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(v^b&(S^v))+w[7]+4249261313&4294967295,E=b+(I<<22&4294967295|I>>>10),I=v+(S^E&(b^S))+w[8]+1770035416&4294967295,v=E+(I<<7&4294967295|I>>>25),I=S+(b^v&(E^b))+w[9]+2336552879&4294967295,S=v+(I<<12&4294967295|I>>>20),I=b+(E^S&(v^E))+w[10]+4294925233&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(v^b&(S^v))+w[11]+2304563134&4294967295,E=b+(I<<22&4294967295|I>>>10),I=v+(S^E&(b^S))+w[12]+1804603682&4294967295,v=E+(I<<7&4294967295|I>>>25),I=S+(b^v&(E^b))+w[13]+4254626195&4294967295,S=v+(I<<12&4294967295|I>>>20),I=b+(E^S&(v^E))+w[14]+2792965006&4294967295,b=S+(I<<17&4294967295|I>>>15),I=E+(v^b&(S^v))+w[15]+1236535329&4294967295,E=b+(I<<22&4294967295|I>>>10),I=v+(b^S&(E^b))+w[1]+4129170786&4294967295,v=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(v^E))+w[6]+3225465664&4294967295,S=v+(I<<9&4294967295|I>>>23),I=b+(v^E&(S^v))+w[11]+643717713&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^v&(b^S))+w[0]+3921069994&4294967295,E=b+(I<<20&4294967295|I>>>12),I=v+(b^S&(E^b))+w[5]+3593408605&4294967295,v=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(v^E))+w[10]+38016083&4294967295,S=v+(I<<9&4294967295|I>>>23),I=b+(v^E&(S^v))+w[15]+3634488961&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^v&(b^S))+w[4]+3889429448&4294967295,E=b+(I<<20&4294967295|I>>>12),I=v+(b^S&(E^b))+w[9]+568446438&4294967295,v=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(v^E))+w[14]+3275163606&4294967295,S=v+(I<<9&4294967295|I>>>23),I=b+(v^E&(S^v))+w[3]+4107603335&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^v&(b^S))+w[8]+1163531501&4294967295,E=b+(I<<20&4294967295|I>>>12),I=v+(b^S&(E^b))+w[13]+2850285829&4294967295,v=E+(I<<5&4294967295|I>>>27),I=S+(E^b&(v^E))+w[2]+4243563512&4294967295,S=v+(I<<9&4294967295|I>>>23),I=b+(v^E&(S^v))+w[7]+1735328473&4294967295,b=S+(I<<14&4294967295|I>>>18),I=E+(S^v&(b^S))+w[12]+2368359562&4294967295,E=b+(I<<20&4294967295|I>>>12),I=v+(E^b^S)+w[5]+4294588738&4294967295,v=E+(I<<4&4294967295|I>>>28),I=S+(v^E^b)+w[8]+2272392833&4294967295,S=v+(I<<11&4294967295|I>>>21),I=b+(S^v^E)+w[11]+1839030562&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^v)+w[14]+4259657740&4294967295,E=b+(I<<23&4294967295|I>>>9),I=v+(E^b^S)+w[1]+2763975236&4294967295,v=E+(I<<4&4294967295|I>>>28),I=S+(v^E^b)+w[4]+1272893353&4294967295,S=v+(I<<11&4294967295|I>>>21),I=b+(S^v^E)+w[7]+4139469664&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^v)+w[10]+3200236656&4294967295,E=b+(I<<23&4294967295|I>>>9),I=v+(E^b^S)+w[13]+681279174&4294967295,v=E+(I<<4&4294967295|I>>>28),I=S+(v^E^b)+w[0]+3936430074&4294967295,S=v+(I<<11&4294967295|I>>>21),I=b+(S^v^E)+w[3]+3572445317&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^v)+w[6]+76029189&4294967295,E=b+(I<<23&4294967295|I>>>9),I=v+(E^b^S)+w[9]+3654602809&4294967295,v=E+(I<<4&4294967295|I>>>28),I=S+(v^E^b)+w[12]+3873151461&4294967295,S=v+(I<<11&4294967295|I>>>21),I=b+(S^v^E)+w[15]+530742520&4294967295,b=S+(I<<16&4294967295|I>>>16),I=E+(b^S^v)+w[2]+3299628645&4294967295,E=b+(I<<23&4294967295|I>>>9),I=v+(b^(E|~S))+w[0]+4096336452&4294967295,v=E+(I<<6&4294967295|I>>>26),I=S+(E^(v|~b))+w[7]+1126891415&4294967295,S=v+(I<<10&4294967295|I>>>22),I=b+(v^(S|~E))+w[14]+2878612391&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~v))+w[5]+4237533241&4294967295,E=b+(I<<21&4294967295|I>>>11),I=v+(b^(E|~S))+w[12]+1700485571&4294967295,v=E+(I<<6&4294967295|I>>>26),I=S+(E^(v|~b))+w[3]+2399980690&4294967295,S=v+(I<<10&4294967295|I>>>22),I=b+(v^(S|~E))+w[10]+4293915773&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~v))+w[1]+2240044497&4294967295,E=b+(I<<21&4294967295|I>>>11),I=v+(b^(E|~S))+w[8]+1873313359&4294967295,v=E+(I<<6&4294967295|I>>>26),I=S+(E^(v|~b))+w[15]+4264355552&4294967295,S=v+(I<<10&4294967295|I>>>22),I=b+(v^(S|~E))+w[6]+2734768916&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~v))+w[13]+1309151649&4294967295,E=b+(I<<21&4294967295|I>>>11),I=v+(b^(E|~S))+w[4]+4149444226&4294967295,v=E+(I<<6&4294967295|I>>>26),I=S+(E^(v|~b))+w[11]+3174756917&4294967295,S=v+(I<<10&4294967295|I>>>22),I=b+(v^(S|~E))+w[2]+718787259&4294967295,b=S+(I<<15&4294967295|I>>>17),I=E+(S^(b|~v))+w[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(b+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+S&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var E=v-this.blockSize,w=this.B,b=this.h,S=0;S<v;){if(b==0)for(;S<=E;)i(this,D,S),S+=this.blockSize;if(typeof D=="string"){for(;S<v;)if(w[b++]=D.charCodeAt(S++),b==this.blockSize){i(this,w),b=0;break}}else for(;S<v;)if(w[b++]=D[S++],b==this.blockSize){i(this,w),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var E=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=E&255,E/=256;for(this.u(D),D=Array(16),v=E=0;4>v;++v)for(var w=0;32>w;w+=8)D[E++]=this.g[v]>>>w&255;return D};function o(D,v){var E=a;return Object.prototype.hasOwnProperty.call(E,D)?E[D]:E[D]=v(D)}function s(D,v){this.h=v;for(var E=[],w=!0,b=D.length-1;0<=b;b--){var S=D[b]|0;w&&S==v||(E[b]=S,w=!1)}this.g=E}var a={};function u(D){return-128<=D&&128>D?o(D,function(v){return new s([v|0],0>v?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return N(l(-D));for(var v=[],E=1,w=0;D>=E;w++)v[w]=D/E|0,E*=4294967296;return new s(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return N(h(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),w=p,b=0;b<D.length;b+=8){var S=Math.min(8,D.length-b),I=parseInt(D.substring(b,b+S),v);8>S?(S=l(Math.pow(v,S)),w=w.j(S).add(l(I))):(w=w.j(E),w=w.add(l(I)))}return w}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(R(this))return-N(this).m();for(var D=0,v=1,E=0;E<this.g.length;E++){var w=this.i(E);D+=(0<=w?w:4294967296+w)*v,v*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(T(this))return"0";if(R(this))return"-"+N(this).toString(D);for(var v=l(Math.pow(D,6)),E=this,w="";;){var b=ce(E,v).g;E=x(E,b.j(v));var S=((0<E.g.length?E.g[0]:E.h)>>>0).toString(D);if(E=b,T(E))return S+w;for(;6>S.length;)S="0"+S;w=S+w}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function T(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function R(D){return D.h==-1}t.l=function(D){return D=x(this,D),R(D)?-1:T(D)?0:1};function N(D){for(var v=D.g.length,E=[],w=0;w<v;w++)E[w]=~D.g[w];return new s(E,~D.h).add(m)}t.abs=function(){return R(this)?N(this):this},t.add=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],w=0,b=0;b<=v;b++){var S=w+(this.i(b)&65535)+(D.i(b)&65535),I=(S>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);w=I>>>16,S&=65535,I&=65535,E[b]=I<<16|S}return new s(E,E[E.length-1]&-2147483648?-1:0)};function x(D,v){return D.add(N(v))}t.j=function(D){if(T(this)||T(D))return p;if(R(this))return R(D)?N(this).j(N(D)):N(N(this).j(D));if(R(D))return N(this.j(N(D)));if(0>this.l(y)&&0>D.l(y))return l(this.m()*D.m());for(var v=this.g.length+D.g.length,E=[],w=0;w<2*v;w++)E[w]=0;for(w=0;w<this.g.length;w++)for(var b=0;b<D.g.length;b++){var S=this.i(w)>>>16,I=this.i(w)&65535,gn=D.i(b)>>>16,Po=D.i(b)&65535;E[2*w+2*b]+=I*Po,L(E,2*w+2*b),E[2*w+2*b+1]+=S*Po,L(E,2*w+2*b+1),E[2*w+2*b+1]+=I*gn,L(E,2*w+2*b+1),E[2*w+2*b+2]+=S*gn,L(E,2*w+2*b+2)}for(w=0;w<v;w++)E[w]=E[2*w+1]<<16|E[2*w];for(w=v;w<2*v;w++)E[w]=0;return new s(E,0)};function L(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function $(D,v){this.g=D,this.h=v}function ce(D,v){if(T(v))throw Error("division by zero");if(T(D))return new $(p,p);if(R(D))return v=ce(N(D),v),new $(N(v.g),N(v.h));if(R(v))return v=ce(D,N(v)),new $(N(v.g),v.h);if(30<D.g.length){if(R(D)||R(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,w=v;0>=w.l(D);)E=Fe(E),w=Fe(w);var b=le(E,1),S=le(w,1);for(w=le(w,2),E=le(E,2);!T(w);){var I=S.add(w);0>=I.l(D)&&(b=b.add(E),S=I),w=le(w,1),E=le(E,1)}return v=x(D,b.j(v)),new $(b,v)}for(b=p;0<=D.l(v);){for(E=Math.max(1,Math.floor(D.m()/v.m())),w=Math.ceil(Math.log(E)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),S=l(E),I=S.j(v);R(I)||0<I.l(D);)E-=w,S=l(E),I=S.j(v);T(S)&&(S=m),b=b.add(S),D=x(D,I)}return new $(b,D)}t.A=function(D){return ce(this,D).h},t.and=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)&D.i(w);return new s(E,this.h&D.h)},t.or=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)|D.i(w);return new s(E,this.h|D.h)},t.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)^D.i(w);return new s(E,this.h^D.h)};function Fe(D){for(var v=D.g.length+1,E=[],w=0;w<v;w++)E[w]=D.i(w)<<1|D.i(w-1)>>>31;return new s(E,D.h)}function le(D,v){var E=v>>5;v%=32;for(var w=D.g.length-E,b=[],S=0;S<w;S++)b[S]=0<v?D.i(S+E)>>>v|D.i(S+E+1)<<32-v:D.i(S+E);return new s(b,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,cm=nC.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,On=nC.Integer=s}).apply(typeof tC<"u"?tC:typeof self<"u"?self:typeof window<"u"?window:{});var cl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fn={};var um,tj,ro,lm,Js,ul,dm,hm,fm;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof cl=="object"&&cl];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var C=c[g];if(!(C in f))break e;f=f[C]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,C={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function T(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,C,A){for(var k=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)k[pe-2]=arguments[pe];return d.prototype[C].apply(g,k)}}function R(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function N(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=c.length||0,A=g.length||0;c.length=C+A;for(let k=0;k<A;k++)c[C+k]=g[k]}else c.push(g)}}class x{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function L(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ce(c){return ce[" "](c),c}ce[" "]=function(){};var Fe=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function le(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function D(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)c[f]=g[f];for(let A=0;A<E.length;A++)f=E[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function I(){var c=ud;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class gn{constructor(){this.h=this.g=null}add(d,f){let g=Po.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Po=new x(()=>new xS,c=>c.reset());class xS{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Mo,ko=!1,ud=new gn,Mv=()=>{let c=a.Promise.resolve(void 0);Mo=()=>{c.then(OS)}};var OS=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){S(f)}var d=Po;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}ko=!1};function Hn(){this.s=this.s,this.C=this.C}Hn.prototype.s=!1,Hn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Hn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function He(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}He.prototype.h=function(){this.defaultPrevented=!0};var FS=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function xo(c,d){if(He.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Fe){e:{try{ce(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:LS[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xo.aa.h.call(this)}}T(xo,He);var LS={2:"touch",3:"pen",4:"mouse"};xo.prototype.h=function(){xo.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Oo="closure_listenable_"+(1e6*Math.random()|0),VS=0;function jS(c,d,f,g,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++VS,this.da=this.fa=!1}function Ea(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function wa(c){this.src=c,this.g={},this.h=0}wa.prototype.add=function(c,d,f,g,C){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var k=dd(c,d,g,C);return-1<k?(d=c[k],f||(d.fa=!1)):(d=new jS(d,this.src,A,!!g,C),d.fa=f,c.push(d)),d};function ld(c,d){var f=d.type;if(f in c.g){var g=c.g[f],C=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(g,C,1),A&&(Ea(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function dd(c,d,f,g){for(var C=0;C<c.length;++C){var A=c[C];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return C}return-1}var hd="closure_lm_"+(1e6*Math.random()|0),fd={};function kv(c,d,f,g,C){if(g&&g.once)return Ov(c,d,f,g,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)kv(c,d[A],f,g,C);return null}return f=yd(f),c&&c[Oo]?c.K(d,f,l(g)?!!g.capture:!!g,C):xv(c,d,f,!1,g,C)}function xv(c,d,f,g,C,A){if(!d)throw Error("Invalid event type");var k=l(C)?!!C.capture:!!C,pe=gd(c);if(pe||(c[hd]=pe=new wa(c)),f=pe.add(d,f,g,k,A),f.proxy)return f;if(g=BS(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)FS||(C=k),C===void 0&&(C=!1),c.addEventListener(d.toString(),g,C);else if(c.attachEvent)c.attachEvent(Lv(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function BS(){function c(f){return d.call(c.src,c.listener,f)}let d=US;return c}function Ov(c,d,f,g,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)Ov(c,d[A],f,g,C);return null}return f=yd(f),c&&c[Oo]?c.L(d,f,l(g)?!!g.capture:!!g,C):xv(c,d,f,!0,g,C)}function Fv(c,d,f,g,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)Fv(c,d[A],f,g,C);else g=l(g)?!!g.capture:!!g,f=yd(f),c&&c[Oo]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=dd(A,f,g,C),-1<f&&(Ea(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=gd(c))&&(d=c.g[d.toString()],c=-1,d&&(c=dd(d,f,g,C)),(f=-1<c?d[c]:null)&&pd(f))}function pd(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Oo])ld(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(Lv(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=gd(d))?(ld(f,c),f.h==0&&(f.src=null,d[hd]=null)):Ea(c)}}}function Lv(c){return c in fd?fd[c]:fd[c]="on"+c}function US(c,d){if(c.da)c=!0;else{d=new xo(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&pd(c),c=f.call(g,d)}return c}function gd(c){return c=c[hd],c instanceof wa?c:null}var md="__closure_events_fn_"+(1e9*Math.random()>>>0);function yd(c){return typeof c=="function"?c:(c[md]||(c[md]=function(d){return c.handleEvent(d)}),c[md])}function qe(){Hn.call(this),this.i=new wa(this),this.M=this,this.F=null}T(qe,Hn),qe.prototype[Oo]=!0,qe.prototype.removeEventListener=function(c,d,f,g){Fv(this,c,d,f,g)};function Xe(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new He(d,c);else if(d instanceof He)d.target=d.target||c;else{var C=d;d=new He(g,c),w(d,C)}if(C=!0,f)for(var A=f.length-1;0<=A;A--){var k=d.g=f[A];C=Ta(k,g,!0,d)&&C}if(k=d.g=c,C=Ta(k,g,!0,d)&&C,C=Ta(k,g,!1,d)&&C,f)for(A=0;A<f.length;A++)k=d.g=f[A],C=Ta(k,g,!1,d)&&C}qe.prototype.N=function(){if(qe.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Ea(f[g]);delete c.g[d],c.h--}}this.F=null},qe.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},qe.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Ta(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var k=d[A];if(k&&!k.da&&k.capture==f){var pe=k.listener,Be=k.ha||k.src;k.fa&&ld(c.i,k),C=pe.call(Be,g)!==!1&&C}}return C&&!g.defaultPrevented}function Vv(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function jv(c){c.g=Vv(()=>{c.g=null,c.i&&(c.i=!1,jv(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class $S extends Hn{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:jv(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fo(c){Hn.call(this),this.h=c,this.g={}}T(Fo,Hn);var Bv=[];function Uv(c){le(c.g,function(d,f){this.g.hasOwnProperty(f)&&pd(d)},c),c.g={}}Fo.prototype.N=function(){Fo.aa.N.call(this),Uv(this)},Fo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vd=a.JSON.stringify,HS=a.JSON.parse,qS=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function _d(){}_d.prototype.h=null;function $v(c){return c.h||(c.h=c.i())}function Hv(){}var Lo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Id(){He.call(this,"d")}T(Id,He);function Ed(){He.call(this,"c")}T(Ed,He);var yr={},qv=null;function Da(){return qv=qv||new qe}yr.La="serverreachability";function zv(c){He.call(this,yr.La,c)}T(zv,He);function Vo(c){let d=Da();Xe(d,new zv(d))}yr.STAT_EVENT="statevent";function Wv(c,d){He.call(this,yr.STAT_EVENT,c),this.stat=d}T(Wv,He);function et(c){let d=Da();Xe(d,new Wv(d,c))}yr.Ma="timingevent";function Gv(c,d){He.call(this,yr.Ma,c),this.size=d}T(Gv,He);function jo(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Bo(){this.g=!0}Bo.prototype.xa=function(){this.g=!1};function zS(c,d,f,g,C,A){c.info(function(){if(c.g)if(A)for(var k="",pe=A.split("&"),Be=0;Be<pe.length;Be++){var ae=pe[Be].split("=");if(1<ae.length){var ze=ae[0];ae=ae[1];var We=ze.split("_");k=2<=We.length&&We[1]=="type"?k+(ze+"="+ae+"&"):k+(ze+"=redacted&")}}else k=null;else k=A;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+k})}function WS(c,d,f,g,C,A,k){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+A+" "+k})}function mi(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+KS(c,f)+(g?" "+g:"")})}function GS(c,d){c.info(function(){return"TIMEOUT: "+d})}Bo.prototype.info=function(){};function KS(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var k=1;k<C.length;k++)C[k]=""}}}}return vd(f)}catch{return d}}var ba={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Kv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wd;function Ca(){}T(Ca,_d),Ca.prototype.g=function(){return new XMLHttpRequest},Ca.prototype.i=function(){return{}},wd=new Ca;function qn(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Fo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qv}function Qv(){this.i=null,this.g="",this.h=!1}var Yv={},Td={};function Dd(c,d,f){c.L=1,c.v=Na(mn(d)),c.m=f,c.P=!0,Zv(c,null)}function Zv(c,d){c.F=Date.now(),Sa(c),c.A=mn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),d_(f.i,"t",g),c.C=0,f=c.j.J,c.h=new Qv,c.g=R_(c.j,f?d:null,!c.m),0<c.O&&(c.M=new $S(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(Bv[0]=C.toString()),C=Bv);for(var A=0;A<C.length;A++){var k=kv(f,C[A],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Vo(),zS(c.i,c.u,c.A,c.l,c.R,c.m)}qn.prototype.ca=function(c){c=c.target;let d=this.M;d&&yn(c)==3?d.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)e:{let We=yn(this.g);var d=this.g.Ba();let _i=this.g.Z();if(!(3>We)&&(We!=3||this.g&&(this.h.h||this.g.oa()||v_(this.g)))){this.J||We!=4||d==7||(d==8||0>=_i?Vo(3):Vo(2)),bd(this);var f=this.g.Z();this.X=f;t:if(Jv(this)){var g=v_(this.g);c="";var C=g.length,A=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vr(this),Uo(this);var k="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==C-1)});g.length=0,this.h.g+=c,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=f==200,WS(this.i,this.u,this.A,this.l,this.R,We,f),this.o){if(this.T&&!this.K){t:{if(this.g){var pe,Be=this.g;if((pe=Be.g?Be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(pe)){var ae=pe;break t}}ae=null}if(f=ae)mi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cd(this,f);else{this.o=!1,this.s=3,et(12),vr(this),Uo(this);break e}}if(this.P){f=!0;let kt;for(;!this.J&&this.C<k.length;)if(kt=QS(this,k),kt==Td){We==4&&(this.s=4,et(14),f=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==Yv){this.s=4,et(15),mi(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else mi(this.i,this.l,kt,null),Cd(this,kt);if(Jv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),We!=4||k.length!=0||this.h.h||(this.s=1,et(16),f=!1),this.o=this.o&&f,!f)mi(this.i,this.l,k,"[Invalid Chunked Response]"),vr(this),Uo(this);else if(0<k.length&&!this.W){this.W=!0;var ze=this.j;ze.g==this&&ze.ba&&!ze.M&&(ze.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Md(ze),ze.M=!0,et(11))}}else mi(this.i,this.l,k,null),Cd(this,k);We==4&&vr(this),this.o&&!this.J&&(We==4?b_(this.j,this):(this.o=!1,Sa(this)))}else hA(this.g),f==400&&0<k.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),vr(this),Uo(this)}}}catch{}finally{}};function Jv(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function QS(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Td:(f=Number(d.substring(f,g)),isNaN(f)?Yv:(g+=1,g+f>d.length?Td:(d=d.slice(g,g+f),c.C=g+f,d)))}qn.prototype.cancel=function(){this.J=!0,vr(this)};function Sa(c){c.S=Date.now()+c.I,Xv(c,c.I)}function Xv(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=jo(m(c.ba,c),d)}function bd(c){c.B&&(a.clearTimeout(c.B),c.B=null)}qn.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(GS(this.i,this.A),this.L!=2&&(Vo(),et(17)),vr(this),this.s=2,Uo(this)):Xv(this,this.S-c)};function Uo(c){c.j.G==0||c.J||b_(c.j,c)}function vr(c){bd(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Uv(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Cd(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Sd(f.h,c))){if(!c.K&&Sd(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Oa(f),ka(f);else break e;Pd(f),et(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=jo(m(f.Za,f),6e3));if(1>=n_(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ir(f,11)}else if((c.K||f.g==c)&&Oa(f),!L(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let ae=C[d];if(f.T=ae[0],ae=ae[1],f.G==2)if(ae[0]=="c"){f.K=ae[1],f.ia=ae[2];let ze=ae[3];ze!=null&&(f.la=ze,f.j.info("VER="+f.la));let We=ae[4];We!=null&&(f.Aa=We,f.j.info("SVER="+f.Aa));let _i=ae[5];_i!=null&&typeof _i=="number"&&0<_i&&(g=1.5*_i,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let kt=c.g;if(kt){let La=kt.g?kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(La){var A=g.h;A.g||La.indexOf("spdy")==-1&&La.indexOf("quic")==-1&&La.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Ad(A,A.h),A.h=null))}if(g.D){let kd=kt.g?kt.g.getResponseHeader("X-HTTP-Session-Id"):null;kd&&(g.ya=kd,ve(g.I,g.D,kd))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var k=c;if(g.qa=A_(g,g.J?g.ia:null,g.W),k.K){r_(g.h,k);var pe=k,Be=g.L;Be&&(pe.I=Be),pe.B&&(bd(pe),Sa(pe)),g.g=k}else T_(g);0<f.i.length&&xa(f)}else ae[0]!="stop"&&ae[0]!="close"||Ir(f,7);else f.G==3&&(ae[0]=="stop"||ae[0]=="close"?ae[0]=="stop"?Ir(f,7):Nd(f):ae[0]!="noop"&&f.l&&f.l.ta(ae),f.v=0)}}Vo(4)}catch{}}var YS=class{constructor(c,d){this.g=c,this.map=d}};function e_(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function t_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function n_(c){return c.h?1:c.g?c.g.size:0}function Sd(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Ad(c,d){c.g?c.g.add(d):c.h=d}function r_(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}e_.prototype.cancel=function(){if(this.i=i_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function i_(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return R(c.i)}function ZS(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function JS(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function o_(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=JS(c),g=ZS(c),C=g.length,A=0;A<C;A++)d.call(void 0,g[A],f&&f[A],c)}var s_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function XS(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),C=null;if(0<=g){var A=c[f].substring(0,g);C=c[f].substring(g+1)}else A=c[f];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function _r(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _r){this.h=c.h,Aa(this,c.j),this.o=c.o,this.g=c.g,Ra(this,c.s),this.l=c.l;var d=c.i,f=new qo;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),a_(this,f),this.m=c.m}else c&&(d=String(c).match(s_))?(this.h=!1,Aa(this,d[1]||"",!0),this.o=$o(d[2]||""),this.g=$o(d[3]||"",!0),Ra(this,d[4]),this.l=$o(d[5]||"",!0),a_(this,d[6]||"",!0),this.m=$o(d[7]||"")):(this.h=!1,this.i=new qo(null,this.h))}_r.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Ho(d,c_,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ho(d,c_,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Ho(f,f.charAt(0)=="/"?nA:tA,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Ho(f,iA)),c.join("")};function mn(c){return new _r(c)}function Aa(c,d,f){c.j=f?$o(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Ra(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function a_(c,d,f){d instanceof qo?(c.i=d,oA(c.i,c.h)):(f||(d=Ho(d,rA)),c.i=new qo(d,c.h))}function ve(c,d,f){c.i.set(d,f)}function Na(c){return ve(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function $o(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ho(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,eA),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function eA(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var c_=/[#\/\?@]/g,tA=/[#\?:]/g,nA=/[#\?]/g,rA=/[#\?@]/g,iA=/#/g;function qo(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function zn(c){c.g||(c.g=new Map,c.h=0,c.i&&XS(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=qo.prototype,t.add=function(c,d){zn(this),this.i=null,c=yi(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function u_(c,d){zn(c),d=yi(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function l_(c,d){return zn(c),d=yi(c,d),c.g.has(d)}t.forEach=function(c,d){zn(this),this.g.forEach(function(f,g){f.forEach(function(C){c.call(d,C,g,this)},this)},this)},t.na=function(){zn(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=c[g];for(let A=0;A<C.length;A++)f.push(d[g])}return f},t.V=function(c){zn(this);let d=[];if(typeof c=="string")l_(this,c)&&(d=d.concat(this.g.get(yi(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return zn(this),this.i=null,c=yi(this,c),l_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function d_(c,d,f){u_(c,d),0<f.length&&(c.i=null,c.g.set(yi(c,d),R(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var C=A;k[g]!==""&&(C+="="+encodeURIComponent(String(k[g]))),c.push(C)}}return this.i=c.join("&")};function yi(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function oA(c,d){d&&!c.j&&(zn(c),c.i=null,c.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(u_(this,g),d_(this,C,f))},c)),c.j=d}function sA(c,d){let f=new Bo;if(a.Image){let g=new Image;g.onload=y(Wn,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Wn,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Wn,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Wn,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function aA(c,d){let f=new Bo,g=new AbortController,C=setTimeout(()=>{g.abort(),Wn(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(C),A.ok?Wn(f,"TestPingServer: ok",!0,d):Wn(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Wn(f,"TestPingServer: error",!1,d)})}function Wn(c,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function cA(){this.g=new qS}function uA(c,d,f){let g=f||"";try{o_(c,function(C,A){let k=C;l(C)&&(k=vd(C)),d.push(g+A+"="+encodeURIComponent(k))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function zo(c){this.l=c.Ub||null,this.j=c.eb||!1}T(zo,_d),zo.prototype.g=function(){return new Pa(this.l,this.j)},zo.prototype.i=function(c){return function(){return c}}({});function Pa(c,d){qe.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Pa,qe),t=Pa.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Go(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Go(this)),this.g&&(this.readyState=3,Go(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;h_(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function h_(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Wo(this):Go(this),this.readyState==3&&h_(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Wo(this))},t.Qa=function(c){this.g&&(this.response=c,Wo(this))},t.ga=function(){this.g&&Wo(this)};function Wo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Go(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Go(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function f_(c){let d="";return le(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Rd(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=f_(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):ve(c,d,f))}function Te(c){qe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Te,qe);var lA=/^https?$/i,dA=["POST","PUT"];t=Te.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wd.g(),this.v=this.o?$v(this.o):$v(wd),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){p_(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(dA,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,k]of f)this.g.setRequestHeader(A,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{y_(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){p_(this,A)}};function p_(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,g_(c),Ma(c)}function g_(c){c.A||(c.A=!0,Xe(c,"complete"),Xe(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Xe(this,"complete"),Xe(this,"abort"),Ma(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ma(this,!0)),Te.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?m_(this):this.bb())},t.bb=function(){m_(this)};function m_(c){if(c.h&&typeof s<"u"&&(!c.v[1]||yn(c)!=4||c.Z()!=2)){if(c.u&&yn(c)==4)Vv(c.Ea,0,c);else if(Xe(c,"readystatechange"),yn(c)==4){c.h=!1;try{let k=c.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=k===0){var C=String(c.D).match(s_)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),g=!lA.test(C?C.toLowerCase():"")}f=g}if(f)Xe(c,"complete"),Xe(c,"success");else{c.m=6;try{var A=2<yn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",g_(c)}}finally{Ma(c)}}}}function Ma(c,d){if(c.g){y_(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Xe(c,"ready");try{f.onreadystatechange=g}catch{}}}function y_(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function yn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),HS(d)}};function v_(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function hA(c){let d={};c=(c.g&&2<=yn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(L(c[g]))continue;var f=b(c[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[C]||[];d[C]=A,A.push(f)}D(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ko(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function __(c){this.Aa=0,this.i=[],this.j=new Bo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ko("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ko("baseRetryDelayMs",5e3,c),this.cb=Ko("retryDelaySeedMs",1e4,c),this.Wa=Ko("forwardChannelMaxRetries",2,c),this.wa=Ko("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new e_(c&&c.concurrentRequestLimit),this.Da=new cA,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=__.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){et(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=A_(this,null,this.W),xa(this)};function Nd(c){if(I_(c),c.G==3){var d=c.U++,f=mn(c.I);if(ve(f,"SID",c.K),ve(f,"RID",d),ve(f,"TYPE","terminate"),Qo(c,f),d=new qn(c,c.j,d),d.L=2,d.v=Na(mn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=R_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Sa(d)}S_(c)}function ka(c){c.g&&(Md(c),c.g.cancel(),c.g=null)}function I_(c){ka(c),c.u&&(a.clearTimeout(c.u),c.u=null),Oa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function xa(c){if(!t_(c.h)&&!c.s){c.s=!0;var d=c.Ga;Mo||Mv(),ko||(Mo(),ko=!0),ud.add(d,c),c.B=0}}function fA(c,d){return n_(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=jo(m(c.Ga,c,d),C_(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new qn(this,this.j,c),A=this.o;if(this.S&&(A?(A=v(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=w_(this,C,d),f=mn(this.I),ve(f,"RID",c),ve(f,"CVER",22),this.D&&ve(f,"X-HTTP-Session-Id",this.D),Qo(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(f_(A)))+"&"+d:this.m&&Rd(f,this.m,A)),Ad(this.h,C),this.Ua&&ve(f,"TYPE","init"),this.P?(ve(f,"$req",d),ve(f,"SID","null"),C.T=!0,Dd(C,f,null)):Dd(C,f,d),this.G=2}}else this.G==3&&(c?E_(this,c):this.i.length==0||t_(this.h)||E_(this))};function E_(c,d){var f;d?f=d.l:f=c.U++;let g=mn(c.I);ve(g,"SID",c.K),ve(g,"RID",f),ve(g,"AID",c.T),Qo(c,g),c.m&&c.o&&Rd(g,c.m,c.o),f=new qn(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=w_(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ad(c.h,f),Dd(f,g,d)}function Qo(c,d){c.H&&le(c.H,function(f,g){ve(d,g,f)}),c.l&&o_({},function(f,g){ve(d,g,f)})}function w_(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var C=c.i;let A=-1;for(;;){let k=["count="+f];A==-1?0<f?(A=C[0].g,k.push("ofs="+A)):A=0:k.push("ofs="+A);let pe=!0;for(let Be=0;Be<f;Be++){let ae=C[Be].g,ze=C[Be].map;if(ae-=A,0>ae)A=Math.max(0,C[Be].g-100),pe=!1;else try{uA(ze,k,"req"+ae+"_")}catch{g&&g(ze)}}if(pe){g=k.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function T_(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Mo||Mv(),ko||(Mo(),ko=!0),ud.add(d,c),c.v=0}}function Pd(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=jo(m(c.Fa,c),C_(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,D_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=jo(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),ka(this),D_(this))};function Md(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function D_(c){c.g=new qn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=mn(c.qa);ve(d,"RID","rpc"),ve(d,"SID",c.K),ve(d,"AID",c.T),ve(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&ve(d,"TO",c.ja),ve(d,"TYPE","xmlhttp"),Qo(c,d),c.m&&c.o&&Rd(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Na(mn(d)),f.m=null,f.P=!0,Zv(f,c)}t.Za=function(){this.C!=null&&(this.C=null,ka(this),Pd(this),et(19))};function Oa(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function b_(c,d){var f=null;if(c.g==d){Oa(c),Md(c),c.g=null;var g=2}else if(Sd(c.h,d))f=d.D,r_(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;g=Da(),Xe(g,new Gv(g,f)),xa(c)}else T_(c);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&fA(c,d)||g==2&&Pd(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:Ir(c,5);break;case 4:Ir(c,10);break;case 3:Ir(c,6);break;default:Ir(c,2)}}}function C_(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Ir(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let C=!g;g=new _r(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Aa(g,"https"),Na(g),C?sA(g.toString(),f):aA(g.toString(),f)}else et(2);c.G=0,c.l&&c.l.sa(d),S_(c),I_(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function S_(c){if(c.G=0,c.ka=[],c.l){let d=i_(c.h);(d.length!=0||c.i.length!=0)&&(N(c.ka,d),N(c.ka,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.ra()}}function A_(c,d,f){var g=f instanceof _r?mn(f):new _r(f);if(g.g!="")d&&(g.g=d+"."+g.g),Ra(g,g.s);else{var C=a.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new _r(null);g&&Aa(A,g),d&&(A.g=d),C&&Ra(A,C),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&ve(g,f,d),ve(g,"VER",c.la),Qo(c,g),g}function R_(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Te(new zo({eb:f})):new Te(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function N_(){}t=N_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Fa(){}Fa.prototype.g=function(c,d){return new _t(c,d)};function _t(c,d){qe.call(this),this.g=new __(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!L(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!L(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new vi(this)}T(_t,qe),_t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_t.prototype.close=function(){Nd(this.g)},_t.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=vd(c),c=f);d.i.push(new YS(d.Ya++,c)),d.G==3&&xa(d)},_t.prototype.N=function(){this.g.l=null,delete this.j,Nd(this.g),delete this.g,_t.aa.N.call(this)};function P_(c){Id.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}T(P_,Id);function M_(){Ed.call(this),this.status=1}T(M_,Ed);function vi(c){this.g=c}T(vi,N_),vi.prototype.ua=function(){Xe(this.g,"a")},vi.prototype.ta=function(c){Xe(this.g,new P_(c))},vi.prototype.sa=function(c){Xe(this.g,new M_)},vi.prototype.ra=function(){Xe(this.g,"b")},Fa.prototype.createWebChannel=Fa.prototype.g,_t.prototype.send=_t.prototype.o,_t.prototype.open=_t.prototype.m,_t.prototype.close=_t.prototype.close,fm=Fn.createWebChannelTransport=function(){return new Fa},hm=Fn.getStatEventTarget=function(){return Da()},dm=Fn.Event=yr,ul=Fn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ba.NO_ERROR=0,ba.TIMEOUT=8,ba.HTTP_ERROR=6,Js=Fn.ErrorCode=ba,Kv.COMPLETE="complete",lm=Fn.EventType=Kv,Hv.EventType=Lo,Lo.OPEN="a",Lo.CLOSE="b",Lo.ERROR="c",Lo.MESSAGE="d",qe.prototype.listen=qe.prototype.K,ro=Fn.WebChannel=Hv,tj=Fn.FetchXmlHttpFactory=zo,Te.prototype.listenOnce=Te.prototype.L,Te.prototype.getLastError=Te.prototype.Ka,Te.prototype.getLastErrorCode=Te.prototype.Ba,Te.prototype.getStatus=Te.prototype.Z,Te.prototype.getResponseJson=Te.prototype.Oa,Te.prototype.getResponseText=Te.prototype.oa,Te.prototype.send=Te.prototype.ea,Te.prototype.setWithCredentials=Te.prototype.Ha,um=Fn.XhrIo=Te}).apply(typeof cl<"u"?cl:typeof self<"u"?self:typeof window<"u"?window:{});var rC="@firebase/firestore",iC="4.7.14";var Ve=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ve.UNAUTHENTICATED=new Ve(null),Ve.GOOGLE_CREDENTIALS=new Ve("google-credentials-uid"),Ve.FIRST_PARTY=new Ve("first-party-uid"),Ve.MOCK_USER=new Ve("mock-user");var So="11.7.3";var ai=new on("@firebase/firestore");function io(){return ai.logLevel}function O(t,...e){if(ai.logLevel<=re.DEBUG){let n=e.map(iv);ai.debug(`Firestore (${So}): ${t}`,...n)}}function Ln(t,...e){if(ai.logLevel<=re.ERROR){let n=e.map(iv);ai.error(`Firestore (${So}): ${t}`,...n)}}function ho(t,...e){if(ai.logLevel<=re.WARN){let n=e.map(iv);ai.warn(`Firestore (${So}): ${t}`,...n)}}function iv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function B(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,QC(t,r,n)}function QC(t,e,n){let r=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ln(r),new Error(r)}function ue(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||QC(e,i,r)}function q(t,e){return t}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=class extends Tt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ht=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var ml=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},vm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ve.UNAUTHENTICATED))}shutdown(){}},_m=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Im=class{constructor(e){this.t=e,this.currentUser=Ve.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ue(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Ht;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ht,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ht)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ue(typeof r.accessToken=="string",31837,{l:r}),new ml(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ue(e===null||typeof e=="string",2055,{h:e}),new Ve(e)}},Em=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ve.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},wm=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Em(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ve.FIRST_PARTY))}shutdown(){}invalidateToken(){}},yl=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Tm=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ue(this.o===void 0,3512);let r=o=>{o.error!=null&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,O("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new yl(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ue(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new yl(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function nj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function YC(){return new TextEncoder}var vl=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=nj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function ee(t,e){return t<e?-1:t>e?1:0}function Dm(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ee(r,i);{let o=YC(),s=rj(o.encode(oC(t,n)),o.encode(oC(e,n)));return s!==0?s:ee(r,i)}}n+=r>65535?2:1}return ee(t.length,e.length)}function oC(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function rj(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ee(t[n],e[n]);return ee(t.length,e.length)}function fo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var sC=-62135596800,aC=1e6,$e=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*aC);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<sC)throw new F(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aC}_compareTo(e){return this.seconds===e.seconds?ee(this.nanoseconds,e.nanoseconds):ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-sC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var G=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new $e(0,0))}static max(){return new t(new $e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var cC="__name__",_l=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&B(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&B(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ee(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):Dm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return On.fromString(e.substring(4,e.length-2))}},we=class t extends _l{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new F(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},ij=/^[_a-zA-Z][_a-zA-Z0-9]*$/,bt=class t extends _l{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return ij.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cC}static keyField(){return new t([cC])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new F(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new F(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new F(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var j=class t{constructor(e){this.path=e}static fromPath(e){return new t(we.fromString(e))}static fromName(e){return new t(we.fromString(e).popFirst(5))}static empty(){return new t(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&we.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return we.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new we(e.slice()))}};var ia=-1,bm=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};bm.UNKNOWN_ID=-1;function oj(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=G.fromTimestamp(r===1e9?new $e(n+1,0):new $e(n,r));return new ci(i,j.empty(),e)}function sj(t){return new ci(t.readTime,t.key,ia)}var ci=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(G.min(),j.empty(),ia)}static max(){return new t(G.max(),j.empty(),ia)}};function aj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=j.comparator(t.documentKey,e.documentKey),n!==0?n:ee(t.largestBatchId,e.largestBatchId))}var cj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Cm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ao(t){return _(this,null,function*(){if(t.code!==P.FAILED_PRECONDITION||t.message!==cj)throw t;O("LocalStore","Unexpectedly lost primary lease")})}var M=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&B(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function uj(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ro(t){return t.name==="IndexedDbTransactionError"}var ov=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ce&&this.ce(n),n}}t.le=-1;return t})(),sv=-1;function Xl(t){return t==null}function oa(t){return t===0&&1/t==-1/0}function lj(t){return typeof t=="number"&&Number.isInteger(t)&&!oa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ZC="";function dj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=uC(e)),e=hj(t.get(n),e);return uC(e)}function hj(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case ZC:n+="";break;default:n+=o}}return n}function uC(t){return t+ZC+""}var fj="remoteDocuments",JC="owner";var XC="mutationQueues";var e0="mutations";var t0="documentMutations",pj="remoteDocumentsV14";var n0="remoteDocumentGlobal";var r0="targets";var i0="targetDocuments";var o0="targetGlobal",s0="collectionParents";var a0="clientMetadata";var c0="bundles";var u0="namedQueries";var gj="indexConfiguration";var mj="indexState";var yj="indexEntries";var l0="documentOverlays";var vj="globals";var _j=[XC,e0,t0,fj,r0,JC,o0,i0,a0,n0,s0,c0,u0],PG=[..._j,l0],Ij=[XC,e0,t0,pj,r0,JC,o0,i0,a0,n0,s0,c0,u0,l0],Ej=Ij,wj=[...Ej,gj,mj,yj];var MG=[...wj,vj];function lC(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mr(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function d0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ae=class t{constructor(e,n){this.comparator=e,this.root=n||un.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new co(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new co(this.root,e,this.comparator,!1)}getReverseIterator(){return new co(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new co(this.root,e,this.comparator,!0)}},co=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},un=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw B(43730,{key:this.key,value:this.value});if(this.right.isRed())throw B(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw B(27949);return e+(this.isRed()?0:1)}};un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw B(57766)}get value(){throw B(16141)}get color(){throw B(16727)}get left(){throw B(29726)}get right(){throw B(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new un(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var je=class t{constructor(e){this.comparator=e,this.data=new Ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Il(this.data.getIterator())}getIteratorFrom(e){return new Il(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Il=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Mt=class t{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new t([])}unionWith(e){let n=new je(bt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var El=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Je=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new El("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Je.EMPTY_BYTE_STRING=new Je("");var Tj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vn(t){if(ue(!!t,39018),typeof t=="string"){let e=0,n=Tj.exec(t);if(ue(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_e(t.seconds),nanos:_e(t.nanos)}}function _e(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function jn(t){return typeof t=="string"?Je.fromBase64String(t):Je.fromUint8Array(t)}var h0="server_timestamp",f0="__type__",p0="__previous_value__",g0="__local_write_time__";function av(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[f0])===null||n===void 0?void 0:n.stringValue)===h0}function ed(t){let e=t.mapValue.fields[p0];return av(e)?ed(e):e}function sa(t){let e=Vn(t.mapValue.fields[g0].timestampValue);return new $e(e.seconds,e.nanos)}var Sm=class{constructor(e,n,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},wl="(default)",Tl=class t{constructor(e,n){this.projectId=e,this.database=n||wl}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===wl}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var cv="__type__",m0="__max__",ll={mapValue:{fields:{__type__:{stringValue:m0}}}},uv="__vector__",po="value";function fr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?av(t)?4:v0(t)?9007199254740991:y0(t)?10:11:B(28295,{value:t})}function fn(t,e){if(t===e)return!0;let n=fr(t);if(n!==fr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sa(t).isEqual(sa(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Vn(i.timestampValue),a=Vn(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return jn(i.bytesValue).isEqual(jn(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return _e(i.geoPointValue.latitude)===_e(o.geoPointValue.latitude)&&_e(i.geoPointValue.longitude)===_e(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return _e(i.integerValue)===_e(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=_e(i.doubleValue),a=_e(o.doubleValue);return s===a?oa(s)===oa(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return fo(t.arrayValue.values||[],e.arrayValue.values||[],fn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(lC(s)!==lC(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!fn(s[u],a[u])))return!1;return!0}(t,e);default:return B(52216,{left:t})}}function aa(t,e){return(t.values||[]).find(n=>fn(n,e))!==void 0}function go(t,e){if(t===e)return 0;let n=fr(t),r=fr(e);if(n!==r)return ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ee(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=_e(o.integerValue||o.doubleValue),u=_e(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return dC(t.timestampValue,e.timestampValue);case 4:return dC(sa(t),sa(e));case 5:return Dm(t.stringValue,e.stringValue);case 6:return function(o,s){let a=jn(o),u=jn(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ee(a[l],u[l]);if(h!==0)return h}return ee(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ee(_e(o.latitude),_e(s.latitude));return a!==0?a:ee(_e(o.longitude),_e(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return hC(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[po])===null||a===void 0?void 0:a.arrayValue,T=(u=m[po])===null||u===void 0?void 0:u.arrayValue,R=ee(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=T?.values)===null||h===void 0?void 0:h.length)||0);return R!==0?R:hC(y,T)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===ll.mapValue&&s===ll.mapValue)return 0;if(o===ll.mapValue)return 1;if(s===ll.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Dm(u[p],h[p]);if(m!==0)return m;let y=go(a[u[p]],l[h[p]]);if(y!==0)return y}return ee(u.length,h.length)}(t.mapValue,e.mapValue);default:throw B(23264,{Pe:n})}}function dC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ee(t,e);let n=Vn(t),r=Vn(e),i=ee(n.seconds,r.seconds);return i!==0?i:ee(n.nanos,r.nanos)}function hC(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=go(n[i],r[i]);if(o)return o}return ee(n.length,r.length)}function mo(t){return Am(t)}function Am(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Vn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return jn(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return j.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Am(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Am(n.fields[s])}`;return i+"}"}(t.mapValue):B(61005,{value:t})}function fl(t){switch(fr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=ed(t);return e?16+fl(e):16;case 5:return 2*t.stringValue.length;case 6:return jn(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+fl(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return mr(r.fields,(o,s)=>{i+=o.length+fl(s)}),i}(t.mapValue);default:throw B(13486,{value:t})}}function fC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Rm(t){return!!t&&"integerValue"in t}function lv(t){return!!t&&"arrayValue"in t}function pC(t){return!!t&&"nullValue"in t}function gC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pl(t){return!!t&&"mapValue"in t}function y0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[cv])===null||n===void 0?void 0:n.stringValue)===uv}function ea(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return mr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ea(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ea(t.arrayValue.values[n]);return e}return Object.assign({},t)}function v0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===m0}var xG={mapValue:{fields:{[cv]:{stringValue:uv},[po]:{arrayValue:{}}}}};var Dt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ea(n)}setAll(e){let n=bt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=ea(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());pl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];pl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){mr(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(ea(this.value))}};function _0(t){let e=[];return mr(t.fields,(n,r)=>{let i=new bt([n]);if(pl(r)){let o=_0(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Mt(e)}var qt=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,G.min(),G.min(),G.min(),Dt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,G.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,G.min(),G.min(),Dt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,G.min(),G.min(),Dt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(G.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=G.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var yo=class{constructor(e,n){this.position=e,this.inclusive=n}};function mC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=j.comparator(j.fromName(s.referenceValue),n.key):r=go(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function yC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fn(t.position[n],e.position[n]))return!1;return!0}var vo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Dj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Dl=class{},xe=class t extends Dl{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Pm(e,n,r):n==="array-contains"?new xm(e,r):n==="in"?new Om(e,r):n==="not-in"?new Fm(e,r):n==="array-contains-any"?new Lm(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Mm(e,r):new km(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(go(n,this.value)):n!==null&&fr(this.value)===fr(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return B(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},zt=class t extends Dl{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new t(e,n)}matches(e){return I0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function I0(t){return t.op==="and"}function E0(t){return bj(t)&&I0(t)}function bj(t){for(let e of t.filters)if(e instanceof zt)return!1;return!0}function Nm(t){if(t instanceof xe)return t.field.canonicalString()+t.op.toString()+mo(t.value);if(E0(t))return t.filters.map(e=>Nm(e)).join(",");{let e=t.filters.map(n=>Nm(n)).join(",");return`${t.op}(${e})`}}function w0(t,e){return t instanceof xe?function(r,i){return i instanceof xe&&r.op===i.op&&r.field.isEqual(i.field)&&fn(r.value,i.value)}(t,e):t instanceof zt?function(r,i){return i instanceof zt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&w0(s,i.filters[a]),!0):!1}(t,e):void B(19439)}function T0(t){return t instanceof xe?function(n){return`${n.field.canonicalString()} ${n.op} ${mo(n.value)}`}(t):t instanceof zt?function(n){return n.op.toString()+" {"+n.getFilters().map(T0).join(" ,")+"}"}(t):"Filter"}var Pm=class extends xe{constructor(e,n,r){super(e,n,r),this.key=j.fromName(r.referenceValue)}matches(e){let n=j.comparator(e.key,this.key);return this.matchesComparison(n)}},Mm=class extends xe{constructor(e,n){super(e,"in",n),this.keys=D0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},km=class extends xe{constructor(e,n){super(e,"not-in",n),this.keys=D0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function D0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>j.fromName(r.referenceValue))}var xm=class extends xe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return lv(n)&&aa(n.arrayValue,this.value)}},Om=class extends xe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&aa(this.value.arrayValue,n)}},Fm=class extends xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(aa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!aa(this.value.arrayValue,n)}},Lm=class extends xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!lv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>aa(this.value.arrayValue,r))}};var Vm=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function vC(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Vm(t,e,n,r,i,o,s)}function dv(t){let e=q(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Nm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Xl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>mo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>mo(r)).join(",")),e.Ie=n}return e.Ie}function hv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Dj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!w0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yC(t.startAt,e.startAt)&&yC(t.endAt,e.endAt)}function jm(t){return j.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var ui=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function Cj(t,e,n,r,i,o,s,a){return new ui(t,e,n,r,i,o,s,a)}function fv(t){return new ui(t)}function _C(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function b0(t){return t.collectionGroup!==null}function ta(t){let e=q(t);if(e.Ee===null){e.Ee=[];let n=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new je(bt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new vo(o,r))}),n.has(bt.keyField().canonicalString())||e.Ee.push(new vo(bt.keyField(),r))}return e.Ee}function ln(t){let e=q(t);return e.de||(e.de=Sj(e,ta(t))),e.de}function Sj(t,e){if(t.limitType==="F")return vC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new vo(i.field,o)});let n=t.endAt?new yo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yo(t.startAt.position,t.startAt.inclusive):null;return vC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Bm(t,e){let n=t.filters.concat([e]);return new ui(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Um(t,e,n){return new ui(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function td(t,e){return hv(ln(t),ln(e))&&t.limitType===e.limitType}function C0(t){return`${dv(ln(t))}|lt:${t.limitType}`}function oo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>T0(i)).join(", ")}]`),Xl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>mo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>mo(i)).join(",")),`Target(${r})`}(ln(t))}; limitType=${t.limitType})`}function nd(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):j.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of ta(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=mC(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,ta(r),i)||r.endAt&&!function(s,a,u){let l=mC(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,ta(r),i))}(t,e)}function Aj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function S0(t){return(e,n)=>{let r=!1;for(let i of ta(t)){let o=Rj(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Rj(t,e,n){let r=t.field.isKeyField()?j.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?go(u,l):B(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return B(19790,{direction:t.dir})}}var Bn=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mr(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return d0(this.inner)}size(){return this.innerSize}};var Nj=new Ae(j.comparator);function Un(){return Nj}var A0=new Ae(j.comparator);function Xs(...t){let e=A0;for(let n of t)e=e.insert(n.key,n);return e}function R0(t){let e=A0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ii(){return na()}function N0(){return na()}function na(){return new Bn(t=>t.toString(),(t,e)=>t.isEqual(e))}var Pj=new Ae(j.comparator),Mj=new je(j.comparator);function oe(...t){let e=Mj;for(let n of t)e=e.add(n);return e}var kj=new je(ee);function xj(){return kj}function pv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oa(e)?"-0":e}}function P0(t){return{integerValue:""+t}}function Oj(t,e){return lj(e)?P0(e):pv(t,e)}var _o=class{constructor(){this._=void 0}};function Fj(t,e,n){return t instanceof li?function(i,o){let s={fields:{[f0]:{stringValue:h0},[g0]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&av(o)&&(o=ed(o)),o&&(s.fields[p0]=o),{mapValue:s}}(n,e):t instanceof di?k0(t,e):t instanceof hi?x0(t,e):function(i,o){let s=M0(i,o),a=IC(s)+IC(i.Re);return Rm(s)&&Rm(i.Re)?P0(a):pv(i.serializer,a)}(t,e)}function Lj(t,e,n){return t instanceof di?k0(t,e):t instanceof hi?x0(t,e):n}function M0(t,e){return t instanceof Io?function(r){return Rm(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var li=class extends _o{},di=class extends _o{constructor(e){super(),this.elements=e}};function k0(t,e){let n=O0(e);for(let r of t.elements)n.some(i=>fn(i,r))||n.push(r);return{arrayValue:{values:n}}}var hi=class extends _o{constructor(e){super(),this.elements=e}};function x0(t,e){let n=O0(e);for(let r of t.elements)n=n.filter(i=>!fn(i,r));return{arrayValue:{values:n}}}var Io=class extends _o{constructor(e,n){super(),this.serializer=e,this.Re=n}};function IC(t){return _e(t.integerValue||t.doubleValue)}function O0(t){return lv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var $m=class{constructor(e,n){this.field=e,this.transform=n}};function Vj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof di&&i instanceof di||r instanceof hi&&i instanceof hi?fo(r.elements,i.elements,fn):r instanceof Io&&i instanceof Io?fn(r.Re,i.Re):r instanceof li&&i instanceof li}(t.transform,e.transform)}var Hm=class{constructor(e,n){this.version=e,this.transformResults=n}},dn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function gl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Eo=class{};function F0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ca(t.key,dn.none()):new fi(t.key,t.data,dn.none());{let n=t.data,r=Dt.empty(),i=new je(bt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new pn(t.key,r,new Mt(i.toArray()),dn.none())}}function jj(t,e,n){t instanceof fi?function(i,o,s){let a=i.value.clone(),u=wC(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof pn?function(i,o,s){if(!gl(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=wC(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(L0(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ra(t,e,n,r){return t instanceof fi?function(o,s,a,u){if(!gl(o.precondition,s))return a;let l=o.value.clone(),h=TC(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof pn?function(o,s,a,u){if(!gl(o.precondition,s))return a;let l=TC(o.fieldTransforms,u,s),h=s.data;return h.setAll(L0(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return gl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function Bj(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=M0(r.transform,i||null);o!=null&&(n===null&&(n=Dt.empty()),n.set(r.field,o))}return n||null}function EC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fo(r,i,(o,s)=>Vj(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var fi=class extends Eo{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},pn=class extends Eo{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function L0(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function wC(t,e,n){let r=new Map;ue(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Lj(s,a,n[i]))}return r}function TC(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,Fj(o,s,e))}return r}var ca=class extends Eo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},qm=class extends Eo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var zm=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&jj(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ra(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ra(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=N0();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=F0(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(G.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,(n,r)=>EC(n,r))&&fo(this.baseMutations,e.baseMutations,(n,r)=>EC(n,r))}},Wm=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ue(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return Pj}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Gm=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Km=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Me,se;function Uj(t){switch(t){case P.OK:return B(64938);case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return B(15467,{code:t})}}function V0(t){if(t===void 0)return Ln("GRPC error has no .code"),P.UNKNOWN;switch(t){case Me.OK:return P.OK;case Me.CANCELLED:return P.CANCELLED;case Me.UNKNOWN:return P.UNKNOWN;case Me.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Me.INTERNAL:return P.INTERNAL;case Me.UNAVAILABLE:return P.UNAVAILABLE;case Me.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Me.NOT_FOUND:return P.NOT_FOUND;case Me.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Me.ABORTED:return P.ABORTED;case Me.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Me.DATA_LOSS:return P.DATA_LOSS;default:return B(39323,{code:t})}}(se=Me||(Me={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";var DC=null;var $j=new On([4294967295,4294967295],0);function bC(t){let e=YC().encode(t),n=new cm;return n.update(e),new Uint8Array(n.digest())}function CC(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new On([n,r],0),new On([i,o],0)]}var Qm=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new oi(`Invalid padding: ${n}`);if(r<0)throw new oi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new oi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new oi(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=On.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(On.fromNumber(r)));return i.compare($j)===1&&(i=new On([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let n=bC(e),[r,i]=CC(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let n=bC(e),[r,i]=CC(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},oi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var bl=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ua.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(G.min(),i,new Ae(ee),Un(),oe())}},ua=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,oe(),oe(),oe())}};var uo=class{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}},Cl=class{constructor(e,n){this.targetId=e,this.Ce=n}},Sl=class{constructor(e,n,r=Je.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Al=class{constructor(){this.Fe=0,this.Me=SC(),this.xe=Je.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=oe(),n=oe(),r=oe();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:B(38017,{changeType:o})}}),new ua(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=SC()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ue(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},Ym=class{constructor(e){this.ze=e,this.je=new Map,this.He=Un(),this.Je=dl(),this.Ye=dl(),this.Ze=new Ae(ee)}Xe(e){for(let n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(let n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{let r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:B(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){let n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){let o=i.target;if(jm(o))if(r===0){let s=new j(o.path);this.tt(n,s,qt.newNoDocument(s,G.min()))}else ue(r===1,20013,{expectedCount:r});else{let s=this.ut(n);if(s!==r){let a=this.ct(e),u=a?this.lt(a,e,s):1;if(u!==0){this.st(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,l)}DC?.ht(function(h,p,m,y,T){var R,N,x,L,$,ce;let Fe={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},le=p.unchangedNames;return le&&(Fe.bloomFilter={applied:T===0,hashCount:(R=le?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(L=(x=(N=le?.bits)===null||N===void 0?void 0:N.bitmap)===null||x===void 0?void 0:x.length)!==null&&L!==void 0?L:0,padding:(ce=($=le?.bits)===null||$===void 0?void 0:$.padding)!==null&&ce!==void 0?ce:0,mightContain:D=>{var v;return(v=y?.mightContain(D))!==null&&v!==void 0&&v}}),Fe}(s,e.Ce,this.ze.Pt(),a,u))}}}}ct(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=jn(r).toUint8Array()}catch(u){if(u instanceof El)return ho("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Qm(s,i,o)}catch(u){return ho(u instanceof oi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){let r=this.ze.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,o,null),i++)}),i}It(e){let n=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&jm(a.target)){let u=new j(a.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,qt.newNoDocument(u,e))}o.Le&&(n.set(s,o.qe()),o.Qe())}});let r=oe();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this._t(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new bl(e,n,this.Ze,this.He,r);return this.He=Un(),this.Je=dl(),this.Ye=dl(),this.Ze=new Ae(ee),i}et(e,n){if(!this.it(e))return;let r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){let n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Al,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new je(ee),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new je(ee),this.Je=this.Je.insert(e,n)),n}it(e){let n=this._t(e)!==null;return n||O("WatchChangeAggregator","Detected inactive target",e),n}_t(e){let n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Al),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}};function dl(){return new Ae(j.comparator)}function SC(){return new Ae(j.comparator)}var Hj={asc:"ASCENDING",desc:"DESCENDING"},qj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zj={and:"AND",or:"OR"},Zm=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Jm(t,e){return t.useProto3Json||Xl(e)?e:{value:e}}function Rl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function j0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Wj(t,e){return Rl(t,e.toTimestamp())}function hn(t){return ue(!!t,49232),G.fromTimestamp(function(n){let r=Vn(n);return new $e(r.seconds,r.nanos)}(t))}function gv(t,e){return Xm(t,e).canonicalString()}function Xm(t,e){let n=function(i){return new we(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function B0(t){let e=we.fromString(t);return ue(z0(e),10190,{key:e.toString()}),e}function ey(t,e){return gv(t.databaseId,e.path)}function pm(t,e){let n=B0(e);if(n.get(1)!==t.databaseId.projectId)throw new F(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new j($0(n))}function U0(t,e){return gv(t.databaseId,e)}function Gj(t){let e=B0(t);return e.length===4?we.emptyPath():$0(e)}function ty(t){return new we(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $0(t){return ue(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function AC(t,e,n){return{name:ey(t,e),fields:n.value.mapValue.fields}}function Kj(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:B(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(ue(h===void 0||typeof h=="string",58123),Je.fromBase64String(h||"")):(ue(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Je.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?P.UNKNOWN:V0(l.code);return new F(h,l.message||"")}(s);n=new Sl(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=pm(t,r.document.name),o=hn(r.document.updateTime),s=r.document.createTime?hn(r.document.createTime):G.min(),a=new Dt({mapValue:{fields:r.document.fields}}),u=qt.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new uo(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=pm(t,r.document),o=r.readTime?hn(r.readTime):G.min(),s=qt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new uo([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=pm(t,r.document),o=r.removedTargetIds||[];n=new uo([],o,i,null)}else{if(!("filter"in e))return B(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Km(i,o),a=r.targetId;n=new Cl(a,s)}}return n}function Qj(t,e){let n;if(e instanceof fi)n={update:AC(t,e.key,e.value)};else if(e instanceof ca)n={delete:ey(t,e.key)};else if(e instanceof pn)n={update:AC(t,e.key,e.data),updateMask:iB(e.fieldMask)};else{if(!(e instanceof qm))return B(16599,{ft:e.type});n={verify:ey(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof li)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof di)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof hi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Io)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw B(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Wj(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:B(27497)}(t,e.precondition)),n}function Yj(t,e){return t&&t.length>0?(ue(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?hn(i.updateTime):hn(o);return s.isEqual(G.min())&&(s=hn(o)),new Hm(s,i.transformResults||[])}(n,e))):[]}function Zj(t,e){return{documents:[U0(t,e.path)]}}function Jj(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=U0(t,i);let o=function(l){if(l.length!==0)return q0(zt.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:so(m.field),direction:tB(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=Jm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:n,parent:i}}function Xj(t){let e=Gj(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ue(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=H0(p);return m instanceof zt&&E0(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(T){return new vo(ao(T.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Xl(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new yo(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new yo(y,m)}(n.endAt)),Cj(e,i,s,o,a,"F",u,l)}function eB(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return B(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function H0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ao(n.unaryFilter.field);return xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ao(n.unaryFilter.field);return xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ao(n.unaryFilter.field);return xe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ao(n.unaryFilter.field);return xe.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return B(61313);default:return B(60726)}}(t):t.fieldFilter!==void 0?function(n){return xe.create(ao(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return B(58110);default:return B(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zt.create(n.compositeFilter.filters.map(r=>H0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return B(1026)}}(n.compositeFilter.op))}(t):B(30097,{filter:t})}function tB(t){return Hj[t]}function nB(t){return qj[t]}function rB(t){return zj[t]}function so(t){return{fieldPath:t.canonicalString()}}function ao(t){return bt.fromServerFormat(t.fieldPath)}function q0(t){return t instanceof xe?function(n){if(n.op==="=="){if(gC(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(pC(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gC(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(pC(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:nB(n.op),value:n.value}}}(t):t instanceof zt?function(n){let r=n.getFilters().map(i=>q0(i));return r.length===1?r[0]:{compositeFilter:{op:rB(n.op),filters:r}}}(t):B(54877,{filter:t})}function iB(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function z0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var la=class t{constructor(e,n,r,i,o=G.min(),s=G.min(),a=Je.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var ny=class{constructor(e){this.wt=e}};function oB(t){let e=Xj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Um(e,e.limit,"L"):e}var Nl=class{constructor(){}vt(e,n){this.Ct(e,n),n.Ft()}Ct(e,n){if("nullValue"in e)this.Mt(n,5);else if("booleanValue"in e)this.Mt(n,10),n.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(n,15),n.xt(_e(e.integerValue));else if("doubleValue"in e){let r=_e(e.doubleValue);isNaN(r)?this.Mt(n,13):(this.Mt(n,15),oa(r)?n.xt(0):n.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(n,20),typeof r=="string"&&(r=Vn(r)),n.Ot(`${r.seconds||""}`),n.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,n),this.Bt(n);else if("bytesValue"in e)this.Mt(n,30),n.Lt(jn(e.bytesValue)),this.Bt(n);else if("referenceValue"in e)this.kt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(n,45),n.xt(r.latitude||0),n.xt(r.longitude||0)}else"mapValue"in e?v0(e)?this.Mt(n,Number.MAX_SAFE_INTEGER):y0(e)?this.qt(e.mapValue,n):(this.Qt(e.mapValue,n),this.Bt(n)):"arrayValue"in e?(this.$t(e.arrayValue,n),this.Bt(n)):B(19022,{Ut:e})}Nt(e,n){this.Mt(n,25),this.Kt(e,n)}Kt(e,n){n.Ot(e)}Qt(e,n){let r=e.fields||{};this.Mt(n,55);for(let i of Object.keys(r))this.Nt(i,n),this.Ct(r[i],n)}qt(e,n){var r,i;let o=e.fields||{};this.Mt(n,53);let s=po,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(n,15),n.xt(_e(a)),this.Nt(s,n),this.Ct(o[s],n)}$t(e,n){let r=e.values||[];this.Mt(n,50);for(let i of r)this.Ct(i,n)}kt(e,n){this.Mt(n,37),j.fromName(e).path.forEach(r=>{this.Mt(n,60),this.Kt(r,n)})}Mt(e,n){e.xt(n)}Bt(e){e.xt(2)}};Nl.Wt=new Nl;var ry=class{constructor(){this.yn=new iy}addToCollectionParentIndex(e,n){return this.yn.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(ci.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(ci.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}},iy=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new je(we.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new je(we.comparator)).toArray()}};var OG=new Uint8Array(0);var RC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},W0=41943040,Pt=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Pt.DEFAULT_COLLECTION_PERCENTILE=10,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pt.DEFAULT=new Pt(W0,Pt.DEFAULT_COLLECTION_PERCENTILE,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pt.DISABLED=new Pt(-1,0,0);var da=class t{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new t(0)}static ir(){return new t(-1)}};var NC="LruGarbageCollector",sB=1048576;function PC([t,e],[n,r]){let i=ee(t,n);return i===0?ee(e,r):i}var oy=class{constructor(e){this.cr=e,this.buffer=new je(PC),this.lr=0}hr(){return++this.lr}Pr(e){let n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();PC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},sy=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){O(NC,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Tr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ro(n)?O(NC,"Ignoring IndexedDB error during garbage collection: ",n):yield Ao(n)}yield this.Ir(3e5)}))}},ay=class{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return M.resolve(ov.le);let r=new oy(n);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(O("LruGarbageCollector","Garbage collection skipped; disabled"),M.resolve(RC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(O("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RC):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(O("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),io()<=re.DEBUG&&O("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),M.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function aB(t,e){return new ay(t,e)}var cy=class{constructor(){this.changes=new Bn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var uy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var ly=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ra(r.mutation,i,Mt.empty(),$e.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){let i=ii();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Xs();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=ii();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Un(),s=na(),a=function(){return na()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof pn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),ra(h.mutation,l,h.mutation.getFieldMask(),$e.now())):s.set(l.key,Mt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new uy(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=na(),i=new Ae((s,a)=>s-a),o=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Mt.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||oe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=N0();h.forEach(m=>{if(!o.has(m)){let y=F0(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return M.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return j.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):b0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):M.resolve(ii()),a=ia,u=o;return s.next(l=>M.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?M.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,oe())).next(h=>({batchId:a,changes:R0(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new j(n)).next(r=>{let i=Xs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Xs();return this.indexManager.getCollectionParents(e,o).next(a=>M.forEach(a,u=>{let l=function(p,m){return new ui(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,qt.newInvalidDocument(h)))});let a=Xs();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&ra(h.mutation,l,Mt.empty(),$e.now()),nd(n,l)&&(a=a.insert(u,l))}),a})}};var dy=class{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return M.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:hn(i.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:oB(i.bundledQuery),readTime:hn(i.readTime)}}(n)),M.resolve()}};var hy=class{constructor(){this.overlays=new Ae(j.comparator),this.Or=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){let r=ii();return M.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),M.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Or.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){let i=ii(),o=n.length+1,s=new j(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ae((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=ii(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=ii(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return M.resolve(a)}St(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Gm(n,r));let o=this.Or.get(n);o===void 0&&(o=oe(),this.Or.set(n,o)),this.Or.set(n,o.add(r.key))}};var fy=class{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}};var ha=class{constructor(){this.Nr=new je(ke.Br),this.Lr=new je(ke.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){let r=new ke(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new ke(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){let n=new j(new we([])),r=new ke(n,e),i=new ke(n,e+1),o=[];return this.Lr.forEachInRange([r,i],s=>{this.Qr(s),o.push(s.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){let n=new j(new we([])),r=new ke(n,e),i=new ke(n,e+1),o=oe();return this.Lr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new ke(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},ke=class{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return j.comparator(e.key,n.key)||ee(e.Gr,n.Gr)}static kr(e,n){return ee(e.Gr,n.Gr)||j.comparator(e.key,n.key)}};var py=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new je(ke.Br)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new zm(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.zr=this.zr.add(new ke(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(s)}lookupMutationBatch(e,n){return M.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Hr(r),o=i<0?0:i;return M.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?sv:this.Jn-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new ke(n,0),i=new ke(n,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,i],s=>{let a=this.jr(s.Gr);o.push(a)}),M.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new je(ee);return n.forEach(i=>{let o=new ke(i,0),s=new ke(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,s],a=>{r=r.add(a.Gr)})}),M.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;j.isDocumentKey(o)||(o=o.child(""));let s=new ke(new j(o),0),a=new je(ee);return this.zr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Gr)),!0)},s),M.resolve(this.Jr(a))}Jr(e){let n=[];return e.forEach(r=>{let i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ue(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return M.forEach(n.mutations,i=>{let o=new ke(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){let r=new ke(n,0),i=this.zr.firstAfterOrEqual(r);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){let n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var gy=class{constructor(e){this.Zr=e,this.docs=function(){return new Ae(j.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():qt.newInvalidDocument(n))}getEntries(e,n){let r=Un();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():qt.newInvalidDocument(i))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Un(),s=n.path,a=new j(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||aj(sj(h),r)<=0||(i.has(h.key)||nd(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return M.resolve(o)}getAllFromCollectionGroup(e,n,r,i){B(9500)}Xr(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new my(this)}getSize(e){return M.resolve(this.size)}},my=class extends cy{constructor(e){super(),this.vr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}};var yy=class{constructor(e){this.persistence=e,this.ei=new Bn(n=>dv(n),hv),this.lastRemoteSnapshotVersion=G.min(),this.highestTargetId=0,this.ti=0,this.ni=new ha,this.targetCount=0,this.ri=da.rr()}forEachTarget(e,n){return this.ei.forEach((r,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),M.resolve()}ar(e){this.ei.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ri=new da(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.ar(n),M.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ei.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ei.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),M.waitFor(o).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){let r=this.ei.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),M.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),M.resolve()}getMatchingKeysForTargetId(e,n){let r=this.ni.Wr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.ni.containsKey(n))}};var Pl=class{constructor(e,n){this.ii={},this.overlays={},this.si=new ov(0),this.oi=!1,this.oi=!0,this._i=new fy,this.referenceDelegate=e(this),this.ai=new yy(this),this.indexManager=new ry,this.remoteDocumentCache=function(i){return new gy(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new ny(n),this.ci=new dy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hy,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new py(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){O("MemoryPersistence","Starting transaction:",e);let i=new vy(this.si.next());return this.referenceDelegate.li(),r(i).next(o=>this.referenceDelegate.hi(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Pi(e,n){return M.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}},vy=class extends Cm{constructor(e){super(),this.currentSequenceNumber=e}},_y=class t{constructor(e){this.persistence=e,this.Ti=new ha,this.Ii=null}static Ei(e){return new t(e)}get di(){if(this.Ii)return this.Ii;throw B(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),M.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.di,r=>{let i=j.fromPath(r);return this.Ai(e,i).next(o=>{o||n.removeEntry(i,G.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return M.or([()=>M.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}},Ml=class t{constructor(e,n){this.persistence=e,this.Ri=new Bn(r=>dj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=aB(this,n)}static Ei(e,n){return new t(e,n)}li(){}hi(e){return M.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){let n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return M.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(o=>o?M.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Xr(e,s=>this.gr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,G.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),M.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),M.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),M.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),M.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=fl(e.data.value)),n}gr(e,n,r){return M.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.Ri.get(n);return M.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Iy=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=i}static Ps(e,n){let r=oe(),i=oe();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Ey=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var wy=class{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return PD()?8:uj(Le())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Rs(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Vs(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Ey;return this.fs(e,n,s).next(a=>{if(o.result=a,this.Is)return this.gs(e,n,s,a.size)})}).next(()=>o.result)}gs(e,n,r,i){return r.documentReadCount<this.Es?(io()<=re.DEBUG&&O("QueryEngine","SDK will not create cache indexes for query:",oo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),M.resolve()):(io()<=re.DEBUG&&O("QueryEngine","Query:",oo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(io()<=re.DEBUG&&O("QueryEngine","The SDK decides to create cache indexes for query:",oo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ln(n))):M.resolve())}Rs(e,n){if(_C(n))return M.resolve(null);let r=ln(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Um(n,null,"F"),r=ln(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=oe(...o);return this.As.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ps(n,a);return this.ys(n,l,s,u.readTime)?this.Rs(e,Um(n,null,"F")):this.ws(e,l,n,u)}))})))}Vs(e,n,r,i){return _C(n)||i.isEqual(G.min())?M.resolve(null):this.As.getDocuments(e,r).next(o=>{let s=this.ps(n,o);return this.ys(n,s,r,i)?M.resolve(null):(io()<=re.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oo(n)),this.ws(e,s,n,oj(i,ia)).next(a=>a))})}ps(e,n){let r=new je(S0(e));return n.forEach((i,o)=>{nd(e,o)&&(r=r.add(o))}),r}ys(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}fs(e,n,r){return io()<=re.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",oo(n)),this.As.getDocumentsMatchingQuery(e,n,ci.min(),r)}ws(e,n,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var mv="LocalStore",cB=3e8,Ty=class{constructor(e,n,r,i){this.persistence=e,this.bs=n,this.serializer=i,this.Ss=new Ae(ee),this.Ds=new Bn(o=>dv(o),hv),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ly(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}};function uB(t,e,n,r){return new Ty(t,e,n,r)}function G0(t,e){return _(this,null,function*(){let n=q(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=oe();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Ms:l,removedBatchIds:s,addedBatchIds:a}))})})})}function lB(t,e){let n=q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=M.resolve();return m.forEach(T=>{y=y.next(()=>h.getEntry(u,T)).next(R=>{let N=l.docVersions.get(T);ue(N!==null,48541),R.version.compareTo(N)<0&&(p.applyToRemoteDocument(R,l),R.isValidDocument()&&(R.setReadTime(l.commitVersion),h.addEntry(R)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=oe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function K0(t){let e=q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function dB(t,e){let n=q(t),r=e.snapshotVersion,i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.ai.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.ai.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Je.EMPTY_BYTE_STRING,G.min()).withLastLimboFreeSnapshotVersion(G.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(R,N,x){return R.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=cB?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(m,y,h)&&a.push(n.ai.updateTargetData(o,y))});let u=Un(),l=oe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(hB(o,s,e.documentUpdates).next(h=>{u=h.xs,l=h.Os})),!r.isEqual(G.min())){let h=n.ai.getLastRemoteSnapshotVersion(o).next(p=>n.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return M.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Ss=i,o))}function hB(t,e,n){let r=oe(),i=oe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Un();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(G.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):O(mv,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{xs:s,Os:i}})}function fB(t,e){let n=q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=sv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pB(t,e){let n=q(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,e).next(o=>o?(i=o,M.resolve(i)):n.ai.allocateTargetId(r).next(s=>(i=new la(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}function Dy(t,e,n){return _(this,null,function*(){let r=q(t),i=r.Ss.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ro(s))throw s;O(mv,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)})}function MC(t,e,n){let r=q(t),i=G.min(),o=oe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=q(u),m=p.Ds.get(h);return m!==void 0?M.resolve(p.Ss.get(m)):p.ai.getTargetData(l,h)}(r,s,ln(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.bs.getDocumentsMatchingQuery(s,e,n?i:G.min(),n?o:oe())).next(a=>(gB(r,Aj(e),a),{documents:a,Ns:o})))}function gB(t,e,n){let r=t.vs.get(e)||G.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.vs.set(e,r)}var kl=class{constructor(){this.activeTargetIds=xj()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var by=class{constructor(){this.So=new kl,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new kl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Cy=class{vo(e){}shutdown(){}};var kC="ConnectivityMonitor",xl=class{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){O(kC,"Network connectivity changed: AVAILABLE");for(let e of this.Oo)e(0)}xo(){O(kC,"Network connectivity changed: UNAVAILABLE");for(let e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var hl=null;function Sy(){return hl===null?hl=function(){return 268435456+Math.round(2147483648*Math.random())}():hl++,"0x"+hl.toString(16)}var gm="RestConnection",mB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Ay=class{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===wl?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,n,r,i,o){let s=Sy(),a=this.$o(e,n.toUriEncodedString());O(gm,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(u,i,o);let{host:l}=new URL(a),h=Qr(l);return this.Ko(e,a,u,r,h).then(p=>(O(gm,`Received RPC '${e}' ${s}: `,p),p),p=>{throw ho(gm,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Wo(e,n,r,i,o,s){return this.Qo(e,n,r,i,o)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+So}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}$o(e,n){let r=mB[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}};var Ry=class{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}};var Ze="WebChannelConnection",Ny=class extends Ay{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,i,o){let s=Sy();return new Promise((a,u)=>{let l=new um;l.setWithCredentials(!0),l.listenOnce(lm.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Js.NO_ERROR:let p=l.getResponseJson();O(Ze,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Js.TIMEOUT:O(Ze,`RPC '${e}' ${s} timed out`),u(new F(P.DEADLINE_EXCEEDED,"Request time out"));break;case Js.HTTP_ERROR:let m=l.getStatus();if(O(Ze,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let T=y?.error;if(T&&T.status&&T.message){let R=function(x){let L=x.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(L)>=0?L:P.UNKNOWN}(T.status);u(new F(R,T.message))}else u(new F(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new F(P.UNAVAILABLE,"Connection failed."));break;default:B(9055,{s_:e,streamId:s,o_:l.getLastErrorCode(),__:l.getLastError()})}}finally{O(Ze,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);O(Ze,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}a_(e,n,r){let i=Sy(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=fm(),a=hm(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Uo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");O(Ze,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,y=!1,T=new Ry({Go:N=>{y?O(Ze,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(m||(O(Ze,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),O(Ze,`RPC '${e}' stream ${i} sending:`,N),p.send(N))},zo:()=>p.close()}),R=(N,x,L)=>{N.listen(x,$=>{try{L($)}catch(ce){setTimeout(()=>{throw ce},0)}})};return R(p,ro.EventType.OPEN,()=>{y||(O(Ze,`RPC '${e}' stream ${i} transport opened.`),T.t_())}),R(p,ro.EventType.CLOSE,()=>{y||(y=!0,O(Ze,`RPC '${e}' stream ${i} transport closed`),T.r_())}),R(p,ro.EventType.ERROR,N=>{y||(y=!0,ho(Ze,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),T.r_(new F(P.UNAVAILABLE,"The operation could not be completed")))}),R(p,ro.EventType.MESSAGE,N=>{var x;if(!y){let L=N.data[0];ue(!!L,16349);let $=L,ce=$?.error||((x=$[0])===null||x===void 0?void 0:x.error);if(ce){O(Ze,`RPC '${e}' stream ${i} received error:`,ce);let Fe=ce.status,le=function(E){let w=Me[E];if(w!==void 0)return V0(w)}(Fe),D=ce.message;le===void 0&&(le=P.INTERNAL,D="Unknown error status: "+Fe+" with message "+ce.message),y=!0,T.r_(new F(le,D)),p.close()}else O(Ze,`RPC '${e}' stream ${i} received:`,L),T.i_(L)}}),R(a,dm.STAT_EVENT,N=>{N.stat===ul.PROXY?O(Ze,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===ul.NOPROXY&&O(Ze,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.n_()},0),T}};function mm(){return typeof document<"u"?document:null}function rd(t){return new Zm(t,!0)}var Ol=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();let n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&O("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}};var xC="PersistentStream",Fl=class{constructor(e,n,r,i,o,s,a,u){this.bi=e,this.R_=r,this.V_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new Ol(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}stop(){return _(this,null,function*(){this.w_()&&(yield this.close(0))})}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}C_(){return _(this,null,function*(){if(this.b_())return this.close(0)})}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}close(e,n){return _(this,null,function*(){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(Ln(n.toString()),Ln("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Zo(n)})}O_(){}auth(){this.state=1;let e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{e(()=>{let i=new F(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,n){let r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(()=>_(this,null,function*(){this.state=0,this.start()}))}L_(e){return O(xC,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(O(xC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Py=class extends Fl{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();let n=Kj(this.serializer,e),r=function(o){if(!("targetChange"in o))return G.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?G.min():s.readTime?hn(s.readTime):G.min()}(e);return this.listener.Q_(n,r)}U_(e){let n={};n.database=ty(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=jm(u)?{documents:Zj(o,u)}:{query:Jj(o,u).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=j0(o,s.resumeToken);let l=Jm(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(G.min())>0){a.readTime=Rl(o,s.snapshotVersion.toTimestamp());let l=Jm(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=eB(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){let n={};n.database=ty(this.serializer),n.removeTarget=e,this.F_(n)}},My=class extends Fl{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return ue(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ue(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){ue(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();let n=Yj(e.writeResults,e.commitTime),r=hn(e.commitTime);return this.listener.j_(r,n)}H_(){let e={};e.database=ty(this.serializer),this.F_(e)}G_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>Qj(this.serializer,r))};this.F_(n)}};var ky=class{},xy=class extends ky{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new F(P.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Qo(e,Xm(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new F(P.UNKNOWN,o.toString())})}Wo(e,n,r,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,Xm(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(P.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}},Oy=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ln(n),this.ea=!1):O("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}};var pi="RemoteStore",Fy=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(s=>{r.enqueueAndForget(()=>_(this,null,function*(){gi(this)&&(O(pi,"Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=q(u);l.aa.add(4),yield ya(l),l.la.set("Unknown"),l.aa.delete(4),yield id(l)})}(this))}))}),this.la=new Oy(r,i)}};function id(t){return _(this,null,function*(){if(gi(t))for(let e of t.ua)yield e(!0)})}function ya(t){return _(this,null,function*(){for(let e of t.ua)yield e(!1)})}function Q0(t,e){let n=q(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),Iv(n)?_v(n):No(n).b_()&&vv(n,e))}function yv(t,e){let n=q(t),r=No(n);n._a.delete(e),r.b_()&&Y0(n,e),n._a.size===0&&(r.b_()?r.v_():gi(n)&&n.la.set("Unknown"))}function vv(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(G.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}No(t).U_(e)}function Y0(t,e){t.ha.Ke(e),No(t).K_(e)}function _v(t){t.ha=new Ym({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),No(t).start(),t.la.ta()}function Iv(t){return gi(t)&&!No(t).w_()&&t._a.size>0}function gi(t){return q(t).aa.size===0}function Z0(t){t.ha=void 0}function yB(t){return _(this,null,function*(){t.la.set("Online")})}function vB(t){return _(this,null,function*(){t._a.forEach((e,n)=>{vv(t,e)})})}function _B(t,e){return _(this,null,function*(){Z0(t),Iv(t)?(t.la.ia(e),_v(t)):t.la.set("Unknown")})}function IB(t,e,n){return _(this,null,function*(){if(t.la.set("Online"),e instanceof Sl&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i._a.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i._a.delete(a),i.ha.removeTarget(a))})}(t,e)}catch(r){O(pi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ll(t,r)}else if(e instanceof uo?t.ha.Xe(e):e instanceof Cl?t.ha.ot(e):t.ha.nt(e),!n.isEqual(G.min()))try{let r=yield K0(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.ha.It(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o._a.get(l);h&&o._a.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o._a.get(u);if(!h)return;o._a.set(u,h.withResumeToken(Je.EMPTY_BYTE_STRING,h.snapshotVersion)),Y0(o,u);let p=new la(h.target,u,l,h.sequenceNumber);vv(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){O(pi,"Failed to raise snapshot:",r),yield Ll(t,r)}})}function Ll(t,e,n){return _(this,null,function*(){if(!Ro(e))throw e;t.aa.add(1),yield ya(t),t.la.set("Offline"),n||(n=()=>K0(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){O(pi,"Retrying IndexedDB access"),yield n(),t.aa.delete(1),yield id(t)}))})}function J0(t,e){return e().catch(n=>Ll(t,n,e))}function od(t){return _(this,null,function*(){let e=q(t),n=pr(e),r=e.oa.length>0?e.oa[e.oa.length-1].batchId:sv;for(;EB(e);)try{let i=yield fB(e.localStore,r);if(i===null){e.oa.length===0&&n.v_();break}r=i.batchId,wB(e,i)}catch(i){yield Ll(e,i)}X0(e)&&eS(e)})}function EB(t){return gi(t)&&t.oa.length<10}function wB(t,e){t.oa.push(e);let n=pr(t);n.b_()&&n.W_&&n.G_(e.mutations)}function X0(t){return gi(t)&&!pr(t).w_()&&t.oa.length>0}function eS(t){pr(t).start()}function TB(t){return _(this,null,function*(){pr(t).H_()})}function DB(t){return _(this,null,function*(){let e=pr(t);for(let n of t.oa)e.G_(n.mutations)})}function bB(t,e,n){return _(this,null,function*(){let r=t.oa.shift(),i=Wm.from(r,e,n);yield J0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield od(t)})}function CB(t,e){return _(this,null,function*(){e&&pr(t).W_&&(yield function(r,i){return _(this,null,function*(){if(function(s){return Uj(s)&&s!==P.ABORTED}(i.code)){let o=r.oa.shift();pr(r).D_(),yield J0(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield od(r)}})}(t,e)),X0(t)&&eS(t)})}function OC(t,e){return _(this,null,function*(){let n=q(t);n.asyncQueue.verifyOperationInProgress(),O(pi,"RemoteStore received new credentials");let r=gi(n);n.aa.add(3),yield ya(n),r&&n.la.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),yield id(n)})}function SB(t,e){return _(this,null,function*(){let n=q(t);e?(n.aa.delete(2),yield id(n)):e||(n.aa.add(2),yield ya(n),n.la.set("Unknown"))})}function No(t){return t.Pa||(t.Pa=function(n,r,i){let o=q(n);return o.Y_(),new Py(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{jo:yB.bind(null,t),Jo:vB.bind(null,t),Zo:_B.bind(null,t),Q_:IB.bind(null,t)}),t.ua.push(e=>_(null,null,function*(){e?(t.Pa.D_(),Iv(t)?_v(t):t.la.set("Unknown")):(yield t.Pa.stop(),Z0(t))}))),t.Pa}function pr(t){return t.Ta||(t.Ta=function(n,r,i){let o=q(n);return o.Y_(),new My(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:TB.bind(null,t),Zo:CB.bind(null,t),z_:DB.bind(null,t),j_:bB.bind(null,t)}),t.ua.push(e=>_(null,null,function*(){e?(t.Ta.D_(),yield od(t)):(yield t.Ta.stop(),t.oa.length>0&&(O(pi,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))}))),t.Ta}var Ly=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ht,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Ev(t,e){if(Ln("AsyncQueue",`${e}: ${t}`),Ro(t))return new F(P.UNAVAILABLE,`${e}: ${t}`);throw t}var Vl=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||j.comparator(n.key,r.key):(n,r)=>j.comparator(n.key,r.key),this.keyedMap=Xs(),this.sortedSet=new Ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var jl=class{constructor(){this.Ia=new Ae(j.comparator)}track(e){let n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):B(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){let e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}},wo=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Vl.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Vy=class{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}},jy=class{constructor(){this.queries=FC(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){let i=q(n),o=i.queries;i.queries=FC(),o.forEach((s,a)=>{for(let u of a.Ra)u.onError(r)})})(this,new F(P.ABORTED,"Firestore shutting down"))}};function FC(){return new Bn(t=>C0(t),td)}function tS(t,e){return _(this,null,function*(){let n=q(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Va()&&e.ma()&&(r=2):(o=new Vy,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=yield n.onListen(i,!0);break;case 1:o.Aa=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=Ev(s,`Initialization of query '${oo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Ra.push(e),e.ga(n.onlineState),o.Aa&&e.pa(o.Aa)&&wv(n)})}function nS(t,e){return _(this,null,function*(){let n=q(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.Ra.indexOf(e);s>=0&&(o.Ra.splice(s,1),o.Ra.length===0?i=e.ma()?0:1:!o.Va()&&e.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function AB(t,e){let n=q(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.Ra)a.pa(i)&&(r=!0);s.Aa=i}}r&&wv(n)}function RB(t,e,n){let r=q(t),i=r.queries.get(e);if(i)for(let o of i.Ra)o.onError(n);r.queries.delete(e)}function wv(t){t.fa.forEach(e=>{e.next()})}var By,LC;(LC=By||(By={})).ya="default",LC.Cache="cache";var Bl=class{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new wo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;let r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;let n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==By.Cache}};var Ul=class{constructor(e){this.key=e}},$l=class{constructor(e){this.key=e}},Uy=class{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=oe(),this.mutatedKeys=oe(),this.Ua=S0(e),this.Ka=new Vl(this.Ua)}get Wa(){return this.qa}Ga(e,n){let r=n?n.za:new jl,i=n?n.Ka:this.Ka,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=nd(this.query,p)?p:null,T=!!m&&this.mutatedKeys.has(m.key),R=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),N=!1;m&&y?m.data.isEqual(y.data)?T!==R&&(r.track({type:3,doc:y}),N=!0):this.ja(m,y)||(r.track({type:2,doc:y}),N=!0,(u&&this.Ua(y,u)>0||l&&this.Ua(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),N=!0):m&&!y&&(r.track({type:1,doc:m}),N=!0,(u||l)&&(a=!0)),N&&(y?(s=s.add(y),o=R?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ka:s,za:r,ys:a,mutatedKeys:o}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;let s=e.za.da();s.sort((h,p)=>function(y,T){let R=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return B(20277,{Vt:N})}};return R(y)-R(T)}(h.type,p.type)||this.Ua(h.doc,p.doc)),this.Ha(r),i=i!=null&&i;let a=n&&!i?this.Ja():[],u=this.$a.size===0&&this.current&&!i?1:0,l=u!==this.Qa;return this.Qa=u,s.length!==0||l?{snapshot:new wo(this.query,e.Ka,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new jl,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];let e=this.$a;this.$a=oe(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});let n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new $l(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new Ul(r))}),n}Xa(e){this.qa=e.Ns,this.$a=oe();let n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return wo.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}},Tv="SyncEngine",$y=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Hy=class{constructor(e){this.key=e,this.tu=!1}},qy=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new Bn(a=>C0(a),td),this.iu=new Map,this.su=new Set,this.ou=new Ae(j.comparator),this._u=new Map,this.au=new ha,this.uu={},this.cu=new Map,this.lu=da.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}};function NB(t,e,n=!0){return _(this,null,function*(){let r=cS(t),i,o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.eu()):i=yield rS(r,e,n,!0),i})}function PB(t,e){return _(this,null,function*(){let n=cS(t);yield rS(n,e,!0,!1)})}function rS(t,e,n,r){return _(this,null,function*(){let i=yield pB(t.localStore,ln(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield MB(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&Q0(t.remoteStore,i),a})}function MB(t,e,n,r,i){return _(this,null,function*(){t.Pu=(p,m,y)=>function(R,N,x,L){return _(this,null,function*(){let $=N.view.Ga(x);$.ys&&($=yield MC(R.localStore,N.query,!1).then(({documents:D})=>N.view.Ga(D,$)));let ce=L&&L.targetChanges.get(N.targetId),Fe=L&&L.targetMismatches.get(N.targetId)!=null,le=N.view.applyChanges($,R.isPrimaryClient,ce,Fe);return jC(R,N.targetId,le.Ya),le.snapshot})}(t,p,m,y);let o=yield MC(t.localStore,e,!0),s=new Uy(e,o.Ns),a=s.Ga(o.documents),u=ua.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);jC(t,n,l.Ya);let h=new $y(e,n,s);return t.ru.set(e,h),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),l.snapshot})}function kB(t,e,n){return _(this,null,function*(){let r=q(t),i=r.ru.get(e),o=r.iu.get(i.targetId);if(o.length>1)return r.iu.set(i.targetId,o.filter(s=>!td(s,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Dy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&yv(r.remoteStore,i.targetId),zy(r,i.targetId)}).catch(Ao))):(zy(r,i.targetId),yield Dy(r.localStore,i.targetId,!0))})}function xB(t,e){return _(this,null,function*(){let n=q(t),r=n.ru.get(e),i=n.iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),yv(n.remoteStore,r.targetId))})}function OB(t,e,n){return _(this,null,function*(){let r=$B(t);try{let i=yield function(s,a){let u=q(s),l=$e.now(),h=a.reduce((y,T)=>y.add(T.key),oe()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=Un(),R=oe();return u.Cs.getEntries(y,h).next(N=>{T=N,T.forEach((x,L)=>{L.isValidDocument()||(R=R.add(x))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,T)).next(N=>{p=N;let x=[];for(let L of a){let $=Bj(L,p.get(L.key).overlayedDocument);$!=null&&x.push(new pn(L.key,$,_0($.value.mapValue),dn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,x,a)}).next(N=>{m=N;let x=N.applyToLocalDocumentSet(p,R);return u.documentOverlayCache.saveOverlays(y,N.batchId,x)})}).then(()=>({batchId:m.batchId,changes:R0(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.uu[s.currentUser.toKey()];l||(l=new Ae(ee)),l=l.insert(a,u),s.uu[s.currentUser.toKey()]=l}(r,i.batchId,n),yield va(r,i.changes),yield od(r.remoteStore)}catch(i){let o=Ev(i,"Failed to persist write");n.reject(o)}})}function iS(t,e){return _(this,null,function*(){let n=q(t);try{let r=yield dB(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n._u.get(o);s&&(ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.tu=!0:i.modifiedDocuments.size>0?ue(s.tu,14607):i.removedDocuments.size>0&&(ue(s.tu,42227),s.tu=!1))}),yield va(n,r,e)}catch(r){yield Ao(r)}})}function VC(t,e,n){let r=q(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ru.forEach((o,s)=>{let a=s.view.ga(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=q(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.Ra)m.ga(a)&&(l=!0)}),l&&wv(u)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function FB(t,e,n){return _(this,null,function*(){let r=q(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r._u.get(e),o=i&&i.key;if(o){let s=new Ae(j.comparator);s=s.insert(o,qt.newNoDocument(o,G.min()));let a=oe().add(o),u=new bl(G.min(),new Map,new Ae(ee),s,a);yield iS(r,u),r.ou=r.ou.remove(o),r._u.delete(e),Dv(r)}else yield Dy(r.localStore,e,!1).then(()=>zy(r,e,n)).catch(Ao)})}function LB(t,e){return _(this,null,function*(){let n=q(t),r=e.batch.batchId;try{let i=yield lB(n.localStore,e);sS(n,r,null),oS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield va(n,i)}catch(i){yield Ao(i)}})}function VB(t,e,n){return _(this,null,function*(){let r=q(t);try{let i=yield function(s,a){let u=q(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(ue(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);sS(r,e,n),oS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield va(r,i)}catch(i){yield Ao(i)}})}function oS(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function sS(t,e,n){let r=q(t),i=r.uu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function zy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||aS(t,r)})}function aS(t,e){t.su.delete(e.path.canonicalString());let n=t.ou.get(e);n!==null&&(yv(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),Dv(t))}function jC(t,e,n){for(let r of n)r instanceof Ul?(t.au.addReference(r.key,e),jB(t,r)):r instanceof $l?(O(Tv,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||aS(t,r.key)):B(19791,{Iu:r})}function jB(t,e){let n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(O(Tv,"New document in limbo: "+n),t.su.add(r),Dv(t))}function Dv(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){let e=t.su.values().next().value;t.su.delete(e);let n=new j(we.fromString(e)),r=t.lu.next();t._u.set(r,new Hy(n)),t.ou=t.ou.insert(n,r),Q0(t.remoteStore,new la(ln(fv(n.path)),r,"TargetPurposeLimboResolution",ov.le))}}function va(t,e,n){return _(this,null,function*(){let r=q(t),i=[],o=[],s=[];r.ru.isEmpty()||(r.ru.forEach((a,u)=>{s.push(r.Pu(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Iy.Ps(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.nu.Q_(i),yield function(u,l){return _(this,null,function*(){let h=q(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>M.forEach(l,m=>M.forEach(m.ls,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>M.forEach(m.hs,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Ro(p))throw p;O(mv,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Ss.get(m),T=y.snapshotVersion,R=y.withLastLimboFreeSnapshotVersion(T);h.Ss=h.Ss.insert(m,R)}}})}(r.localStore,o))})}function BB(t,e){return _(this,null,function*(){let n=q(t);if(!n.currentUser.isEqual(e)){O(Tv,"User change. New user:",e.toKey());let r=yield G0(n.localStore,e);n.currentUser=e,function(o,s){o.cu.forEach(a=>{a.forEach(u=>{u.reject(new F(P.CANCELLED,s))})}),o.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield va(n,r.Ms)}})}function UB(t,e){let n=q(t),r=n._u.get(e);if(r&&r.tu)return oe().add(r.key);{let i=oe(),o=n.iu.get(e);if(!o)return i;for(let s of o){let a=n.ru.get(s);i=i.unionWith(a.view.Wa)}return i}}function cS(t){let e=q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FB.bind(null,e),e.nu.Q_=AB.bind(null,e.eventManager),e.nu.Tu=RB.bind(null,e.eventManager),e}function $B(t){let e=q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VB.bind(null,e),e}var uS=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return _(this,null,function*(){this.serializer=rd(n.databaseInfo.databaseId),this.sharedClientState=this.Au(n),this.persistence=this.Ru(n),yield this.persistence.start(),this.localStore=this.Vu(n),this.gcScheduler=this.mu(n,this.localStore),this.indexBackfillerScheduler=this.fu(n,this.localStore)})}mu(n,r){return null}fu(n,r){return null}Vu(n){return uB(this.persistence,new wy,n.initialUser,this.serializer)}Ru(n){return new Pl(_y.Ei,this.serializer)}Au(n){return new by}terminate(){return _(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),Wy=class extends uS{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){ue(this.persistence.referenceDelegate instanceof Ml,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new sy(r,e.asyncQueue,n)}Ru(e){let n=this.cacheSizeBytes!==void 0?Pt.withCacheSize(this.cacheSizeBytes):Pt.DEFAULT;return new Pl(r=>Ml.Ei(r,n),this.serializer)}};var HB=(()=>{class t{initialize(n,r){return _(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>VC(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=BB.bind(null,this.syncEngine),yield SB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new jy}()}createDatastore(n){let r=rd(n.databaseInfo.databaseId),i=function(s){return new Ny(s)}(n.databaseInfo);return function(s,a,u,l){return new xy(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new Fy(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>VC(this.syncEngine,r,0),function(){return xl.C()?new xl:new Cy}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let m=new qy(o,s,a,u,l,h);return p&&(m.hu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var n,r;yield function(o){return _(this,null,function*(){let s=q(o);O(pi,"RemoteStore shutting down."),s.aa.add(5),yield ya(s),s.ca.shutdown(),s.la.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Hl=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ln("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var gr="FirestoreClient",Gy=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ve.UNAUTHENTICATED,this.clientId=vl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){O(gr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(O(gr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ht;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Ev(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function ym(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),O(gr,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield G0(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function BC(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield qB(t);O(gr,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>OC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>OC(e.remoteStore,i)),t._onlineComponents=e})}function qB(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){O(gr,"Using user provided OfflineComponentProvider");try{yield ym(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===P.FAILED_PRECONDITION||i.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),yield ym(t,new uS)}}else O(gr,"Using default OfflineComponentProvider"),yield ym(t,new Wy(void 0));return t._offlineComponents})}function lS(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(O(gr,"Using user provided OnlineComponentProvider"),yield BC(t,t._uninitializedComponentsProvider._online)):(O(gr,"Using default OnlineComponentProvider"),yield BC(t,new HB))),t._onlineComponents})}function zB(t){return lS(t).then(e=>e.syncEngine)}function dS(t){return _(this,null,function*(){let e=yield lS(t),n=e.eventManager;return n.onListen=NB.bind(null,e.syncEngine),n.onUnlisten=kB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=PB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xB.bind(null,e.syncEngine),n})}function WB(t,e,n={}){let r=new Ht;return t.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,a,u,l){let h=new Hl({next:m=>{h.yu(),s.enqueueAndForget(()=>nS(o,p));let y=m.docs.has(a);!y&&m.fromCache?l.reject(new F(P.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new F(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Bl(fv(a.path),h,{includeMetadataChanges:!0,Fa:!0});return tS(o,p)}(yield dS(t),t.asyncQueue,e,n,r)})),r.promise}function GB(t,e,n={}){let r=new Ht;return t.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,a,u,l){let h=new Hl({next:m=>{h.yu(),s.enqueueAndForget(()=>nS(o,p)),m.fromCache&&u.source==="server"?l.reject(new F(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Bl(a,h,{includeMetadataChanges:!0,Fa:!0});return tS(o,p)}(yield dS(t),t.asyncQueue,e,n,r)})),r.promise}function hS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var UC=new Map;function fS(t,e,n){if(!n)throw new F(P.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function KB(t,e,n,r){if(e===!0&&r===!0)throw new F(P.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $C(t){if(!j.isDocumentKey(t))throw new F(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function HC(t){if(j.isDocumentKey(t))throw new F(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":B(12329,{type:typeof t})}function Wt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=sd(t);throw new F(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var pS="firestore.googleapis.com",qC=!0,ql=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new F(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pS,this.ssl=qC}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:qC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=W0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sB)throw new F(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new F(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new F(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new F(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},To=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ql({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new F(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ql(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new vm;switch(r.type){case"firstParty":return new wm(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Ki("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=UC.get(n);r&&(O("ComponentProvider","Removing Datastore"),UC.delete(n),r.terminate())}(this),Promise.resolve()}};function gS(t,e,n,r={}){var i;t=Wt(t,To);let o=Qr(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;s.host!==pS&&s.host!==u&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!rn(l,a)&&(t._setSettings(l),o&&(Lu(`https://${u}`),Ki("Firestore",!0)),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Ve.MOCK_USER;else{h=bD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new F(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ve(m)}t._authCredentials=new _m(new ml(h,p))}}var Do=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},at=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},hr=class t extends Do{constructor(e,n,r){super(e,n,fv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new at(this.firestore,null,new j(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function mS(t,e,...n){if(t=be(t),fS("collection","path",e),t instanceof To){let r=we.fromString(e,...n);return HC(r),new hr(t,null,r)}{if(!(t instanceof at||t instanceof hr))throw new F(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(we.fromString(e,...n));return HC(r),new hr(t.firestore,null,r)}}function bv(t,e,...n){if(t=be(t),arguments.length===1&&(e=vl.newId()),fS("doc","path",e),t instanceof To){let r=we.fromString(e,...n);return $C(r),new at(t,null,new j(r))}{if(!(t instanceof at||t instanceof hr))throw new F(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(we.fromString(e,...n));return $C(r),new at(t.firestore,t instanceof hr?t.converter:null,new j(r))}}var zC="AsyncQueue",zl=class{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new Ol(this,"async_queue_retry"),this.ju=()=>{let r=mm();r&&O(zC,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;let n=mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;let n=mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});let n=new Ht;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}Zu(){return _(this,null,function*(){if(this.Qu.length!==0){try{yield this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Ro(e))throw e;O(zC,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}})}Yu(e){let n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Ln("INTERNAL UNHANDLED ERROR: ",WC(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);let i=Ly.createAndSchedule(this,e,n,r,o=>this.Xu(o));return this.Uu.push(i),i}Ju(){this.Ku&&B(47125,{ec:WC(this.Ku)})}verifyOperationInProgress(){}tc(){return _(this,null,function*(){let e;do e=this.Hu,yield e;while(e!==this.Hu)})}nc(e){for(let n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){let n=this.Uu.indexOf(e);this.Uu.splice(n,1)}};function WC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}var $n=class extends To{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new zl,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new zl(e),this._firestoreClient=void 0,yield e}})}};function yS(t,e){let n=typeof t=="object"?t:Zr(),r=typeof t=="string"?t:e||wl,i=Zi(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=DD("firestore");o&&gS(i,...o)}return i}function Cv(t){if(t._terminated)throw new F(P.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||QB(t),t._firestoreClient}function QB(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new Sm(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,hS(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Gy(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var fa=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Je.fromBase64String(e))}catch(n){throw new F(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var bo=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Co=class{constructor(e){this._methodName=e}};var pa=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ee(this._lat,e._lat)||ee(this._long,e._long)}};var ga=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var YB=/^__.*__$/,Ky=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pn(e,this.data,this.fieldMask,n,this.fieldTransforms):new fi(e,this.data,n,this.fieldTransforms)}},Wl=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new pn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function vS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw B(40011,{oc:t})}}var Qy=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Kl(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(vS(this.oc)&&YB.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}},Yy=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||rd(e)}dc(e,n,r,i=!1){return new Qy({oc:e,methodName:n,Ec:r,path:bt.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function ad(t){let e=t._freezeSettings(),n=rd(t._databaseId);return new Yy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _S(t,e,n,r,i,o={}){let s=t.dc(o.merge||o.mergeFields?2:0,e,n,i);Sv("Data must be an object, but it was:",s,r);let a=IS(r,s),u,l;if(o.merge)u=new Mt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=Jy(e,p,n);if(!s.contains(m))throw new F(P.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);wS(h,m)||h.push(m)}u=new Mt(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new Ky(new Dt(a),u,l)}var Gl=class t extends Co{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};var Zy=class t extends Co{_toFieldTransform(e){return new $m(e.path,new li)}isEqual(e){return e instanceof t}};function ZB(t,e,n,r){let i=t.dc(1,e,n);Sv("Data must be an object, but it was:",i,r);let o=[],s=Dt.empty();mr(r,(u,l)=>{let h=Av(e,u,n);l=be(l);let p=i.hc(h);if(l instanceof Gl)o.push(h);else{let m=_a(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new Mt(o);return new Wl(s,a,i.fieldTransforms)}function JB(t,e,n,r,i,o){let s=t.dc(1,e,n),a=[Jy(e,r,n)],u=[i];if(o.length%2!=0)throw new F(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(Jy(e,o[m])),u.push(o[m+1]);let l=[],h=Dt.empty();for(let m=a.length-1;m>=0;--m)if(!wS(l,a[m])){let y=a[m],T=u[m];T=be(T);let R=s.hc(y);if(T instanceof Gl)l.push(y);else{let N=_a(T,R);N!=null&&(l.push(y),h.set(y,N))}}let p=new Mt(l);return new Wl(h,p,s.fieldTransforms)}function XB(t,e,n,r=!1){return _a(n,t.dc(r?4:3,e))}function _a(t,e){if(ES(t=be(t)))return Sv("Unsupported field value:",e,t),IS(t,e);if(t instanceof Co)return function(r,i){if(!vS(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=_a(a,i.Pc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=be(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Oj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=$e.fromDate(r);return{timestampValue:Rl(i.serializer,o)}}if(r instanceof $e){let o=new $e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rl(i.serializer,o)}}if(r instanceof pa)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fa)return{bytesValue:j0(i.serializer,r._byteString)};if(r instanceof at){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:gv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ga)return function(s,a){return{mapValue:{fields:{[cv]:{stringValue:uv},[po]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Tc("VectorValues must only contain numeric values.");return pv(a.serializer,l)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${sd(r)}`)}(t,e)}function IS(t,e){let n={};return d0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mr(t,(r,i)=>{let o=_a(i,e.uc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function ES(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $e||t instanceof pa||t instanceof fa||t instanceof at||t instanceof Co||t instanceof ga)}function Sv(t,e,n){if(!ES(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=sd(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function Jy(t,e,n){if((e=be(e))instanceof bo)return e._internalPath;if(typeof e=="string")return Av(t,e);throw Kl("Field path arguments must be of type string or ",t,!1,void 0,n)}var eU=new RegExp("[~\\*/\\[\\]]");function Av(t,e,n){if(e.search(eU)>=0)throw Kl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bo(...e.split("."))._internalPath}catch{throw Kl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kl(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new F(P.INVALID_ARGUMENT,a+t+u)}function wS(t,e){return t.some(n=>n.isEqual(e))}var Ql=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new at(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Xy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Rv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Xy=class extends Ql{data(){return super.data()}};function Rv(t,e){return typeof e=="string"?Av(t,e):e instanceof bo?e._internalPath:e._delegate._internalPath}function tU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ma=class{},ev=class extends ma{};function TS(t,e,...n){let r=[];e instanceof ma&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof tv).length,a=o.filter(u=>u instanceof Yl).length;if(s>1||s>0&&a>0)throw new F(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Yl=class t extends ev{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return bS(e._query,n),new Do(e.firestore,e.converter,Bm(e._query,n))}_parse(e){let n=ad(e.firestore);return function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new F(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){KC(p,h);let T=[];for(let R of p)T.push(GC(u,o,R));m={arrayValue:{values:T}}}else m=GC(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||KC(p,h),m=XB(a,s,p,h==="in"||h==="not-in");return xe.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function DS(t,e,n){let r=e,i=Rv("where",t);return Yl._create(i,r,n)}var tv=class t extends ma{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:zt.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)bS(s,u),s=Bm(s,u)}(e._query,n),new Do(e.firestore,e.converter,Bm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function GC(t,e,n){if(typeof(n=be(n))=="string"){if(n==="")throw new F(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!b0(e)&&n.indexOf("/")!==-1)throw new F(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(we.fromString(n));if(!j.isDocumentKey(r))throw new F(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fC(t,new j(r))}if(n instanceof at)return fC(t,n._key);throw new F(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sd(n)}.`)}function KC(t,e){if(!Array.isArray(t)||t.length===0)throw new F(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bS(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new F(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new F(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var nv=class{convertValue(e,n="none"){switch(fr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(jn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw B(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return mr(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[po].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>_e(s.doubleValue));return new ga(o)}convertGeoPoint(e){return new pa(_e(e.latitude),_e(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=ed(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(sa(e));default:return null}}convertTimestamp(e){let n=Vn(e);return new $e(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=we.fromString(e);ue(z0(r),9688,{name:e});let i=new Tl(r.get(1),r.get(3)),o=new j(r.popFirst(5));return i.isEqual(n)||Ln(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function CS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var si=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Zl=class extends Ql{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new lo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Rv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},lo=class extends Zl{data(e={}){return super.data(e)}},rv=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new si(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new lo(this._firestore,this._userDataWriter,r.key,r,new si(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new lo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new si(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new lo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new si(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:nU(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function nU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return B(61501,{type:t})}}function SS(t){t=Wt(t,at);let e=Wt(t.firestore,$n);return WB(Cv(e),t._key).then(n=>rU(e,t,n))}var Jl=class extends nv{constructor(e){super(),this.firestore=e}convertBytes(e){return new fa(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new at(this.firestore,null,n)}};function AS(t){t=Wt(t,Do);let e=Wt(t.firestore,$n),n=Cv(e),r=new Jl(e);return tU(t._query),GB(n,t._query).then(i=>new rv(e,r,t,i))}function RS(t,e,n){t=Wt(t,at);let r=Wt(t.firestore,$n),i=CS(t.converter,e,n);return cd(r,[_S(ad(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,dn.none())])}function NS(t,e,n,...r){t=Wt(t,at);let i=Wt(t.firestore,$n),o=ad(i),s;return s=typeof(e=be(e))=="string"||e instanceof bo?JB(o,"updateDoc",t._key,e,n,r):ZB(o,"updateDoc",t._key,e),cd(i,[s.toMutation(t._key,dn.exists(!0))])}function PS(t){return cd(Wt(t.firestore,$n),[new ca(t._key,dn.none())])}function MS(t,e){let n=Wt(t.firestore,$n),r=bv(t),i=CS(t.converter,e);return cd(n,[_S(ad(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,dn.exists(!1))]).then(()=>r)}function cd(t,e){return function(r,i){let o=new Ht;return r.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return OB(yield zB(r),i,o)})),o.promise}(Cv(t),e)}function rU(t,e,n){let r=n.docs.get(e._key),i=new Jl(t);return new Zl(t,i,e._key,r,new si(n.hasPendingWrites,n.fromCache),e.converter)}function FG(){return new Zy("serverTimestamp")}(function(e,n=!0){(function(i){So=i})(ir),Ut(new st("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new $n(new Im(r.getProvider("auth-internal")),new Tm(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new F(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tl(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ce(rC,iC,e),Ce(rC,iC,"esm2017")})();var Ia=class{constructor(e){return e}},kS="firestore",Nv=class{constructor(){return Xi(kS)}};var Pv=new Q("angularfire2.firestore-instances");function iU(t,e){let n=js(kS,t,e);return n&&new Ia(n)}function oU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ia(r)}}var sU={provide:Nv,deps:[[new Et,Pv]]},aU={provide:Ia,useFactory:iU,deps:[[new Et,Pv],Nn]};function U7(t,...e){return Ce("angularfire",or.full,"fst"),nr([aU,sU,{provide:Pv,useFactory:oU(t),multi:!0,deps:[Ie,Ke,sr,Xr,[new Et,Zs],[new Et,eo],...e]}])}var $7=Se(MS,!0,2);var H7=Se(mS,!0,2);var q7=Se(PS,!0,2);var z7=Se(bv,!0,2);var W7=Se(SS,!0);var G7=Se(AS,!0);var K7=Se(yS,!0);var Q7=Se(TS,!0,2);var Y7=Se(RS,!0,2);var Z7=Se(NS,!0,2);var J7=Se(DS,!0,2);export{ct as a,ut as b,cU as c,_ as d,Ne as e,NA as f,te as g,sh as h,ah as i,St as j,ns as k,Dr as l,Kt as m,BA as n,UA as o,$A as p,Cr as q,Sr as r,YA as s,Ar as t,is as u,gc as v,JA as w,XA as x,eR as y,Rr as z,tR as A,fI as B,nR as C,rR as D,os as E,fh as F,iR as G,aR as H,cR as I,ph as J,uR as K,lR as L,dR as M,hR as N,fR as O,pR as P,gR as Q,mR as R,Z as S,uE as T,de as U,dE as V,Ez as W,Q as X,ne as Y,Ue as Z,V as _,nr as $,zR as aa,CE as ba,Yt as ca,Bi as da,nN as ea,wz as fa,Tz as ga,Dz as ha,uw as ia,Ke as ja,RI as ka,du as la,Es as ma,Jn as na,Ie as oa,$r as pa,bz as qa,Gr as ra,nP as sa,Cz as ta,uP as ua,dP as va,ip as wa,Sz as xa,Az as ya,fu as za,ws as Aa,vP as Ba,_P as Ca,ps as Da,Ts as Ea,Rw as Fa,Rz as Ga,Nz as Ha,Pz as Ia,Mz as Ja,kz as Ka,Nw as La,xz as Ma,ap as Na,Oz as Oa,Fz as Pa,zc as Qa,Gc as Ra,wp as Sa,Qe as Ta,Hz as Ua,Wi as Va,Li as Wa,Wk as Xa,Gk as Ya,Gz as Za,vT as _a,Eu as $a,tx as ab,hx as bb,Kz as cb,Ap as db,Qz as eb,yx as fb,ms as gb,wx as hb,Ox as ib,Fx as jb,Yz as kb,kT as lb,xT as mb,Kx as nb,Zx as ob,Jx as pb,Zz as qb,a1 as rb,Jz as sb,Xz as tb,e9 as ub,d1 as vb,t9 as wb,n9 as xb,r9 as yb,i9 as zb,o9 as Ab,p1 as Bb,FT as Cb,g1 as Db,m1 as Eb,y1 as Fb,s9 as Gb,v1 as Hb,a9 as Ib,c9 as Jb,u9 as Kb,l9 as Lb,d9 as Mb,h9 as Nb,jT as Ob,f9 as Pb,p9 as Qb,$T as Rb,g9 as Sb,$1 as Tb,HT as Ub,H1 as Vb,m9 as Wb,y9 as Xb,Ss as Yb,wu as Zb,q1 as _b,kp as $b,z1 as ac,Gi as bc,KT as cc,QT as dc,Q1 as ec,mO as fc,pD as gc,yO as hc,_O as ic,IO as jc,TO as kc,DO as lc,vD as mc,bO as nc,CO as oc,Up as pc,B8 as qc,W5 as rc,G5 as sc,Ys as tc,dG as uc,hG as vc,fG as wc,pG as xc,gG as yc,mG as zc,yG as Ac,FG as Bc,Ia as Cc,U7 as Dc,$7 as Ec,H7 as Fc,q7 as Gc,z7 as Hc,W7 as Ic,G7 as Jc,K7 as Kc,Q7 as Lc,Y7 as Mc,Z7 as Nc,J7 as Oc};
