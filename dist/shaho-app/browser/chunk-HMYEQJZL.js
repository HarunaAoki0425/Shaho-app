import{a as y}from"./chunk-MZF3K7CE.js";import{a as l}from"./chunk-FUHT4GF3.js";import{d as j,f as z}from"./chunk-7R4IIRUB.js";import{$d as O,Bb as s,Cb as _,Db as P,Ed as H,Fb as g,Ld as $,Mb as I,Ob as x,Pa as o,Ta as w,Za as B,a as C,b as E,bb as A,d as F,ee as S,ib as c,jc as U,mb as a,mc as N,me as M,nb as i,nc as W,sb as L,tb as p,we as T,ze as v}from"./chunk-22J4FPNL.js";function X(n,t){n&1&&(a(0,"span"),s(1,"\u2716"),i())}function Z(n,t){if(n&1&&(a(0,"span"),s(1),i()),n&2){let e=p();o(),_(e.healthInsuranceResult?"\u3007":"\u2716")}}function ee(n,t){n&1&&(a(0,"span"),s(1,"\u2716"),i())}function te(n,t){if(n&1&&(a(0,"span"),s(1),i()),n&2){let e=p();o(),_(e.careInsuranceResult?"\u3007":"\u2716")}}function ne(n,t){n&1&&(a(0,"span"),s(1,"\u2716"),i())}function ae(n,t){if(n&1&&(a(0,"span"),s(1),i()),n&2){let e=p();o(),_(e.pensionInsuranceResult?"\u3007":"\u2716")}}function ie(n,t){n&1&&(a(0,"div",15),s(1,"\u8A08\u7B97\u4E2D\u30FB\u30FB\u30FB"),i())}function re(n,t){n&1&&(a(0,"div",16),s(1," \u793E\u4F1A\u4FDD\u967A\u52A0\u5165\u5BFE\u8C61\u5916\u3067\u3059 "),i())}function se(n,t){if(n&1&&(a(0,"div",18)(1,"span",19),s(2,"\u5065\u5EB7\u4FDD\u967A\uFF08\u5168\u984D\uFF09"),i(),a(3,"span",20),s(4),I(5,"number"),i()()),n&2){let e=p(2);o(4),g("",e.latestStandard!=null&&e.latestStandard.kenpoStandardMonthly?x(5,3,e.latestStandard.kenpoStandardMonthly,"1.0-0"):"---","\u5186\xD7",e.healthInsuranceRate100,"\uFF05\uFF1D",e.healthInsuranceAmount,"\u5186")}}function oe(n,t){if(n&1&&(a(0,"div",18)(1,"span",19),s(2,"\u5065\u5EB7\u4FDD\u967A\uFF08\u4F1A\u793E\u8CA0\u62C5\uFF09"),i(),a(3,"span",20),s(4),I(5,"number"),i()()),n&2){let e=p(2);o(4),g("",e.latestStandard!=null&&e.latestStandard.kenpoStandardMonthly?x(5,3,e.latestStandard.kenpoStandardMonthly,"1.0-0"):"---","\u5186\xD7",e.healthInsuranceRate100,"\uFF05\xF72\uFF1D",e.healthInsuranceAmountCompany,"\u5186")}}function le(n,t){if(n&1&&(a(0,"div",18)(1,"span",19),s(2,"\u5065\u5EB7\u4FDD\u967A\uFF08\u5F93\u696D\u54E1\u8CA0\u62C5\uFF09"),i(),a(3,"span",20),s(4),I(5,"number"),i()()),n&2){let e=p(2);o(4),g("",e.latestStandard!=null&&e.latestStandard.kenpoStandardMonthly?x(5,3,e.latestStandard.kenpoStandardMonthly,"1.0-0"):"---","\u5186\xD7",e.healthInsuranceRate100,"\uFF05\xF72\uFF1D",e.healthInsuranceAmountEmployee,"\u5186")}}function ue(n,t){if(n&1&&(a(0,"div",18)(1,"span",19),s(2,"\u4ECB\u8B77\u4FDD\u967A\uFF08\u5168\u984D\uFF09"),i(),a(3,"span",20),s(4),I(5,"number"),i()()),n&2){let e=p(2);o(4),g("",e.latestStandard!=null&&e.latestStandard.kenpoStandardMonthly?x(5,3,e.latestStandard.kenpoStandardMonthly,"1.0-0"):"---","\u5186\xD7",e.careInsuranceRate100,"\uFF05\uFF1D",e.careInsuranceAmount,"\u5186")}}function ce(n,t){if(n&1&&(a(0,"div",18)(1,"span",19),s(2,"\u4ECB\u8B77\u4FDD\u967A\uFF08\u4F1A\u793E\u8CA0\u62C5\uFF09"),i(),a(3,"span",20),s(4),I(5,"number"),i()()),n&2){let e=p(2);o(4),g("",e.latestStandard!=null&&e.latestStandard.kenpoStandardMonthly?x(5,3,e.latestStandard.kenpoStandardMonthly,"1.0-0"):"---","\u5186\xD7",e.careInsuranceRate100,"\uFF05\xF72\uFF1D",e.careInsuranceAmountCompany,"\u5186")}}function de(n,t){if(n&1&&(a(0,"div",18)(1,"span",19),s(2,"\u4ECB\u8B77\u4FDD\u967A\uFF08\u5F93\u696D\u54E1\u8CA0\u62C5\uFF09"),i(),a(3,"span",20),s(4),I(5,"number"),i()()),n&2){let e=p(2);o(4),g("",e.latestStandard!=null&&e.latestStandard.kenpoStandardMonthly?x(5,3,e.latestStandard.kenpoStandardMonthly,"1.0-0"):"---","\u5186\xD7",e.careInsuranceRate100,"\uFF05\xF72\uFF1D",e.careInsuranceAmountEmployee,"\u5186")}}function me(n,t){if(n&1&&(a(0,"div",18)(1,"span",19),s(2,"\u539A\u751F\u5E74\u91D1\uFF08\u5168\u984D\uFF09"),i(),a(3,"span",20),s(4),I(5,"number"),i()()),n&2){let e=p(2);o(4),g("",e.latestStandard!=null&&e.latestStandard.nenkinStandardMonthly?x(5,3,e.latestStandard.nenkinStandardMonthly,"1.0-0"):"---","\u5186\xD7",e.pensionInsuranceRate100,"\uFF05\uFF1D",e.pensionInsuranceAmount,"\u5186")}}function pe(n,t){if(n&1&&(a(0,"div",18)(1,"span",19),s(2,"\u539A\u751F\u5E74\u91D1\uFF08\u4F1A\u793E\u8CA0\u62C5\uFF09"),i(),a(3,"span",20),s(4),I(5,"number"),i()()),n&2){let e=p(2);o(4),g("",e.latestStandard!=null&&e.latestStandard.nenkinStandardMonthly?x(5,3,e.latestStandard.nenkinStandardMonthly,"1.0-0"):"---","\u5186\xD7",e.pensionInsuranceRate100,"\uFF05\xF72\uFF1D",e.pensionInsuranceAmountCompany,"\u5186")}}function he(n,t){if(n&1&&(a(0,"div",18)(1,"span",19),s(2,"\u539A\u751F\u5E74\u91D1\uFF08\u5F93\u696D\u54E1\u8CA0\u62C5\uFF09"),i(),a(3,"span",20),s(4),I(5,"number"),i()()),n&2){let e=p(2);o(4),g("",e.latestStandard!=null&&e.latestStandard.nenkinStandardMonthly?x(5,3,e.latestStandard.nenkinStandardMonthly,"1.0-0"):"---","\u5186\xD7",e.pensionInsuranceRate100,"\uFF05\xF72\uFF1D",e.pensionInsuranceAmountEmployee,"\u5186")}}function fe(n,t){if(n&1&&(a(0,"div",18)(1,"span",19),s(2,"\u5168\u984D\u5408\u8A08"),i(),a(3,"span",20),s(4),i()()),n&2){let e=p(2);o(4),P("",e.totalInsuranceAmount,"\u5186")}}function ge(n,t){if(n&1&&(a(0,"div",18)(1,"span",19),s(2,"\u4F1A\u793E\u8CA0\u62C5\u5408\u8A08"),i(),a(3,"span",20),s(4),i()()),n&2){let e=p(2);o(4),P("",e.totalInsuranceAmountCompany,"\u5186")}}function Ie(n,t){if(n&1&&(a(0,"div",18)(1,"span",19),s(2,"\u5F93\u696D\u54E1\u8CA0\u62C5\u5408\u8A08"),i(),a(3,"span",20),s(4),i()()),n&2){let e=p(2);o(4),P("",e.totalInsuranceAmountEmployee,"\u5186")}}function xe(n,t){if(n&1&&(a(0,"div"),A(1,se,6,6,"div",17)(2,oe,6,6,"div",17)(3,le,6,6,"div",17)(4,ue,6,6,"div",17)(5,ce,6,6,"div",17)(6,de,6,6,"div",17)(7,me,6,6,"div",17)(8,pe,6,6,"div",17)(9,he,6,6,"div",17)(10,fe,5,1,"div",17)(11,ge,5,1,"div",17)(12,Ie,5,1,"div",17),i()),n&2){let e=p();o(),c("ngIf",e.healthInsuranceResult),o(),c("ngIf",e.healthInsuranceResult),o(),c("ngIf",e.healthInsuranceResult),o(),c("ngIf",e.careInsuranceResult),o(),c("ngIf",e.careInsuranceResult),o(),c("ngIf",e.careInsuranceResult),o(),c("ngIf",e.pensionInsuranceResult),o(),c("ngIf",e.pensionInsuranceResult),o(),c("ngIf",e.pensionInsuranceResult),o(),c("ngIf",e.healthInsuranceResult||e.careInsuranceResult||e.pensionInsuranceResult),o(),c("ngIf",e.healthInsuranceResult||e.careInsuranceResult||e.pensionInsuranceResult),o(),c("ngIf",e.healthInsuranceResult||e.careInsuranceResult||e.pensionInsuranceResult)}}var q=class n{constructor(t,e,r){this.route=t;this.firestore=e;this.router=r}employeesId="";companyId="";employeeData=null;companyData=null;officeData=null;insuranceRateData=null;currentNendo=(()=>{let t=new Date,e=t.getFullYear();return t.getMonth()+1>=4?e:e-1})();standardsList=[];isLoading=!0;eligibilityResult=null;isSocialInsuranceExcluded=!1;healthInsuranceResult=!1;careInsuranceResult=!1;pensionInsuranceResult=!1;hasUnsavedCalc=!1;hasSavedExcludedInsurance=!1;triedSaveExcluded=!1;ngOnInit(){return F(this,null,function*(){this.isLoading=!0,this.employeesId=this.route.snapshot.paramMap.get("id")||"";let t=S(this.firestore,"companies"),e=yield v(t);for(let r of e.docs){let h=S(this.firestore,"companies",r.id,"employees"),D=yield v(h);for(let d of D.docs)if(d.id===this.employeesId){this.companyId=r.id,this.employeeData=d.data();let u=M(this.firestore,"companies",this.companyId),f=yield T(u);if(this.companyData=f.exists()?f.data():null,this.employeeData.officesId){let m=M(this.firestore,"companies",this.companyId,"offices",this.employeeData.officesId),R=yield T(m);if(this.officeData=R.exists()?R.data():null,this.officeData&&this.officeData.officePrefecture){let K=S(this.firestore,"insurance_rates"),Q=yield v(K);this.insuranceRateData=Q.docs.map(b=>b.data()).find(b=>b.prefecture===this.officeData.officePrefecture&&String(b.year)===String(this.currentNendo))||null}}let k=S(this.firestore,`companies/${this.companyId}/employees/${this.employeesId}/standards`),G=yield v(k);if(this.standardsList=G.docs.map(m=>C({id:m.id},m.data())).filter(m=>!!m.createdAt).map(m=>E(C({},m),{_millis:m.createdAt?.toDate?m.createdAt.toDate().getTime():m.createdAt?new Date(m.createdAt).getTime():0})).sort((m,R)=>R._millis-m._millis),!y.judgeSocialInsuranceRequired({employee:this.employeeData,office:this.officeData,company:this.companyData})){this.isSocialInsuranceExcluded=!0,this.isLoading=!1;return}let V=y.judgeHealthInsurance(this.employeeData);console.log("[\u5065\u5EB7\u4FDD\u967A\u5224\u5B9A]",V);let J=y.judgeCareInsurance(this.employeeData);console.log("[\u4ECB\u8B77\u4FDD\u967A\u5224\u5B9A]",J);let Y=y.judgePensionInsurance(this.employeeData);if(console.log("[\u539A\u751F\u5E74\u91D1\u5224\u5B9A]",Y),this.employeeData.dispatchedAbroad!=="\u8A72\u5F53\u3057\u306A\u3044"){let m=y.judgeInternationalSocialInsurance(this.employeeData);if(console.log("[\u6D77\u5916\u6D3E\u9063\u5224\u5B9A]",m),!m){this.isSocialInsuranceExcluded=!0,this.isLoading=!1;return}}else console.log("[\u6D77\u5916\u6D3E\u9063\u5224\u5B9A] \u5224\u5B9A\u3057\u306A\u3044");this.healthInsuranceResult=y.judgeHealthInsurance(this.employeeData),this.careInsuranceResult=y.judgeCareInsurance(this.employeeData),this.pensionInsuranceResult=y.judgePensionInsurance(this.employeeData),this.eligibilityResult=y.judgeEligibility(this.employeeData),this.isLoading=!1,yield this.checkUnsavedCalc(),this.hasUnsavedCalc&&(yield this.onSaveCalc(!0));return}}console.log("currentNendo:",this.currentNendo),this.isLoading=!1,yield this.checkUnsavedCalc()})}ngAfterViewChecked(){this.isSocialInsuranceExcluded&&!this.hasSavedExcludedInsurance&&!this.triedSaveExcluded&&(this.triedSaveExcluded=!0,this.saveExcludedInsurance())}saveExcludedInsurance(){return F(this,null,function*(){let t=M(this.firestore,`companies/${this.companyId}/employees/${this.employeesId}`),e=S(t,"insurances"),r=this.standardsList&&this.standardsList.length>0?this.standardsList[0]:null,h=r?r.id:null,d=(yield v(e)).docs.map(u=>C({id:u.id},u.data()));if(h&&d.some(u=>u.standardId===h)){console.log("[DEBUG] \u793E\u4F1A\u4FDD\u967A\u5BFE\u8C61\u5916: \u540C\u3058standardId\u304C\u65E2\u306B\u5B58\u5728\u3059\u308B\u305F\u3081\u4FDD\u5B58\u3057\u307E\u305B\u3093",h),this.hasSavedExcludedInsurance=!0;return}console.log("[DEBUG] \u793E\u4F1A\u4FDD\u967A\u5BFE\u8C61\u5916: insurances\u4FDD\u5B58\u958B\u59CB",{employeeId:this.employeesId,companyId:this.companyId,standardId:h}),yield O(e,{createdAt:H(),standardId:h,isInsuranceTarget:!1}),console.log("[DEBUG] \u793E\u4F1A\u4FDD\u967A\u5BFE\u8C61\u5916: insurances\u4FDD\u5B58\u5B8C\u4E86"),this.hasSavedExcludedInsurance=!0})}get healthInsuranceRate100(){if(!this.insuranceRateData||this.insuranceRateData.health_insurance==null)return"";try{return new l(this.insuranceRateData.health_insurance).times(100).toString()}catch{return""}}get careInsuranceRate100(){if(!this.insuranceRateData||this.insuranceRateData.care_insurance==null)return"";try{return new l(this.insuranceRateData.care_insurance).times(100).toString()}catch{return""}}get pensionInsuranceRate100(){if(!this.insuranceRateData||this.insuranceRateData.pension_insurance==null)return"";try{return new l(this.insuranceRateData.pension_insurance).times(100).toString()}catch{return""}}formatWithComma(t){if(t==null||t==="")return"";let e=typeof t=="number"?t:Number(t);return isNaN(e)?"":e.toLocaleString()}get latestStandard(){if(!this.standardsList||this.standardsList.length===0)return null;let t=this.standardsList.filter(e=>!!e.createdAt);return t.length===0?null:t.map(e=>E(C({},e),{_millis:e.createdAt?.toDate?e.createdAt.toDate().getTime():e.createdAt?new Date(e.createdAt).getTime():0})).sort((e,r)=>r._millis-e._millis)[0]}get healthInsuranceAmount(){if(!this.healthInsuranceResult||!this.insuranceRateData)return"";let t=this.latestStandard?.kenpoStandardMonthly??(this.employeeData?this.employeeData.stdSalaryHealth:null),e=this.insuranceRateData.health_insurance;if(t==null||e==null)return"";try{return this.formatWithComma(new l(t).times(new l(e)).toDecimalPlaces(0,l.ROUND_HALF_UP).toString())}catch{return""}}get healthInsuranceAmountCompany(){if(!this.healthInsuranceResult)return"";let t=this.healthInsuranceAmount.replace(/,/g,"");if(!t)return"";try{return this.formatWithComma(new l(t).div(2).toDecimalPlaces(0,l.ROUND_HALF_UP).toString())}catch{return""}}get healthInsuranceAmountEmployee(){if(!this.healthInsuranceResult)return"";let t=this.healthInsuranceAmount.replace(/,/g,"");if(!t)return"";try{let e=new l(t).div(2);return e.minus(e.floor()).times(10).toNumber()<=5?this.formatWithComma(e.floor().toString()):this.formatWithComma(e.ceil().toString())}catch{return""}}get pensionInsuranceAmount(){if(!this.pensionInsuranceResult||!this.insuranceRateData)return"";let t=this.latestStandard?.nenkinStandardMonthly??(this.employeeData?this.employeeData.stdSalaryPension:null),e=this.insuranceRateData.pension_insurance;if(t==null||e==null)return"";try{return this.formatWithComma(new l(t).times(new l(e)).toFixed(0))}catch{return""}}get pensionInsuranceAmountCompany(){if(!this.pensionInsuranceResult)return"";let t=this.pensionInsuranceAmount.replace(/,/g,"");if(!t)return"";try{return this.formatWithComma(new l(t).div(2).toDecimalPlaces(0,l.ROUND_HALF_UP).toString())}catch{return""}}get pensionInsuranceAmountEmployee(){if(!this.pensionInsuranceResult)return"";let t=this.pensionInsuranceAmount.replace(/,/g,"");if(!t)return"";try{let e=new l(t).div(2);return e.minus(e.floor()).times(10).toNumber()<=5?this.formatWithComma(e.floor().toString()):this.formatWithComma(e.ceil().toString())}catch{return""}}get careInsuranceAmount(){if(!this.careInsuranceResult||!this.insuranceRateData)return"";let t=this.latestStandard?.kenpoStandardMonthly??(this.employeeData?this.employeeData.stdSalaryHealth:null),e=this.insuranceRateData.care_insurance;if(t==null||e==null)return"";try{return this.formatWithComma(new l(t).times(new l(e)).toDecimalPlaces(0,l.ROUND_HALF_UP).toString())}catch{return""}}get careInsuranceAmountCompany(){if(!this.careInsuranceResult)return"";let t=this.careInsuranceAmount.replace(/,/g,"");if(!t)return"";try{return this.formatWithComma(new l(t).div(2).toDecimalPlaces(0,l.ROUND_HALF_UP).toString())}catch{return""}}get careInsuranceAmountEmployee(){if(!this.careInsuranceResult)return"";let t=this.careInsuranceAmount.replace(/,/g,"");if(!t)return"";try{let e=new l(t).div(2);return e.minus(e.floor()).times(10).toNumber()<=5?this.formatWithComma(e.floor().toString()):this.formatWithComma(e.ceil().toString())}catch{return""}}get totalInsuranceAmount(){let t=this.healthInsuranceResult?this.healthInsuranceAmount.replace(/,/g,""):"",e=this.pensionInsuranceResult?this.pensionInsuranceAmount.replace(/,/g,""):"",r=this.careInsuranceResult?this.careInsuranceAmount.replace(/,/g,""):"";if(!t&&!e&&!r)return"";try{return this.formatWithComma(new l(t||0).plus(new l(e||0)).plus(new l(r||0)).toString())}catch{return""}}get totalInsuranceAmountCompany(){let t=this.healthInsuranceResult?this.healthInsuranceAmountCompany.replace(/,/g,""):"",e=this.pensionInsuranceResult?this.pensionInsuranceAmountCompany.replace(/,/g,""):"",r=this.careInsuranceResult?this.careInsuranceAmountCompany.replace(/,/g,""):"";if(!t&&!e&&!r)return"";try{return this.formatWithComma(new l(t||0).plus(new l(e||0)).plus(new l(r||0)).toString())}catch{return""}}get totalInsuranceAmountEmployee(){let t=this.healthInsuranceResult?this.healthInsuranceAmountEmployee.replace(/,/g,""):"",e=this.pensionInsuranceResult?this.pensionInsuranceAmountEmployee.replace(/,/g,""):"",r=this.careInsuranceResult?this.careInsuranceAmountEmployee.replace(/,/g,""):"";if(!t&&!e&&!r)return"";try{return this.formatWithComma(new l(t||0).plus(new l(e||0)).plus(new l(r||0)).toString())}catch{return""}}get stdSalaryHealthWithComma(){return!this.employeeData||this.employeeData.stdSalaryHealth==null?"":this.formatWithComma(this.employeeData.stdSalaryHealth)}get stdSalaryPensionWithComma(){return!this.employeeData||this.employeeData.stdSalaryPension==null?"":this.formatWithComma(this.employeeData.stdSalaryPension)}checkUnsavedCalc(){return F(this,null,function*(){if(!this.companyId||!this.employeesId||!this.latestStandard){this.hasUnsavedCalc=!1;return}let t=S(this.firestore,`companies/${this.companyId}/employees/${this.employeesId}/insurances`),h=(yield v(t)).docs.map(d=>C({id:d.id},d.data())).filter(d=>!!d.createdAt).map(d=>E(C({},d),{_millis:d.createdAt?.toDate?d.createdAt.toDate().getTime():d.createdAt?new Date(d.createdAt).getTime():0})).sort((d,u)=>u._millis-d._millis)[0],D=this.latestStandard?.id;this.hasUnsavedCalc=!(h&&h.standardId===D)})}onSaveCalc=(t=!1)=>F(this,null,function*(){if(!this.companyId||!this.employeesId||!this.latestStandard)return;let e=S(this.firestore,`companies/${this.companyId}/employees/${this.employeesId}/insurances`),h=(yield v(e)).docs.map(f=>C({id:f.id},f.data())).filter(f=>!!f.createdAt).map(f=>E(C({},f),{_millis:f.createdAt?.toDate?f.createdAt.toDate().getTime():f.createdAt?new Date(f.createdAt).getTime():0})).sort((f,k)=>k._millis-f._millis),D=h[0],d=this.latestStandard?.id;if(D&&D.standardId===d){t||alert("\u3059\u3067\u306B\u3053\u306E\u6A19\u6E96\u5831\u916C\u6708\u984D\u30FB\u7B49\u7D1A\u3067\u8A08\u7B97\u7D50\u679C\u304C\u4FDD\u5B58\u3055\u308C\u3066\u3044\u307E\u3059\u3002");return}let u={standardId:d,employeeId:this.employeesId,createdAt:new Date};h.length===0&&(u.memo="\u767B\u9332\u6642\u7B97\u51FA"),h.length>0&&(u.memo="\u60C5\u5831\u66F4\u65B0\u6642\u7B97\u51FA"),this.healthInsuranceResult&&(u.healthInsuranceTotal=this.healthInsuranceAmount.replace(/,/g,""),u.healthInsuranceCompany=this.healthInsuranceAmountCompany.replace(/,/g,""),u.healthInsuranceEmployee=this.healthInsuranceAmountEmployee.replace(/,/g,"")),this.careInsuranceResult&&(u.careInsuranceTotal=this.careInsuranceAmount.replace(/,/g,""),u.careInsuranceCompany=this.careInsuranceAmountCompany.replace(/,/g,""),u.careInsuranceEmployee=this.careInsuranceAmountEmployee.replace(/,/g,"")),this.pensionInsuranceResult&&(u.pensionInsuranceTotal=this.pensionInsuranceAmount.replace(/,/g,""),u.pensionInsuranceCompany=this.pensionInsuranceAmountCompany.replace(/,/g,""),u.pensionInsuranceEmployee=this.pensionInsuranceAmountEmployee.replace(/,/g,"")),u.total=this.totalInsuranceAmount.replace(/,/g,""),u.totalCompany=this.totalInsuranceAmountCompany.replace(/,/g,""),u.totalEmployee=this.totalInsuranceAmountEmployee.replace(/,/g,""),yield O(e,u),t||alert("\u8A08\u7B97\u7D50\u679C\u3092\u4FDD\u5B58\u3057\u307E\u3057\u305F\u3002")});onNavigateToDetail=()=>F(this,null,function*(){if(yield this.checkUnsavedCalc(),this.hasUnsavedCalc){alert("\u8A08\u7B97\u7D50\u679C\u3092\u4FDD\u5B58\u3057\u3066\u304F\u3060\u3055\u3044");return}this.router.navigate(["/employee-detail",this.employeesId])});static \u0275fac=function(e){return new(e||n)(w(j),w($),w(z))};static \u0275cmp=B({type:n,selectors:[["app-calculate"]],decls:56,vars:14,consts:[[1,"calculate-header"],[1,"calculate-header-title"],[1,"to-detail-btn",3,"click"],[1,"info-calc-flex",2,"margin-top","0"],[1,"office-info"],[1,"office-label"],[1,"office-value"],[1,"extra-info-box"],[1,"extra-info-row"],[1,"extra-info-label"],[1,"extra-info-value"],[4,"ngIf"],[1,"calculate-container"],["class","loading-message",4,"ngIf"],["class","excluded-message",4,"ngIf"],[1,"loading-message"],[1,"excluded-message"],["class","calc-row",4,"ngIf"],[1,"calc-row"],[1,"calc-label"],[1,"calc-value"]],template:function(e,r){e&1&&(a(0,"div",0)(1,"span",1),s(2,"\u8A08\u7B97\u7D50\u679C\u8868\u793A\u753B\u9762"),i(),a(3,"button",2),L("click",function(){return r.onNavigateToDetail()}),s(4,"\u5F93\u696D\u54E1\u8A73\u7D30\u753B\u9762\u3078"),i()(),a(5,"div",3)(6,"div")(7,"div",4)(8,"div")(9,"span",5),s(10,"\u6240\u5C5E\u4E8B\u696D\u6240\uFF1A"),i(),a(11,"span",6),s(12),i()(),a(13,"div")(14,"span",5),s(15,"\u6240\u5728\u90FD\u9053\u5E9C\u770C\uFF1A"),i(),a(16,"span",6),s(17),i()(),a(18,"div")(19,"span",5),s(20,"\u5065\u5EB7\u4FDD\u967A\u6599\u7387\uFF1A"),i(),a(21,"span",6),s(22),i()(),a(23,"div")(24,"span",5),s(25,"\u4ECB\u8B77\u4FDD\u967A\u6599\u7387\uFF1A"),i(),a(26,"span",6),s(27),i()(),a(28,"div")(29,"span",5),s(30,"\u539A\u751F\u5E74\u91D1\u4FDD\u967A\u6599\u7387\uFF1A"),i(),a(31,"span",6),s(32),i()()(),a(33,"div",7)(34,"div",8)(35,"span",9),s(36,"\u5065\u5EB7\u4FDD\u967A\u5BFE\u8C61\uFF1A"),i(),a(37,"span",10),A(38,X,2,0,"span",11)(39,Z,2,1,"span",11),i()(),a(40,"div",8)(41,"span",9),s(42,"\u4ECB\u8B77\u4FDD\u967A\uFF1A"),i(),a(43,"span",10),A(44,ee,2,0,"span",11)(45,te,2,1,"span",11),i()(),a(46,"div",8)(47,"span",9),s(48,"\u539A\u751F\u5E74\u91D1\u5BFE\u8C61\uFF1A"),i(),a(49,"span",10),A(50,ne,2,0,"span",11)(51,ae,2,1,"span",11),i()()()(),a(52,"div",12),A(53,ie,2,0,"div",13)(54,re,2,0,"div",14)(55,xe,13,12,"div",11),i()()),e&2&&(o(12),_((r.officeData==null?null:r.officeData.officeName)||"---"),o(5),_((r.officeData==null?null:r.officeData.officePrefecture)||"---"),o(5),_(r.insuranceRateData!=null&&r.insuranceRateData.health_insurance?r.insuranceRateData.health_insurance*100+"\uFF05":"---"),o(5),_(r.insuranceRateData!=null&&r.insuranceRateData.care_insurance?r.insuranceRateData.care_insurance*100+"\uFF05":"---"),o(5),_(r.insuranceRateData!=null&&r.insuranceRateData.pension_insurance?r.insuranceRateData.pension_insurance*100+"\uFF05":"---"),o(6),c("ngIf",r.isSocialInsuranceExcluded),o(),c("ngIf",!r.isSocialInsuranceExcluded),o(5),c("ngIf",r.isSocialInsuranceExcluded),o(),c("ngIf",!r.isSocialInsuranceExcluded),o(5),c("ngIf",r.isSocialInsuranceExcluded),o(),c("ngIf",!r.isSocialInsuranceExcluded),o(2),c("ngIf",r.isLoading),o(),c("ngIf",r.isSocialInsuranceExcluded),o(),c("ngIf",!r.isSocialInsuranceExcluded&&r.employeeData))},dependencies:[W,U,N],styles:[".calculate-container[_ngcontent-%COMP%]{padding-top:4rem;max-width:600px;margin:0 auto;background:#f8fafc;border-radius:12px;box-shadow:0 2px 12px #1976d212;padding-bottom:2.5rem}.calculate-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:1.2rem}.calculate-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:1.04rem;color:#222;padding:.32rem .2rem;border-bottom:1px solid #e3e8ee}.calculate-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{border-bottom:none}.calculate-container[_ngcontent-%COMP%]   .loading-message[_ngcontent-%COMP%]{text-align:center;font-size:1.08rem;color:#1976d2;padding:2.5rem 0;font-weight:600}.save-calc-btn[_ngcontent-%COMP%]{display:block;margin:.1rem auto;background:#1976d2;color:#fff;font-size:.95rem;font-weight:600;padding:.4rem 1.2rem;border:none;border-radius:7px;cursor:pointer;box-shadow:0 1px 4px #1976d214;transition:background .2s}.save-calc-btn[_ngcontent-%COMP%]:hover{background:#1565c0}@media (max-width: 600px){.calculate-container[_ngcontent-%COMP%]{padding:1.2rem .5rem 2rem;max-width:99vw}.calculate-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:.98rem}.save-calc-btn[_ngcontent-%COMP%]{font-size:.98rem;padding:.6rem 1.2rem}}.info-calc-flex[_ngcontent-%COMP%]{display:flex;gap:2.2rem;align-items:flex-start;justify-content:center;margin-top:1.5rem;max-width:1200px;margin-left:auto;margin-right:auto;padding-top:3.5rem}.office-info[_ngcontent-%COMP%]{min-width:260px;max-width:340px;flex:0 0 320px;background:#e3f2fd;border-radius:14px;padding:1.3rem 1.5rem;font-size:1.04rem;color:#1976d2;box-shadow:0 2px 8px #1976d20f;display:flex;flex-direction:column;gap:.5rem}.office-info[_ngcontent-%COMP%]   .office-label[_ngcontent-%COMP%]{font-weight:600;color:#1565c0}.office-info[_ngcontent-%COMP%]   .office-value[_ngcontent-%COMP%]{font-weight:500;color:#1976d2}.calculate-container[_ngcontent-%COMP%]{flex:1 1 600px;max-width:600px;background:#f8fafc;border-radius:14px;box-shadow:0 2px 12px #1976d212;padding-top:0!important;padding-right:1.5rem;padding-bottom:2.5rem;padding-left:1.5rem}@media (max-width: 900px){.info-calc-flex[_ngcontent-%COMP%]{flex-direction:column;gap:1.2rem;margin-top:1.2rem;max-width:99vw;padding-top:3.2rem}.office-info[_ngcontent-%COMP%], .calculate-container[_ngcontent-%COMP%]{max-width:99vw;min-width:0;flex:1 1 100%;margin:0 auto}}.calc-row[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.5rem;font-size:1.04rem;color:#222;padding:.32rem .2rem;border-bottom:1px solid #e3e8ee}.calc-label[_ngcontent-%COMP%]{min-width:12em;text-align:left;font-weight:600;color:#1976d2;flex-shrink:0;margin-right:.7em}.calc-value[_ngcontent-%COMP%]{flex:1;word-break:break-all}.extra-info-row[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.01rem;margin-bottom:.5rem;padding:.2rem .3rem}.extra-info-label[_ngcontent-%COMP%]{min-width:6.5em;font-weight:600;color:#1976d2}.extra-info-value[_ngcontent-%COMP%]{flex:1;color:#222}.extra-info-box[_ngcontent-%COMP%]{min-width:260px;max-width:340px;background:#e3f2fd;border-radius:14px;margin-top:1.2rem;box-shadow:0 2px 8px #1976d20f;padding:1.1rem 1.2rem}.excluded-message[_ngcontent-%COMP%]{color:#d32f2f;background:#fff0f0;border:none;border-radius:8px;font-size:1.25em;font-weight:700;padding:18px 0;text-align:center;margin:18px 0 12px;letter-spacing:.05em;box-shadow:0 2px 8px #d32f2f14;width:100%;box-sizing:border-box;margin-left:-1.5rem;margin-right:-1.5rem}.calculate-header[_ngcontent-%COMP%]{width:100%;padding-top:3.5rem;margin-bottom:0;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;gap:.7rem}.calculate-header-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1976d2;letter-spacing:.04em;margin-left:.2em}.to-detail-btn[_ngcontent-%COMP%]{background:#42a5f5;color:#fff;border:none;border-radius:7px;font-size:1.02em;font-weight:600;padding:.5em 1.6em;cursor:pointer;box-shadow:0 1px 4px #1976d214;transition:background .2s}.to-detail-btn[_ngcontent-%COMP%]:hover{background:#1976d2}.info-calc-flex[_ngcontent-%COMP%]{margin-top:2.5rem}.unsaved-warning[_ngcontent-%COMP%]{color:#d32f2f;font-weight:700;margin-top:0;font-size:1.08em;text-align:center;display:block;margin-left:auto;margin-right:auto;max-width:100%}"]})};export{q as CalculateComponent};
