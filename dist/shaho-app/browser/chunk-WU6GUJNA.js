var pS=Object.defineProperty,gS=Object.defineProperties;var mS=Object.getOwnPropertyDescriptors;var R_=Object.getOwnPropertySymbols,yS=Object.getPrototypeOf,vS=Object.prototype.hasOwnProperty,_S=Object.prototype.propertyIsEnumerable,IS=Reflect.get;var M_=(t,e,n)=>e in t?pS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,me=(t,e)=>{for(var n in e||={})vS.call(e,n)&&M_(t,n,e[n]);if(R_)for(var n of R_(e))_S.call(e,n)&&M_(t,n,e[n]);return t},ve=(t,e)=>gS(t,mS(e));var jn=(t,e,n)=>IS(yS(t),n,e);var _=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{c(n.next(u))}catch(l){i(l)}},s=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((n=n.apply(t,e)).next())});function $d(t,e){return Object.is(t,e)}var xe=null,Ha=!1,Hd=1,It=Symbol("SIGNAL");function ne(t){let e=xe;return xe=t,e}function qd(){return xe}var Zo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Jo(t){if(Ha)throw new Error("");if(xe===null)return;xe.consumerOnSignalRead(t);let e=xe.nextProducerIndex++;if(Wa(xe),e<xe.producerNode.length&&xe.producerNode[e]!==t&&Yo(xe)){let n=xe.producerNode[e];Ga(n,xe.producerIndexOfThis[e])}xe.producerNode[e]!==t&&(xe.producerNode[e]=t,xe.producerIndexOfThis[e]=Yo(xe)?x_(t,xe,e):0),xe.producerLastReadVersion[e]=t.version}function P_(){Hd++}function zd(t){if(!(Yo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Hd)){if(!t.producerMustRecompute(t)&&!Qd(t)){Ud(t);return}t.producerRecomputeValue(t),Ud(t)}}function Gd(t){if(t.liveConsumerNode===void 0)return;let e=Ha;Ha=!0;try{for(let n of t.liveConsumerNode)n.dirty||ES(n)}finally{Ha=e}}function Wd(){return xe?.consumerAllowSignalWrites!==!1}function ES(t){t.dirty=!0,Gd(t),t.consumerMarkedDirty?.(t)}function Ud(t){t.dirty=!1,t.lastCleanEpoch=Hd}function za(t){return t&&(t.nextProducerIndex=0),ne(t)}function Kd(t,e){if(ne(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Yo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ga(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Qd(t){Wa(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(zd(n),r!==n.version))return!0}return!1}function Yd(t){if(Wa(t),Yo(t))for(let e=0;e<t.producerNode.length;e++)Ga(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function x_(t,e,n){if(k_(t),t.liveConsumerNode.length===0&&O_(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=x_(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Ga(t,e){if(k_(t),t.liveConsumerNode.length===1&&O_(t))for(let r=0;r<t.producerNode.length;r++)Ga(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Wa(i),i.producerIndexOfThis[r]=e}}function Yo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Wa(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function k_(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function O_(t){return t.producerNode!==void 0}function Zd(t,e){let n=Object.create(wS);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(zd(n),Jo(n),n.value===qa)throw n.error;return n.value};return r[It]=n,r}var jd=Symbol("UNSET"),Bd=Symbol("COMPUTING"),qa=Symbol("ERRORED"),wS=ve(me({},Zo),{value:jd,dirty:!0,error:null,equal:$d,kind:"computed",producerMustRecompute(t){return t.value===jd||t.value===Bd},producerRecomputeValue(t){if(t.value===Bd)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Bd;let n=za(t),r,i=!1;try{r=t.computation(),ne(null),i=e!==jd&&e!==qa&&r!==qa&&t.equal(e,r)}catch(o){r=qa,t.error=o}finally{Kd(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function DS(){throw new Error}var F_=DS;function V_(t){F_(t)}function Jd(t){F_=t}var TS=null;function Xd(t,e){let n=Object.create(Ka);n.value=t,e!==void 0&&(n.equal=e);let r=()=>(Jo(n),n.value);return r[It]=n,r}function Xo(t,e){Wd()||V_(t),t.equal(t.value,e)||(t.value=e,bS(t))}function eh(t,e){Wd()||V_(t),Xo(t,e(t.value))}var Ka=ve(me({},Zo),{equal:$d,value:void 0,kind:"signal"});function bS(t){t.version++,P_(),Gd(t),TS?.()}function th(t){let e=ne(null);try{return t()}finally{ne(e)}}var nh;function es(){return nh}function un(t){let e=nh;return nh=t,e}var Qa=Symbol("NotFound");function z(t){return typeof t=="function"}function di(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ya=di(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function fr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Se=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(z(r))try{r()}catch(o){e=o instanceof Ya?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{L_(o)}catch(s){e=e??[],s instanceof Ya?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ya(e)}}add(e){var n;if(e&&e!==this)if(this.closed)L_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&fr(n,e)}remove(e){let{_finalizers:n}=this;n&&fr(n,e),e instanceof t&&e._removeParent(this)}};Se.EMPTY=(()=>{let t=new Se;return t.closed=!0,t})();var rh=Se.EMPTY;function Za(t){return t instanceof Se||t&&"closed"in t&&z(t.remove)&&z(t.add)&&z(t.unsubscribe)}function L_(t){z(t)?t():t.unsubscribe()}var Ct={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var hi={setTimeout(t,e,...n){let{delegate:r}=hi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=hi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ja(t){hi.setTimeout(()=>{let{onUnhandledError:e}=Ct;if(e)e(t);else throw t})}function ts(){}var j_=ih("C",void 0,void 0);function B_(t){return ih("E",void 0,t)}function U_(t){return ih("N",t,void 0)}function ih(t,e,n){return{kind:t,value:e,error:n}}var pr=null;function fi(t){if(Ct.useDeprecatedSynchronousErrorHandling){let e=!pr;if(e&&(pr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=pr;if(pr=null,n)throw r}}else t()}function $_(t){Ct.useDeprecatedSynchronousErrorHandling&&pr&&(pr.errorThrown=!0,pr.error=t)}var gr=class extends Se{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Za(e)&&e.add(this)):this.destination=MS}static create(e,n,r){return new ln(e,n,r)}next(e){this.isStopped?sh(U_(e),this):this._next(e)}error(e){this.isStopped?sh(B_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?sh(j_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},NS=Function.prototype.bind;function oh(t,e){return NS.call(t,e)}var ah=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Xa(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Xa(r)}else Xa(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Xa(n)}}},ln=class extends gr{constructor(e,n,r){super();let i;if(z(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Ct.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&oh(e.next,o),error:e.error&&oh(e.error,o),complete:e.complete&&oh(e.complete,o)}):i=e}this.destination=new ah(i)}};function Xa(t){Ct.useDeprecatedSynchronousErrorHandling?$_(t):Ja(t)}function RS(t){throw t}function sh(t,e){let{onStoppedNotification:n}=Ct;n&&hi.setTimeout(()=>n(t,e))}var MS={closed:!0,next:ts,error:RS,complete:ts};var pi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function dt(t){return t}function PS(...t){return ch(t)}function ch(t){return t.length===0?dt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var re=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=kS(n)?n:new ln(n,r,i);return fi(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=H_(r),new r((i,o)=>{let s=new ln({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[pi](){return this}pipe(...n){return ch(n)(this)}toPromise(n){return n=H_(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function H_(t){var e;return(e=t??Ct.Promise)!==null&&e!==void 0?e:Promise}function xS(t){return t&&z(t.next)&&z(t.error)&&z(t.complete)}function kS(t){return t&&t instanceof gr||xS(t)&&Za(t)}function uh(t){return z(t?.lift)}function Z(t){return e=>{if(uh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function J(t,e,n,r,i){return new lh(t,e,n,r,i)}var lh=class extends gr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function dh(){return Z((t,e)=>{let n=null;t._refCount++;let r=J(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var hh=class extends re{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,uh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Se;let n=this.getSubject();e.add(this.source.subscribe(J(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Se.EMPTY)}return e}refCount(){return dh()(this)}};var q_=di(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ht=(()=>{class t extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ec(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new q_}next(n){fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){fi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?rh:(this.currentObservers=null,o.push(n),new Se(()=>{this.currentObservers=null,fr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new re;return n.source=this,n}}return t.create=(e,n)=>new ec(e,n),t})(),ec=class extends ht{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:rh}};var ns=class extends ht{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var fh={now(){return(fh.delegate||Date).now()},delegate:void 0};var tc=class extends Se{constructor(e,n){super()}schedule(e,n=0){return this}};var rs={setInterval(t,e,...n){let{delegate:r}=rs;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=rs;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var gi=class extends tc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return rs.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&rs.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,fr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var mi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};mi.now=fh.now;var yi=class extends mi{constructor(e,n=mi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var is=new yi(gi);var nc=class extends gi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var rc=class extends yi{};var ph=new rc(nc);var os=new re(t=>t.complete());function z_(t){return t&&z(t.schedule)}function G_(t){return t[t.length-1]}function ic(t){return z(G_(t))?t.pop():void 0}function Bn(t){return z_(G_(t))?t.pop():void 0}function gh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function K_(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function W_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mr(t){return this instanceof mr?(this.v=t,this):new mr(t)}function Q_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(C){return Promise.resolve(C).then(m,p)}}function c(m,C){r[m]&&(i[m]=function(N){return new Promise(function(M,k){o.push([m,N,M,k])>1||u(m,N)})},C&&(i[m]=C(i[m])))}function u(m,C){try{l(r[m](C))}catch(N){y(o[0][3],N)}}function l(m){m.value instanceof mr?Promise.resolve(m.value.v).then(h,p):y(o[0][2],m)}function h(m){u("next",m)}function p(m){u("throw",m)}function y(m,C){m(C),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Y_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof W_=="function"?W_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var oc=t=>t&&typeof t.length=="number"&&typeof t!="function";function sc(t){return z(t?.then)}function ac(t){return z(t[pi])}function cc(t){return Symbol.asyncIterator&&z(t?.[Symbol.asyncIterator])}function uc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function OS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var lc=OS();function dc(t){return z(t?.[lc])}function hc(t){return Q_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield mr(n.read());if(i)return yield mr(void 0);yield yield mr(r)}}finally{n.releaseLock()}})}function fc(t){return z(t?.getReader)}function Ie(t){if(t instanceof re)return t;if(t!=null){if(ac(t))return FS(t);if(oc(t))return VS(t);if(sc(t))return LS(t);if(cc(t))return Z_(t);if(dc(t))return jS(t);if(fc(t))return BS(t)}throw uc(t)}function FS(t){return new re(e=>{let n=t[pi]();if(z(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function VS(t){return new re(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function LS(t){return new re(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ja)})}function jS(t){return new re(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Z_(t){return new re(e=>{US(t,e).catch(n=>e.error(n))})}function BS(t){return Z_(hc(t))}function US(t,e){var n,r,i,o;return K_(this,void 0,void 0,function*(){try{for(n=Y_(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function rt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Un(t,e=0){return Z((n,r)=>{n.subscribe(J(r,i=>rt(r,t,()=>r.next(i),e),()=>rt(r,t,()=>r.complete(),e),i=>rt(r,t,()=>r.error(i),e)))})}function $n(t,e=0){return Z((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function J_(t,e){return Ie(t).pipe($n(e),Un(e))}function X_(t,e){return Ie(t).pipe($n(e),Un(e))}function eI(t,e){return new re(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function tI(t,e){return new re(n=>{let r;return rt(n,e,()=>{r=t[lc](),rt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>z(r?.return)&&r.return()})}function pc(t,e){if(!t)throw new Error("Iterable cannot be null");return new re(n=>{rt(n,e,()=>{let r=t[Symbol.asyncIterator]();rt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function nI(t,e){return pc(hc(t),e)}function rI(t,e){if(t!=null){if(ac(t))return J_(t,e);if(oc(t))return eI(t,e);if(sc(t))return X_(t,e);if(cc(t))return pc(t,e);if(dc(t))return tI(t,e);if(fc(t))return nI(t,e)}throw uc(t)}function Lt(t,e){return e?rI(t,e):Ie(t)}function $S(...t){let e=Bn(t);return Lt(t,e)}function HS(t,e){let n=z(t)?t:()=>t,r=i=>i.error(n());return new re(e?i=>e.schedule(r,0,i):r)}function qS(t){return!!t&&(t instanceof re||z(t.lift)&&z(t.subscribe))}var yr=di(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function dn(t,e){return Z((n,r)=>{let i=0;n.subscribe(J(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:zS}=Array;function GS(t,e){return zS(e)?t(...e):t(e)}function gc(t){return dn(e=>GS(t,e))}var{isArray:WS}=Array,{getPrototypeOf:KS,prototype:QS,keys:YS}=Object;function mc(t){if(t.length===1){let e=t[0];if(WS(e))return{args:e,keys:null};if(ZS(e)){let n=YS(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function ZS(t){return t&&typeof t=="object"&&KS(t)===QS}function yc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function JS(...t){let e=Bn(t),n=ic(t),{args:r,keys:i}=mc(t);if(r.length===0)return Lt([],e);let o=new re(XS(r,e,i?s=>yc(i,s):dt));return n?o.pipe(gc(n)):o}function XS(t,e,n=dt){return r=>{iI(e,()=>{let{length:i}=t,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)iI(e,()=>{let l=Lt(t[u],e),h=!1;l.subscribe(J(r,p=>{o[u]=p,h||(h=!0,c--),c||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function iI(t,e,n){t?rt(n,t,e):e()}function oI(t,e,n,r,i,o,s,c){let u=[],l=0,h=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},m=N=>l<r?C(N):u.push(N),C=N=>{o&&e.next(N),l++;let M=!1;Ie(n(N,h++)).subscribe(J(e,k=>{i?.(k),o?m(k):e.next(k)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;u.length&&l<r;){let k=u.shift();s?rt(e,s,()=>C(k)):C(k)}y()}catch(k){e.error(k)}}))};return t.subscribe(J(e,m,()=>{p=!0,y()})),()=>{c?.()}}function vr(t,e,n=1/0){return z(e)?vr((r,i)=>dn((o,s)=>e(r,o,i,s))(Ie(t(r,i))),n):(typeof e=="number"&&(n=e),Z((r,i)=>oI(r,i,t,n)))}function mh(t=1/0){return vr(dt,t)}function sI(){return mh(1)}function vc(...t){return sI()(Lt(t,Bn(t)))}function eN(t){return new re(e=>{Ie(t()).subscribe(e)})}function yh(...t){let e=ic(t),{args:n,keys:r}=mc(t),i=new re(o=>{let{length:s}=n;if(!s){o.complete();return}let c=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Ie(n[h]).subscribe(J(o,y=>{p||(p=!0,l--),c[h]=y},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?yc(r,c):c),o.complete())}))}});return e?i.pipe(gc(e)):i}function _r(t,e){return Z((n,r)=>{let i=0;n.subscribe(J(r,o=>t.call(e,o,i++)&&r.next(o)))})}function aI(t){return Z((e,n)=>{let r=null,i=!1,o;r=e.subscribe(J(n,void 0,void 0,s=>{o=Ie(t(s,aI(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function cI(t,e,n,r,i){return(o,s)=>{let c=n,u=e,l=0;o.subscribe(J(s,h=>{let p=l++;u=c?t(u,h,p):(c=!0,h),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function tN(t,e){return z(e)?vr(t,e,1):vr(t,1)}function nN(t,e=is){return Z((n,r)=>{let i=null,o=null,s=null,c=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function u(){let l=s+t,h=e.now();if(h<l){i=this.schedule(void 0,l-h),r.add(i);return}c()}n.subscribe(J(r,l=>{o=l,s=e.now(),i||(i=e.schedule(u,t),r.add(i))},()=>{c(),r.complete()},void 0,()=>{o=i=null}))})}function ss(t){return Z((e,n)=>{let r=!1;e.subscribe(J(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function vh(t){return t<=0?()=>os:Z((e,n)=>{let r=0;e.subscribe(J(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function _c(t=rN){return Z((e,n)=>{let r=!1;e.subscribe(J(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function rN(){return new yr}function iN(t){return Z((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function oN(t,e){let n=arguments.length>=2;return r=>r.pipe(t?_r((i,o)=>t(i,o,r)):dt,vh(1),n?ss(e):_c(()=>new yr))}function _h(t){return t<=0?()=>os:Z((e,n)=>{let r=[];e.subscribe(J(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function sN(t,e){let n=arguments.length>=2;return r=>r.pipe(t?_r((i,o)=>t(i,o,r)):dt,_h(1),n?ss(e):_c(()=>new yr))}function aN(t,e){return Z(cI(t,e,arguments.length>=2,!0))}function cN(t={}){let{connector:e=()=>new ht,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,c,u,l=0,h=!1,p=!1,y=()=>{c?.unsubscribe(),c=void 0},m=()=>{y(),s=u=void 0,h=p=!1},C=()=>{let N=s;m(),N?.unsubscribe()};return Z((N,M)=>{l++,!p&&!h&&y();let k=u=u??e();M.add(()=>{l--,l===0&&!p&&!h&&(c=Ih(C,i))}),k.subscribe(M),!s&&l>0&&(s=new ln({next:V=>k.next(V),error:V=>{p=!0,y(),c=Ih(m,n,V),k.error(V)},complete:()=>{h=!0,y(),c=Ih(m,r),k.complete()}}),Ie(N).subscribe(s))})(o)}}function Ih(t,e,...n){if(e===!0){t();return}if(e===!1)return;let r=new ln({next:()=>{r.unsubscribe(),t()}});return Ie(e(...n)).subscribe(r)}function uN(t){return _r((e,n)=>t<=n)}function lN(...t){let e=Bn(t);return Z((n,r)=>{(e?vc(t,n,e):vc(t,n)).subscribe(r)})}function dN(t,e){return Z((n,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();n.subscribe(J(r,u=>{i?.unsubscribe();let l=0,h=o++;Ie(t(u,h)).subscribe(i=J(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function hN(t){return Z((e,n)=>{Ie(t).subscribe(J(n,()=>n.complete(),ts)),!n.closed&&e.subscribe(n)})}function fN(t,e,n){let r=z(t)||e||n?{next:t,error:e,complete:n}:t;return r?Z((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(J(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):dt}var JI="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",G=class extends Error{code;constructor(e,n){super(XI(e,n)),this.code=e}};function pN(t){return`NG0${Math.abs(t)}`}function XI(t,e){return`${pN(t)}${e?": "+e:""}`}var eE=Symbol("InputSignalNode#UNSET"),gN=ve(me({},Ka),{transformFn:void 0,applyValueToInputSignal(t,e){Xo(t,e)}});function tE(t,e){let n=Object.create(gN);n.value=t,n.transformFn=e?.transform;function r(){if(Jo(n),n.value===eE){let i=null;throw new G(-950,i)}return n.value}return r[It]=n,r}function vs(t){return{toString:t}.toString()}var Ic="__parameters__";function mN(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function nE(t,e,n){return vs(()=>{let r=mN(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,h){let p=u.hasOwnProperty(Ic)?u[Ic]:Object.defineProperty(u,Ic,{value:[]})[Ic];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Hn=globalThis;function ge(t){for(let e in t)if(t[e]===ge)return e;throw Error("Could not find renamed property on target object.")}function yN(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function st(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(st).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Oh(t,e){return t?e?`${t} ${e}`:t:e||""}var vN=ge({__forward_ref__:ge});function Rt(t){return t.__forward_ref__=Rt,t.toString=function(){return st(this())},t}function Je(t){return rE(t)?t():t}function rE(t){return typeof t=="function"&&t.hasOwnProperty(vN)&&t.__forward_ref__===Rt}function le(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _s(t){return{providers:t.providers||[],imports:t.imports||[]}}function ru(t){return uI(t,iE)||uI(t,oE)}function Z6(t){return ru(t)!==null}function uI(t,e){return t.hasOwnProperty(e)?t[e]:null}function _N(t){let e=t&&(t[iE]||t[oE]);return e||null}function lI(t){return t&&(t.hasOwnProperty(dI)||t.hasOwnProperty(IN))?t[dI]:null}var iE=ge({\u0275prov:ge}),dI=ge({\u0275inj:ge}),oE=ge({ngInjectableDef:ge}),IN=ge({ngInjectorDef:ge}),H=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=le({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function sE(t){return t&&!!t.\u0275providers}var EN=ge({\u0275cmp:ge}),wN=ge({\u0275dir:ge}),DN=ge({\u0275pipe:ge}),TN=ge({\u0275mod:ge}),Rc=ge({\u0275fac:ge}),ls=ge({__NG_ELEMENT_ID__:ge}),hI=ge({__NG_ENV_ID__:ge});function Ti(t){return typeof t=="string"?t:t==null?"":String(t)}function bN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ti(t)}function aE(t,e){throw new G(-200,t)}function Ff(t,e){throw new G(-201,!1)}var X=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(X||{}),Fh;function cE(){return Fh}function it(t){let e=Fh;return Fh=t,e}function uE(t,e,n){let r=ru(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&X.Optional)return null;if(e!==void 0)return e;Ff(t,"Injector")}var CN={},Er=CN,Vh="__NG_DI_FLAG__",Mc=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?Qa:Er,r)}},Pc="ngTempTokenPath",AN="ngTokenPath",SN=/\n/gm,NN="\u0275",fI="__source";function RN(t,e=X.Default){if(es()===void 0)throw new G(-203,!1);if(es()===null)return uE(t,void 0,e);{let n=es(),r;return n instanceof Mc?r=n.injector:r=n,r.get(t,e&X.Optional?null:void 0,e)}}function Ue(t,e=X.Default){return(cE()||RN)(Je(t),e)}function L(t,e=X.Default){return Ue(t,iu(e))}function iu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Lh(t){let e=[];for(let n=0;n<t.length;n++){let r=Je(t[n]);if(Array.isArray(r)){if(r.length===0)throw new G(900,!1);let i,o=X.Default;for(let s=0;s<r.length;s++){let c=r[s],u=MN(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(Ue(i,o))}else e.push(Ue(r))}return e}function lE(t,e){return t[Vh]=e,t.prototype[Vh]=e,t}function MN(t){return t[Vh]}function PN(t,e,n,r){let i=t[Pc];throw e[fI]&&i.unshift(e[fI]),t.message=xN(`
`+t.message,i,n,r),t[AN]=i,t[Pc]=null,t}function xN(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==NN?t.slice(2):t;let i=st(e);if(Array.isArray(e))i=e.map(st).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):st(c)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(SN,`
  `)}`}var pt=lE(nE("Optional"),8);var kN=lE(nE("SkipSelf"),4);function Dr(t,e){let n=t.hasOwnProperty(Rc);return n?t[Rc]:null}function Vf(t,e){t.forEach(n=>Array.isArray(n)?Vf(n,e):e(n))}function dE(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function xc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ON(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function FN(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function Lf(t,e,n){let r=Is(t,e);return r>=0?t[r|1]=n:(r=~r,FN(t,r,e,n)),r}function Eh(t,e){let n=Is(t,e);if(n>=0)return t[n|1]}function Is(t,e){return VN(t,e,1)}function VN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Tr={},ot=[],kc=new H(""),hE=new H("",-1),fE=new H(""),Oc=class{get(e,n=Er){if(n===Er){let r=new Error(`NullInjectorError: No provider for ${st(e)}!`);throw r.name="NullInjectorError",r}return n}};function pE(t,e){let n=t[TN]||null;if(!n&&e===!0)throw new Error(`Type ${st(t)} does not have '\u0275mod' property.`);return n}function br(t){return t[EN]||null}function LN(t){return t[wN]||null}function jN(t){return t[DN]||null}function Gn(t){return{\u0275providers:t}}function BN(...t){return{\u0275providers:gE(!0,t),\u0275fromNgModule:!0}}function gE(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Vf(e,s=>{let c=s;jh(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&mE(i,o),n}function mE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];jf(i,o=>{e(o,r)})}}function jh(t,e,n,r){if(t=Je(t),!t)return!1;let i=null,o=lI(t),s=!o&&br(t);if(!o&&!s){let u=t.ngModule;if(o=lI(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)jh(l,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{Vf(o.imports,h=>{jh(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&mE(l,e)}if(!c){let l=Dr(i)||(()=>new i);e({provide:i,useFactory:l,deps:ot},i),e({provide:fE,useValue:i,multi:!0},i),e({provide:kc,useValue:()=>Ue(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=t;jf(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function jf(t,e){for(let n of t)sE(n)&&(n=n.\u0275providers),Array.isArray(n)?jf(n,e):e(n)}var UN=ge({provide:String,useValue:ge});function yE(t){return t!==null&&typeof t=="object"&&UN in t}function $N(t){return!!(t&&t.useExisting)}function HN(t){return!!(t&&t.useFactory)}function bi(t){return typeof t=="function"}function qN(t){return!!t.useClass}var vE=new H(""),bc={},pI={},wh;function Bf(){return wh===void 0&&(wh=new Oc),wh}var Bt=class{},ds=class extends Bt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Uh(e,s=>this.processProvider(s)),this.records.set(hE,vi(void 0,this)),i.has("environment")&&this.records.set(Bt,vi(void 0,this));let o=this.records.get(vE);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(fE,ot,X.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?Qa:Er,r)}destroy(){cs(this),this._destroyed=!0;let e=ne(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ne(e)}}onDestroy(e){return cs(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){cs(this);let n=un(this),r=it(void 0),i;try{return e()}finally{un(n),it(r)}}get(e,n=Er,r=X.Default){if(cs(this),e.hasOwnProperty(hI))return e[hI](this);r=iu(r);let i,o=un(this),s=it(void 0);try{if(!(r&X.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=QN(e)&&ru(e);l&&this.injectableDefInScope(l)?u=vi(Bh(e),bc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,r)}let c=r&X.Self?Bf():this.parent;return n=r&X.Optional&&n===Er?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[Pc]=c[Pc]||[]).unshift(st(e)),o)throw c;return PN(c,e,"R3InjectorError",this.source)}else throw c}finally{it(s),un(o)}}resolveInjectorInitializers(){let e=ne(null),n=un(this),r=it(void 0),i;try{let o=this.get(kc,ot,X.Self);for(let s of o)s()}finally{un(n),it(r),ne(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(st(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Je(e);let n=bi(e)?e:Je(e&&e.provide),r=GN(e);if(!bi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=vi(void 0,bc,!0),i.factory=()=>Lh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=ne(null);try{return n.value===pI?aE(st(e)):n.value===bc&&(n.value=pI,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&KN(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ne(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Je(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Bh(t){let e=ru(t),n=e!==null?e.factory:Dr(t);if(n!==null)return n;if(t instanceof H)throw new G(204,!1);if(t instanceof Function)return zN(t);throw new G(204,!1)}function zN(t){if(t.length>0)throw new G(204,!1);let n=_N(t);return n!==null?()=>n.factory(t):()=>new t}function GN(t){if(yE(t))return vi(void 0,t.useValue);{let e=_E(t);return vi(e,bc)}}function _E(t,e,n){let r;if(bi(t)){let i=Je(t);return Dr(i)||Bh(i)}else if(yE(t))r=()=>Je(t.useValue);else if(HN(t))r=()=>t.useFactory(...Lh(t.deps||[]));else if($N(t))r=(i,o)=>Ue(Je(t.useExisting),o!==void 0&&o&X.Optional?X.Optional:void 0);else{let i=Je(t&&(t.useClass||t.provide));if(WN(t))r=()=>new i(...Lh(t.deps));else return Dr(i)||Bh(i)}return r}function cs(t){if(t.destroyed)throw new G(205,!1)}function vi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function WN(t){return!!t.deps}function KN(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function QN(t){return typeof t=="function"||typeof t=="object"&&t instanceof H}function Uh(t,e){for(let n of t)Array.isArray(n)?Uh(n,e):n&&sE(n)?Uh(n.\u0275providers,e):e(n)}function xi(t,e){let n;t instanceof ds?(cs(t),n=t):n=new Mc(t);let r,i=un(n),o=it(void 0);try{return e()}finally{un(i),it(o)}}function IE(){return cE()!==void 0||es()!=null}function Uf(t){if(!IE())throw new G(-203,!1)}function YN(t){return typeof t=="function"}var gn=0,se=1,W=2,Xe=3,Nt=4,ct=5,hs=6,Fc=7,at=8,Cr=9,hn=10,we=11,fs=12,gI=13,ki=14,Dt=15,Ci=16,_i=17,Ai=18,ou=19,EE=20,qn=21,Dh=22,Vc=23,Et=24,wi=25,et=26,wE=1;var Ar=7,Lc=8,jc=9,wt=10;function zn(t){return Array.isArray(t)&&typeof t[wE]=="object"}function mn(t){return Array.isArray(t)&&t[wE]===!0}function $f(t){return(t.flags&4)!==0}function Oi(t){return t.componentOffset>-1}function su(t){return(t.flags&1)===1}function Ut(t){return!!t.template}function Bc(t){return(t[W]&512)!==0}function Fi(t){return(t[W]&256)===256}var $h=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function DE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var au=(()=>{let t=()=>TE;return t.ngInherit=!0,t})();function TE(t){return t.type.prototype.ngOnChanges&&(t.setInput=JN),ZN}function ZN(){let t=CE(this),e=t?.current;if(e){let n=t.previous;if(n===Tr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function JN(t,e,n,r,i){let o=this.declaredInputs[r],s=CE(t)||XN(t,{previous:Tr,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new $h(l&&l.currentValue,n,u===Tr),DE(t,e,i,n)}var bE="__ngSimpleChanges__";function CE(t){return t[bE]||null}function XN(t,e){return t[bE]=e}var mI=null;var fe=function(t,e=null,n){mI?.(t,e,n)},eR="svg",tR="math";function $t(t){for(;Array.isArray(t);)t=t[gn];return t}function AE(t,e){return $t(e[t])}function qt(t,e){return $t(e[t.index])}function SE(t,e){return t.data[e]}function NE(t,e){return t[e]}function Ht(t,e){let n=e[t];return zn(n)?n:n[gn]}function Hf(t){return(t[W]&128)===128}function nR(t){return mn(t[Xe])}function Si(t,e){return e==null?null:t[e]}function RE(t){t[_i]=0}function ME(t){t[W]&1024||(t[W]|=1024,Hf(t)&&Es(t))}function rR(t,e){for(;t>0;)e=e[ki],t--;return e}function cu(t){return!!(t[W]&9216||t[Et]?.dirty)}function Hh(t){t[hn].changeDetectionScheduler?.notify(8),t[W]&64&&(t[W]|=1024),cu(t)&&Es(t)}function Es(t){t[hn].changeDetectionScheduler?.notify(0);let e=Sr(t);for(;e!==null&&!(e[W]&8192||(e[W]|=8192,!Hf(e)));)e=Sr(e)}function PE(t,e){if(Fi(t))throw new G(911,!1);t[qn]===null&&(t[qn]=[]),t[qn].push(e)}function iR(t,e){if(t[qn]===null)return;let n=t[qn].indexOf(e);n!==-1&&t[qn].splice(n,1)}function Sr(t){let e=t[Xe];return mn(e)?e[Xe]:e}function xE(t){return t[Fc]??=[]}function kE(t){return t.cleanup??=[]}var ee={lFrame:UE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var qh=!1;function oR(){return ee.lFrame.elementDepthCount}function sR(){ee.lFrame.elementDepthCount++}function aR(){ee.lFrame.elementDepthCount--}function qf(){return ee.bindingsEnabled}function OE(){return ee.skipHydrationRootTNode!==null}function cR(t){return ee.skipHydrationRootTNode===t}function uR(){ee.skipHydrationRootTNode=null}function ie(){return ee.lFrame.lView}function ke(){return ee.lFrame.tView}function J6(t){return ee.lFrame.contextLView=t,t[at]}function X6(t){return ee.lFrame.contextLView=null,t}function tt(){let t=FE();for(;t!==null&&t.type===64;)t=t.parent;return t}function FE(){return ee.lFrame.currentTNode}function lR(){let t=ee.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Or(t,e){let n=ee.lFrame;n.currentTNode=t,n.isParent=e}function zf(){return ee.lFrame.isParent}function Gf(){ee.lFrame.isParent=!1}function VE(){return qh}function yI(t){let e=qh;return qh=t,e}function uu(){let t=ee.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function dR(){return ee.lFrame.bindingIndex}function hR(t){return ee.lFrame.bindingIndex=t}function lu(){return ee.lFrame.bindingIndex++}function Wf(t){let e=ee.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function fR(){return ee.lFrame.inI18n}function pR(t,e){let n=ee.lFrame;n.bindingIndex=n.bindingRootIndex=t,zh(e)}function gR(){return ee.lFrame.currentDirectiveIndex}function zh(t){ee.lFrame.currentDirectiveIndex=t}function mR(t){let e=ee.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function LE(t){ee.lFrame.currentQueryIndex=t}function yR(t){let e=t[se];return e.type===2?e.declTNode:e.type===1?t[ct]:null}function jE(t,e,n){if(n&X.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&X.Host);)if(i=yR(o),i===null||(o=o[ki],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ee.lFrame=BE();return r.currentTNode=e,r.lView=t,!0}function Kf(t){let e=BE(),n=t[se];ee.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function BE(){let t=ee.lFrame,e=t===null?null:t.child;return e===null?UE(t):e}function UE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function $E(){let t=ee.lFrame;return ee.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var HE=$E;function Qf(){let t=$E();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function vR(t){return(ee.lFrame.contextLView=rR(t,ee.lFrame.contextLView))[at]}function Wn(){return ee.lFrame.selectedIndex}function Nr(t){ee.lFrame.selectedIndex=t}function du(){let t=ee.lFrame;return SE(t.tView,t.selectedIndex)}function _R(){return ee.lFrame.currentNamespace}var qE=!0;function hu(){return qE}function fu(t){qE=t}function IR(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=TE(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Yf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Cc(t,e,n){zE(t,e,3,n)}function Ac(t,e,n,r){(t[W]&3)===n&&zE(t,e,n,r)}function Th(t,e){let n=t[W];(n&3)===e&&(n&=16383,n+=1,t[W]=n)}function zE(t,e,n,r){let i=r!==void 0?t[_i]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[_i]+=65536),(c<o||o==-1)&&(ER(t,n,e,u),t[_i]=(t[_i]&4294901760)+u+2),u++}function vI(t,e){fe(4,t,e);let n=ne(null);try{e.call(t)}finally{ne(n),fe(5,t,e)}}function ER(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[W]>>14<t[_i]>>16&&(t[W]&3)===e&&(t[W]+=16384,vI(c,o)):vI(c,o)}var Di=-1,Rr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function wR(t){return(t.flags&8)!==0}function DR(t){return(t.flags&16)!==0}function TR(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];bR(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function GE(t){return t===3||t===4||t===6}function bR(t){return t.charCodeAt(0)===64}function Ni(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?_I(t,n,i,null,e[++r]):_I(t,n,i,null,null))}}return t}function _I(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function WE(t){return t!==Di}function Uc(t){return t&32767}function CR(t){return t>>16}function $c(t,e){let n=CR(t),r=e;for(;n>0;)r=r[ki],n--;return r}var Gh=!0;function Hc(t){let e=Gh;return Gh=t,e}var AR=256,KE=AR-1,QE=5,SR=0,jt={};function NR(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ls)&&(r=n[ls]),r==null&&(r=n[ls]=SR++);let i=r&KE,o=1<<i;e.data[t+(i>>QE)]|=o}function qc(t,e){let n=YE(t,e);if(n!==-1)return n;let r=e[se];r.firstCreatePass&&(t.injectorIndex=e.length,bh(r.data,t),bh(e,null),bh(r.blueprint,null));let i=Zf(t,e),o=t.injectorIndex;if(WE(i)){let s=Uc(i),c=$c(i,e),u=c[se].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function bh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function YE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Zf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=tw(i),r===null)return Di;if(n++,i=i[ki],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Di}function Wh(t,e,n){NR(t,e,n)}function RR(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(GE(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function ZE(t,e,n){if(n&X.Optional||t!==void 0)return t;Ff(e,"NodeInjector")}function JE(t,e,n,r){if(n&X.Optional&&r===void 0&&(r=null),(n&(X.Self|X.Host))===0){let i=t[Cr],o=it(void 0);try{return i?i.get(e,r,n&X.Optional):uE(e,r,n&X.Optional)}finally{it(o)}}return ZE(r,e,n)}function XE(t,e,n,r=X.Default,i){if(t!==null){if(e[W]&2048&&!(r&X.Self)){let s=OR(t,e,n,r,jt);if(s!==jt)return s}let o=ew(t,e,n,r,jt);if(o!==jt)return o}return JE(e,n,r,i)}function ew(t,e,n,r,i){let o=xR(n);if(typeof o=="function"){if(!jE(e,t,r))return r&X.Host?ZE(i,n,r):JE(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&X.Optional))Ff(n);else return s}finally{HE()}}else if(typeof o=="number"){let s=null,c=YE(t,e),u=Di,l=r&X.Host?e[Dt][ct]:null;for((c===-1||r&X.SkipSelf)&&(u=c===-1?Zf(t,e):e[c+8],u===Di||!EI(r,!1)?c=-1:(s=e[se],c=Uc(u),e=$c(u,e)));c!==-1;){let h=e[se];if(II(o,c,h.data)){let p=MR(c,e,n,s,r,l);if(p!==jt)return p}u=e[c+8],u!==Di&&EI(r,e[se].data[c+8]===l)&&II(o,c,e)?(s=h,c=Uc(u),e=$c(u,e)):c=-1}}return i}function MR(t,e,n,r,i,o){let s=e[se],c=s.data[t+8],u=r==null?Oi(c)&&Gh:r!=s&&(c.type&3)!==0,l=i&X.Host&&o===c,h=PR(c,s,n,u,l);return h!==null?zc(e,s,h,c,i):jt}function PR(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?c:c+h,y=i?c+h:l;for(let m=p;m<y;m++){let C=s[m];if(m<u&&n===C||m>=u&&C.type===n)return m}if(i){let m=s[u];if(m&&Ut(m)&&m.type===n)return u}return null}function zc(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof Rr){let c=o;c.resolving&&aE(bN(s[n]));let u=Hc(c.canSeeViewProviders);c.resolving=!0;let l,h=c.injectImpl?it(c.injectImpl):null,p=jE(t,r,X.Default);try{o=t[n]=c.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&IR(n,s[n],e)}finally{h!==null&&it(h),Hc(u),c.resolving=!1,HE()}}return o}function xR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ls)?t[ls]:void 0;return typeof e=="number"?e>=0?e&KE:kR:e}function II(t,e,n){let r=1<<t;return!!(n[e+(t>>QE)]&r)}function EI(t,e){return!(t&X.Self)&&!(t&X.Host&&e)}var wr=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return XE(this._tNode,this._lView,e,iu(r),n)}};function kR(){return new wr(tt(),ie())}function Vi(t){return vs(()=>{let e=t.prototype.constructor,n=e[Rc]||Kh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Rc]||Kh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Kh(t){return rE(t)?()=>{let e=Kh(Je(t));return e&&e()}:Dr(t)}function OR(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[W]&2048&&!Bc(s);){let c=ew(o,s,n,r|X.Self,jt);if(c!==jt)return c;let u=o.parent;if(!u){let l=s[EE];if(l){let h=l.get(n,jt,r);if(h!==jt)return h}u=tw(s),s=s[ki]}o=u}return i}function tw(t){let e=t[se],n=e.type;return n===2?e.declTNode:n===1?t[ct]:null}function nw(t){return RR(tt(),t)}function wI(t,e=null,n=null,r){let i=rw(t,e,n,r);return i.resolveInjectorInitializers(),i}function rw(t,e=null,n=null,r,i=new Set){let o=[n||ot,BN(t)];return r=r||(typeof t=="object"?void 0:st(t)),new ds(o,e||Bf(),r||null,i)}var $e=class t{static THROW_IF_NOT_FOUND=Er;static NULL=new Oc;static create(e,n){if(Array.isArray(e))return wI({name:""},n,e,"");{let r=e.name??"";return wI({name:r},e.parent,e.providers,r)}}static \u0275prov=le({token:t,providedIn:"any",factory:()=>Ue(hE)});static __NG_ELEMENT_ID__=-1};var DI=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>nw(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},FR=new H("");FR.__NG_ELEMENT_ID__=t=>{let e=tt();if(e===null)throw new G(204,!1);if(e.type&2)return e.value;if(t&X.Optional)return null;throw new G(204,!1)};var iw=!1,pu=(()=>{class t{static __NG_ELEMENT_ID__=VR;static __NG_ENV_ID__=n=>n}return t})(),Qh=class extends pu{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return Fi(n)?(e(),()=>{}):(PE(n,e),()=>iR(n,e))}};function VR(){return new Qh(ie())}var Mr=class{},Jf=new H("",{providedIn:"root",factory:()=>!1});var ow=new H(""),sw=new H(""),ws=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ns(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=le({token:t,providedIn:"root",factory:()=>new t})}return t})(),gu=(()=>{class t{internalPendingTasks=L(ws);scheduler=L(Mr);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){return _(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=le({token:t,providedIn:"root",factory:()=>new t})}return t})(),Yh=class extends ht{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,IE()&&(this.destroyRef=L(pu,{optional:!0})??void 0,this.pendingTasks=L(ws,{optional:!0})??void 0)}emit(e){let n=ne(null);try{super.next(e)}finally{ne(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Se&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ft=Yh;function Gc(...t){}function aw(t){let e,n;function r(){t=Gc;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function TI(t){return queueMicrotask(()=>t()),()=>{t=Gc}}var Xf="isAngularZone",Wc=Xf+"_ID",LR=0,Ee=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ft(!1);onMicrotaskEmpty=new ft(!1);onStable=new ft(!1);onError=new ft(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=iw}=e;if(typeof Zone>"u")throw new G(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,UR(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Xf)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new G(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new G(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,jR,Gc,Gc);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},jR={};function ep(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function BR(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){aw(()=>{t.callbackScheduled=!1,Zh(t),t.isCheckStableRunning=!0,ep(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Zh(t)}function UR(t){let e=()=>{BR(t)},n=LR++;t._inner=t._inner.fork({name:"angular",properties:{[Xf]:!0,[Wc]:n,[Wc+n]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if($R(u))return r.invokeTask(o,s,c,u);try{return bI(t),r.invokeTask(o,s,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),CI(t)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return bI(t),r.invoke(o,s,c,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!HR(u)&&e(),CI(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Zh(t),ep(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Zh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function bI(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function CI(t){t._nesting--,ep(t)}var Jh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ft;onMicrotaskEmpty=new ft;onStable=new ft;onError=new ft;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function $R(t){return cw(t,"__ignore_ng_zone__")}function HR(t){return cw(t,"__scheduler_tick__")}function cw(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Pr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},qR=new H("",{providedIn:"root",factory:()=>{let t=L(Ee),e=L(Pr);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function AI(t,e){return tE(t,e)}function zR(t){return tE(eE,t)}var ez=(AI.required=zR,AI);function GR(){return mu(tt(),ie())}function mu(t,e){return new zt(qt(t,e))}var zt=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=GR}return t})();function WR(t){return typeof t=="function"&&t[It]!==void 0}function Li(t,e){let n=Xd(t,e?.equal),r=n[It];return n.set=i=>Xo(r,i),n.update=i=>eh(r,i),n.asReadonly=KR.bind(n),n}function KR(){let t=this[It];if(t.readonlyFn===void 0){let e=()=>this();e[It]=t,t.readonlyFn=e}return t.readonlyFn}function uw(t){return WR(t)&&typeof t.set=="function"}function lw(t){return(t.flags&128)===128}var dw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(dw||{}),hw=new Map,QR=0;function YR(){return QR++}function ZR(t){hw.set(t[ou],t)}function Xh(t){hw.delete(t[ou])}var SI="__ngContext__";function ji(t,e){zn(e)?(t[SI]=e[ou],ZR(e)):t[SI]=e}function fw(t){return gw(t[fs])}function pw(t){return gw(t[Nt])}function gw(t){for(;t!==null&&!mn(t);)t=t[Nt];return t}var ef;function tz(t){ef=t}function JR(){if(ef!==void 0)return ef;if(typeof document<"u")return document;throw new G(210,!1)}var XR=new H("",{providedIn:"root",factory:()=>eM}),eM="ng",tM=new H(""),tp=new H("",{providedIn:"platform",factory:()=>"unknown"});var nz=new H("",{providedIn:"root",factory:()=>JR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var nM="h",rM="b";var mw=!1,iM=new H("",{providedIn:"root",factory:()=>mw});var np=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(np||{}),yu=new H(""),NI=new Set;function vu(t){NI.has(t)||(NI.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var yw=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=oM}return t})();function oM(){return new yw(ie(),tt())}var Ii=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ii||{}),vw=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=le({token:t,providedIn:"root",factory:()=>new t})}return t})(),sM=[Ii.EarlyRead,Ii.Write,Ii.MixedReadWrite,Ii.Read],aM=(()=>{class t{ngZone=L(Ee);scheduler=L(Mr);errorHandler=L(Pr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){L(yu,{optional:!0})}execute(){let n=this.sequences.size>0;n&&fe(16),this.executing=!0;for(let r of sM)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&fe(17)}register(n){let{view:r}=n;r!==void 0?((r[wi]??=[]).push(n),Es(r),r[W]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(np.AFTER_NEXT_RENDER,n):n()}static \u0275prov=le({token:t,providedIn:"root",factory:()=>new t})}return t})(),tf=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[wi];e&&(this.view[wi]=e.filter(n=>n!==this))}};function cM(t,e){!e?.injector&&Uf(cM);let n=e?.injector??L($e);return vu("NgAfterNextRender"),lM(t,n,e,!0)}function uM(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function lM(t,e,n,r){let i=e.get(vw);i.impl??=e.get(aM);let o=e.get(yu,null,{optional:!0}),s=n?.phase??Ii.MixedReadWrite,c=n?.manualCleanup!==!0?e.get(pu):null,u=e.get(yw,null,{optional:!0}),l=new tf(i.impl,uM(t,s),u?.view,r,c,o?.snapshot(null));return i.impl.register(l),l}var dM=()=>null;function _w(t,e,n=!1){return dM(t,e,n)}function Iw(t,e){let n=t.contentQueries;if(n!==null){let r=ne(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];LE(o),c.contentQueries(2,e[s],s)}}}finally{ne(r)}}}function nf(t,e,n){LE(0);let r=ne(null);try{e(t,n)}finally{ne(r)}}function rp(t,e,n){if($f(e)){let r=ne(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{ne(r)}}}var ps=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ps||{}),Ec;function hM(){if(Ec===void 0&&(Ec=null,Hn.trustedTypes))try{Ec=Hn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ec}function _u(t){return hM()?.createHTML(t)||t}var wc;function fM(){if(wc===void 0&&(wc=null,Hn.trustedTypes))try{wc=Hn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return wc}function RI(t){return fM()?.createScriptURL(t)||t}var fn=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${JI})`}},rf=class extends fn{getTypeName(){return"HTML"}},of=class extends fn{getTypeName(){return"Style"}},sf=class extends fn{getTypeName(){return"Script"}},af=class extends fn{getTypeName(){return"URL"}},cf=class extends fn{getTypeName(){return"ResourceURL"}};function Ds(t){return t instanceof fn?t.changingThisBreaksApplicationSecurity:t}function Ew(t,e){let n=pM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${JI})`)}return n===e}function pM(t){return t instanceof fn&&t.getTypeName()||null}function rz(t){return new rf(t)}function iz(t){return new of(t)}function oz(t){return new sf(t)}function sz(t){return new af(t)}function az(t){return new cf(t)}function gM(t){let e=new lf(t);return mM()?new uf(e):e}var uf=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let n=new window.DOMParser().parseFromString(_u(e),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(e):(n.firstChild?.remove(),n)}catch{return null}}},lf=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let n=this.inertDocument.createElement("template");return n.innerHTML=_u(e),n}};function mM(){try{return!!new window.DOMParser().parseFromString(_u(""),"text/html")}catch{return!1}}var yM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ww(t){return t=String(t),t.match(yM)?t:"unsafe:"+t}function yn(t){let e={};for(let n of t.split(","))e[n]=!0;return e}function Ts(...t){let e={};for(let n of t)for(let r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}var Dw=yn("area,br,col,hr,img,wbr"),Tw=yn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),bw=yn("rp,rt"),vM=Ts(bw,Tw),_M=Ts(Tw,yn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),IM=Ts(bw,yn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),MI=Ts(Dw,_M,IM,vM),Cw=yn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),EM=yn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),wM=yn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),DM=Ts(Cw,EM,wM),TM=yn("script,style,template"),df=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let n=e.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=AM(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=CM(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(e){let n=PI(e).toLowerCase();if(!MI.hasOwnProperty(n))return this.sanitizedSomething=!0,!TM.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,c=s.toLowerCase();if(!DM.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let u=o.value;Cw[c]&&(u=ww(u)),this.buf.push(" ",s,'="',xI(u),'"')}return this.buf.push(">"),!0}endElement(e){let n=PI(e).toLowerCase();MI.hasOwnProperty(n)&&!Dw.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(xI(e))}};function bM(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function CM(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw Aw(e);return e}function AM(t){let e=t.firstChild;if(e&&bM(t,e))throw Aw(e);return e}function PI(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function Aw(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var SM=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NM=/([^\#-~ |!])/g;function xI(t){return t.replace(/&/g,"&amp;").replace(SM,function(e){let n=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(NM,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Dc;function cz(t,e){let n=null;try{Dc=Dc||gM(t);let r=e?String(e):"";n=Dc.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Dc.getInertBodyElement(r)}while(r!==o);let c=new df().sanitizeChildren(kI(n)||n);return _u(c)}finally{if(n){let r=kI(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function kI(t){return"content"in t&&RM(t)?t.content:null}function RM(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var ip=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ip||{});function MM(t){let e=Sw();return e?e.sanitize(ip.URL,t)||"":Ew(t,"URL")?Ds(t):ww(Ti(t))}function PM(t){let e=Sw();if(e)return RI(e.sanitize(ip.RESOURCE_URL,t)||"");if(Ew(t,"ResourceURL"))return RI(Ds(t));throw new G(904,!1)}function xM(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?PM:MM}function uz(t,e,n){return xM(e,n)(t)}function Sw(){let t=ie();return t&&t[hn].sanitizer}var kM=/^>|^->|<!--|-->|--!>|<!-$/g,OM=/(<|>)/g,FM="\u200B$1\u200B";function VM(t){return t.replace(kM,e=>e.replace(OM,FM))}function Nw(t){return t instanceof Function?t():t}function LM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var Rw="ng-template";function jM(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&LM(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(op(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function op(t){return t.type===4&&t.value!==Rw}function BM(t,e,n){let r=t.type===4&&!n?Rw:t.value;return e===r}function UM(t,e,n){let r=4,i=t.attrs,o=i!==null?qM(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!At(r)&&!At(u))return!1;if(s&&At(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!BM(t,u,n)||u===""&&e.length===1){if(At(r))return!1;s=!0}}else if(r&8){if(i===null||!jM(t,i,u,n)){if(At(r))return!1;s=!0}}else{let l=e[++c],h=$M(u,i,op(t),n);if(h===-1){if(At(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(At(r))return!1;s=!0}}}}return At(r)||s}function At(t){return(t&1)===0}function $M(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return zM(e,t)}function Mw(t,e,n=!1){for(let r=0;r<e.length;r++)if(UM(t,e[r],n))return!0;return!1}function HM(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function qM(t){for(let e=0;e<t.length;e++){let n=t[e];if(GE(n))return e}return t.length}function zM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function GM(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function OI(t,e){return t?":not("+e.trim()+")":e}function WM(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!At(s)&&(e+=OI(o,i),i=""),r=s,o=o||!At(r);n++}return i!==""&&(e+=OI(o,i)),e}function KM(t){return t.map(WM).join(",")}function QM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!At(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var gt={};function YM(t,e){return t.createText(e)}function ZM(t,e,n){t.setValue(e,n)}function JM(t,e){return t.createComment(VM(e))}function Pw(t,e,n){return t.createElement(e,n)}function Kc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function xw(t,e,n){t.appendChild(e,n)}function FI(t,e,n,r,i){r!==null?Kc(t,e,n,r,i):xw(t,e,n)}function XM(t,e,n){t.removeChild(null,e,n)}function eP(t,e,n){t.setAttribute(e,"style",n)}function tP(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function kw(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&TR(t,e,r),i!==null&&tP(t,e,i),o!==null&&eP(t,e,o)}function sp(t,e,n,r,i,o,s,c,u,l,h){let p=et+r,y=p+i,m=nP(p,y),C=typeof l=="function"?l():l;return m[se]={type:t,blueprint:m,template:n,queries:null,viewQuery:c,declTNode:e,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function nP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:gt);return n}function rP(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=sp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ap(t,e,n,r,i,o,s,c,u,l,h){let p=e.blueprint.slice();return p[gn]=i,p[W]=r|4|128|8|64|1024,(l!==null||t&&t[W]&2048)&&(p[W]|=2048),RE(p),p[Xe]=p[ki]=t,p[at]=n,p[hn]=s||t&&t[hn],p[we]=c||t&&t[we],p[Cr]=u||t&&t[Cr]||null,p[ct]=o,p[ou]=YR(),p[hs]=h,p[EE]=l,p[Dt]=e.type==2?t[Dt]:p,p}function iP(t,e,n){let r=qt(e,t),i=rP(n),o=t[hn].rendererFactory,s=cp(t,ap(t,i,null,Ow(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function Ow(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Fw(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function cp(t,e){return t[fs]?t[gI][Nt]=e:t[fs]=e,t[gI]=e,e}function lz(t=1){Vw(ke(),ie(),Wn()+t,!1)}function Vw(t,e,n,r){if(!r)if((e[W]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Cc(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Ac(e,o,0,n)}Nr(n)}var Iu=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Iu||{});function hf(t,e,n,r){let i=ne(null);try{let[o,s,c]=t.inputs[n],u=null;(s&Iu.SignalBased)!==0&&(u=e[o][It]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):DE(e,u,o,r)}finally{ne(i)}}function Lw(t,e,n,r,i){let o=Wn(),s=r&2;try{Nr(-1),s&&e.length>et&&Vw(t,e,et,!1),fe(s?2:0,i),n(r,i)}finally{Nr(o),fe(s?3:1,i)}}function Eu(t,e,n){lP(t,e,n),(n.flags&64)===64&&dP(t,e,n)}function up(t,e,n=qt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function oP(t,e,n,r){let o=r.get(iM,mw)||n===ps.ShadowDom,s=t.selectRootElement(e,o);return sP(s),s}function sP(t){aP(t)}var aP=()=>null;function cP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function lp(t,e,n,r,i,o,s,c){if(!c&&hp(e,t,n,r,i)){Oi(e)&&uP(n,e.index);return}if(e.type&3){let u=qt(e,n);r=cP(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function uP(t,e){let n=Ht(e,t);n[W]&16||(n[W]|=64)}function lP(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Oi(n)&&iP(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||qc(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let c=t.data[s],u=zc(e,t,s,n);if(ji(u,e),o!==null&&gP(e,s-r,u,c,n,o),Ut(c)){let l=Ht(n.index,e);l[at]=zc(e,t,s,n)}}}function dP(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=gR();try{Nr(o);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];zh(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&hP(u,l)}}finally{Nr(-1),zh(s)}}function hP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function dp(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];Mw(e,o.selectors,!1)&&(r??=[],Ut(o)?r.unshift(o):r.push(o))}return r}function fP(t,e,n,r,i,o){let s=qt(t,e);pP(e[we],s,o,t.value,n,r,i)}function pP(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let c=s==null?Ti(o):s(o,r||"",i);t.setAttribute(e,i,c,n)}}function gP(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1];hf(r,n,u,l)}}function mP(t,e){let n=t[Cr],r=n?n.get(Pr,null):null;r&&r.handleError(e)}function hp(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];hf(p,n[l],h,i),c=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];hf(h,l,r,i),c=!0}return c}function yP(t,e){let n=Ht(e,t),r=n[se];vP(r,n);let i=n[gn];i!==null&&n[hs]===null&&(n[hs]=_w(i,n[Cr])),fe(18),fp(r,n,n[at]),fe(19,n[at])}function vP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function fp(t,e,n){Kf(e);try{let r=t.viewQuery;r!==null&&nf(1,r,n);let i=t.template;i!==null&&Lw(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ai]?.finishViewCreation(t),t.staticContentQueries&&Iw(t,e),t.staticViewQueries&&nf(2,t.viewQuery,n);let o=t.components;o!==null&&_P(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[W]&=-5,Qf()}}function _P(t,e){for(let n=0;n<e.length;n++)yP(t,e[n])}function jw(t,e,n,r){let i=ne(null);try{let o=e.tView,c=t[W]&4096?4096:16,u=ap(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Ci]=l;let h=t[Ai];return h!==null&&(u[Ai]=h.createEmbeddedView(o)),fp(o,u,n),u}finally{ne(i)}}function ff(t,e){return!e||e.firstChild===null||lw(t)}var IP;function pp(t,e){return IP(t,e)}var Qc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Qc||{});function gp(t){return(t.flags&32)===32}function Ei(t,e,n,r,i){if(r!=null){let o,s=!1;mn(r)?o=r:zn(r)&&(s=!0,r=r[gn]);let c=$t(r);t===0&&n!==null?i==null?xw(e,n,c):Kc(e,n,c,i||null,!0):t===1&&n!==null?Kc(e,n,c,i||null,!0):t===2?XM(e,c,s):t===3&&e.destroyNode(c),o!=null&&RP(e,t,o,n,i)}}function EP(t,e){Bw(t,e),e[gn]=null,e[ct]=null}function wP(t,e,n,r,i,o){r[gn]=i,r[ct]=e,Du(t,r,n,1,i,o)}function Bw(t,e){e[hn].changeDetectionScheduler?.notify(9),Du(t,e,e[we],2,null,null)}function DP(t){let e=t[fs];if(!e)return Ch(t[se],t);for(;e;){let n=null;if(zn(e))n=e[fs];else{let r=e[wt];r&&(n=r)}if(!n){for(;e&&!e[Nt]&&e!==t;)zn(e)&&Ch(e[se],e),e=e[Xe];e===null&&(e=t),zn(e)&&Ch(e[se],e),n=e&&e[Nt]}e=n}}function mp(t,e){let n=t[jc],r=n.indexOf(e);n.splice(r,1)}function Uw(t,e){if(Fi(e))return;let n=e[we];n.destroyNode&&Du(t,e,n,3,null,null),DP(e)}function Ch(t,e){if(Fi(e))return;let n=ne(null);try{e[W]&=-129,e[W]|=256,e[Et]&&Yd(e[Et]),bP(t,e),TP(t,e),e[se].type===1&&e[we].destroy();let r=e[Ci];if(r!==null&&mn(e[Xe])){r!==e[Xe]&&mp(r,e);let i=e[Ai];i!==null&&i.detachView(t)}Xh(e)}finally{ne(n)}}function TP(t,e){let n=t.cleanup,r=e[Fc];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let c=n[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[n[s+1]];n[s].call(c)}r!==null&&(e[Fc]=null);let i=e[qn];if(i!==null){e[qn]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[Vc];if(o!==null){e[Vc]=null;for(let s of o)s.destroy()}}function bP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Rr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];fe(4,c,u);try{u.call(c)}finally{fe(5,c,u)}}else{fe(4,i,o);try{o.call(i)}finally{fe(5,i,o)}}}}}function $w(t,e,n){return CP(t,e.parent,n)}function CP(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[gn];if(Oi(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===ps.None||i===ps.Emulated)return null}return qt(r,n)}function Hw(t,e,n){return SP(t,e,n)}function AP(t,e,n){return t.type&40?qt(t,n):null}var SP=AP,VI;function wu(t,e,n,r){let i=$w(t,r,e),o=e[we],s=r.parent||e[ct],c=Hw(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)FI(o,i,n[u],c,!1);else FI(o,i,n,c,!1);VI!==void 0&&VI(o,r,e,n,i)}function us(t,e){if(e!==null){let n=e.type;if(n&3)return qt(e,t);if(n&4)return pf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return us(t,r);{let i=t[e.index];return mn(i)?pf(-1,i):$t(i)}}else{if(n&128)return us(t,e.next);if(n&32)return pp(e,t)()||$t(t[e.index]);{let r=qw(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Sr(t[Dt]);return us(i,r)}else return us(t,e.next)}}}return null}function qw(t,e){if(e!==null){let r=t[Dt][ct],i=e.projection;return r.projection[i]}return null}function pf(t,e){let n=wt+t+1;if(n<e.length){let r=e[n],i=r[se].firstChild;if(i!==null)return us(r,i)}return e[Ar]}function yp(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&e===0&&(c&&ji($t(c),r),n.flags|=2),!gp(n))if(u&8)yp(t,e,n.child,r,i,o,!1),Ei(e,t,i,c,o);else if(u&32){let l=pp(n,r),h;for(;h=l();)Ei(e,t,i,h,o);Ei(e,t,i,c,o)}else u&16?zw(t,e,r,n,i,o):Ei(e,t,i,c,o);n=s?n.projectionNext:n.next}}function Du(t,e,n,r,i,o){yp(n,r,t.firstChild,e,i,o,!1)}function NP(t,e,n){let r=e[we],i=$w(t,n,e),o=n.parent||e[ct],s=Hw(o,n,e);zw(r,0,e,n,i,s)}function zw(t,e,n,r,i,o){let s=n[Dt],u=s[ct].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Ei(e,t,i,h,o)}else{let l=u,h=s[Xe];lw(r)&&(l.flags|=128),yp(t,e,l,h,i,o,!0)}}function RP(t,e,n,r,i){let o=n[Ar],s=$t(n);o!==s&&Ei(e,t,r,o,i);for(let c=wt;c<n.length;c++){let u=n[c];Du(u[se],u,t,e,r,o)}}function MP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Qc.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Qc.Important),t.setStyle(n,r,i,o))}}function Yc(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push($t(o)),mn(o)&&PP(o,r);let s=n.type;if(s&8)Yc(t,e,n.child,r);else if(s&32){let c=pp(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=qw(e,n);if(Array.isArray(c))r.push(...c);else{let u=Sr(e[Dt]);Yc(u[se],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function PP(t,e){for(let n=wt;n<t.length;n++){let r=t[n],i=r[se].firstChild;i!==null&&Yc(r[se],r,i,e)}t[Ar]!==t[gn]&&e.push(t[Ar])}function Gw(t){if(t[wi]!==null){for(let e of t[wi])e.impl.addSequence(e);t[wi].length=0}}var Ww=[];function xP(t){return t[Et]??kP(t)}function kP(t){let e=Ww.pop()??Object.create(FP);return e.lView=t,e}function OP(t){t.lView[Et]!==t&&(t.lView=null,Ww.push(t))}var FP=ve(me({},Zo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Es(t.lView)},consumerOnSignalRead(){this.lView[Et]=this}});function VP(t){let e=t[Et]??Object.create(LP);return e.lView=t,e}var LP=ve(me({},Zo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Sr(t.lView);for(;e&&!Kw(e[se]);)e=Sr(e);e&&ME(e)},consumerOnSignalRead(){this.lView[Et]=this}});function Kw(t){return t.type!==2}function Qw(t){if(t[Vc]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Vc])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[W]&8192)}}var jP=100;function Yw(t,e=!0,n=0){let i=t[hn].rendererFactory,o=!1;o||i.begin?.();try{BP(t,n)}catch(s){throw e&&mP(t,s),s}finally{o||i.end?.()}}function BP(t,e){let n=VE();try{yI(!0),gf(t,e);let r=0;for(;cu(t);){if(r===jP)throw new G(103,!1);r++,gf(t,1)}}finally{yI(n)}}function UP(t,e,n,r){if(Fi(e))return;let i=e[W],o=!1,s=!1;Kf(e);let c=!0,u=null,l=null;o||(Kw(t)?(l=xP(e),u=za(l)):qd()===null?(c=!1,l=VP(e),u=za(l)):e[Et]&&(Yd(e[Et]),e[Et]=null));try{RE(e),hR(t.bindingStartIndex),n!==null&&Lw(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let m=t.preOrderCheckHooks;m!==null&&Cc(e,m,null)}else{let m=t.preOrderHooks;m!==null&&Ac(e,m,0,null),Th(e,0)}if(s||$P(e),Qw(e),Zw(e,0),t.contentQueries!==null&&Iw(t,e),!o)if(h){let m=t.contentCheckHooks;m!==null&&Cc(e,m)}else{let m=t.contentHooks;m!==null&&Ac(e,m,1),Th(e,1)}qP(t,e);let p=t.components;p!==null&&Xw(e,p,0);let y=t.viewQuery;if(y!==null&&nf(2,y,r),!o)if(h){let m=t.viewCheckHooks;m!==null&&Cc(e,m)}else{let m=t.viewHooks;m!==null&&Ac(e,m,2),Th(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Dh]){for(let m of e[Dh])m();e[Dh]=null}o||(Gw(e),e[W]&=-73)}catch(h){throw o||Es(e),h}finally{l!==null&&(Kd(l,u),c&&OP(l)),Qf()}}function Zw(t,e){for(let n=fw(t);n!==null;n=pw(n))for(let r=wt;r<n.length;r++){let i=n[r];Jw(i,e)}}function $P(t){for(let e=fw(t);e!==null;e=pw(e)){if(!(e[W]&2))continue;let n=e[jc];for(let r=0;r<n.length;r++){let i=n[r];ME(i)}}}function HP(t,e,n){fe(18);let r=Ht(e,t);Jw(r,n),fe(19,r[at])}function Jw(t,e){Hf(t)&&gf(t,e)}function gf(t,e){let r=t[se],i=t[W],o=t[Et],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Qd(o)),s||=!1,o&&(o.dirty=!1),t[W]&=-9217,s)UP(r,t,r.template,t[at]);else if(i&8192){Qw(t),Zw(t,1);let c=r.components;c!==null&&Xw(t,c,1),Gw(t)}}function Xw(t,e,n){for(let r=0;r<e.length;r++)HP(t,e[r],n)}function qP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Nr(~i);else{let o=i,s=n[++r],c=n[++r];pR(s,o);let u=e[o];fe(24,u),c(2,u),fe(25,u)}}}finally{Nr(-1)}}function vp(t,e){let n=VE()?64:1088;for(t[hn].changeDetectionScheduler?.notify(e);t;){t[W]|=n;let r=Sr(t);if(Bc(t)&&!r)return t;t=r}return null}function eD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function tD(t,e,n,r=!0){let i=e[se];if(zP(i,e,t,n),r){let s=pf(n,t),c=e[we],u=c.parentNode(t[Ar]);u!==null&&wP(i,t[ct],c,e,u,s)}let o=e[hs];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function mf(t,e){if(t.length<=wt)return;let n=wt+e,r=t[n];if(r){let i=r[Ci];i!==null&&i!==t&&mp(i,r),e>0&&(t[n-1][Nt]=r[Nt]);let o=xc(t,wt+e);EP(r[se],r);let s=o[Ai];s!==null&&s.detachView(o[se]),r[Xe]=null,r[Nt]=null,r[W]&=-129}return r}function zP(t,e,n,r){let i=wt+r,o=n.length;r>0&&(n[i-1][Nt]=e),r<o-wt?(e[Nt]=n[i],dE(n,wt+r,e)):(n.push(e),e[Nt]=null),e[Xe]=n;let s=e[Ci];s!==null&&n!==s&&nD(s,e);let c=e[Ai];c!==null&&c.insertView(t),Hh(e),e[W]|=128}function nD(t,e){let n=t[jc],r=e[Xe];if(zn(r))t[W]|=2;else{let i=r[Xe][Dt];e[Dt]!==i&&(t[W]|=2)}n===null?t[jc]=[e]:n.push(e)}var gs=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[se];return Yc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[at]}set context(e){this._lView[at]=e}get destroyed(){return Fi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Xe];if(mn(e)){let n=e[Lc],r=n?n.indexOf(this):-1;r>-1&&(mf(e,r),xc(n,r))}this._attachedToViewContainer=!1}Uw(this._lView[se],this._lView)}onDestroy(e){PE(this._lView,e)}markForCheck(){vp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[W]&=-129}reattach(){Hh(this._lView),this._lView[W]|=128}detectChanges(){this._lView[W]|=1024,Yw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new G(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Bc(this._lView),n=this._lView[Ci];n!==null&&!e&&mp(n,this._lView),Bw(this._lView[se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new G(902,!1);this._appRef=e;let n=Bc(this._lView),r=this._lView[Ci];r!==null&&!n&&nD(r,this._lView),Hh(this._lView)}};var Tu=(()=>{class t{static __NG_ELEMENT_ID__=KP}return t})(),GP=Tu,WP=class extends GP{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=jw(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new gs(i)}};function KP(){return QP(tt(),ie())}function QP(t,e){return t.type&4?new WP(e,t,mu(t,e)):null}function bs(t,e,n,r,i){let o=t.data[e];if(o===null)o=YP(t,e,n,r,i),fR()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=lR();o.injectorIndex=s===null?-1:s.injectorIndex}return Or(o,!0),o}function YP(t,e,n,r,i){let o=FE(),s=zf(),c=s?o:o&&o.parent,u=t.data[e]=JP(t,c,n,e,r,i);return ZP(t,u,o,s),u}function ZP(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function JP(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return OE()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var fz=new RegExp(`^(\\d+)*(${rM}|${nM})*(.*)`);var XP=()=>null;function yf(t,e){return XP(t,e)}var ex=class{},rD=class{},vf=class{resolveComponentFactory(e){throw Error(`No component factory found for ${st(e)}.`)}},bu=class{static NULL=new vf},Zc=class{},vn=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>tx()}return t})();function tx(){let t=ie(),e=tt(),n=Ht(e.index,t);return(zn(n)?n:t)[we]}var nx=(()=>{class t{static \u0275prov=le({token:t,providedIn:"root",factory:()=>null})}return t})();var Ah={},_f=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=iu(r);let i=this.injector.get(e,Ah,r);return i!==Ah||n===Ah?i:this.parentInjector.get(e,n,r)}};function If(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=Oh(i,c);else if(o==2){let u=c,l=e[++s];r=Oh(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Q(t,e=X.Default){let n=ie();if(n===null)return Ue(t,e);let r=tt();return XE(r,n,Je(t),e)}function yz(){let t="invalid";throw new Error(t)}function _p(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let c,u=null,l=null,h=ix(s);h===null?c=s:[c,u,l]=h,ax(t,e,n,c,o,u,l)}o!==null&&r!==null&&rx(n,r,o)}function rx(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new G(-301,!1);r.push(e[i],o)}}function ix(t){let e=null,n=!1;for(let s=0;s<t.length;s++){let c=t[s];if(s===0&&Ut(c)&&(e=c),c.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r??=[],i??=new Map,o??=new Map,ox(s,r,o,i)),s===e&&(r??=[],r.push(s));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,o]):null}function ox(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function sx(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function ax(t,e,n,r,i,o,s){let c=r.length,u=!1;for(let y=0;y<c;y++){let m=r[y];!u&&Ut(m)&&(u=!0,sx(t,n,y)),Wh(qc(n,e),t,m.type)}fx(n,t.data.length,c);for(let y=0;y<c;y++){let m=r[y];m.providersResolver&&m.providersResolver(m)}let l=!1,h=!1,p=Fw(t,e,c,null);c>0&&(n.directiveToIndex=new Map);for(let y=0;y<c;y++){let m=r[y];if(n.mergedAttrs=Ni(n.mergedAttrs,m.hostAttrs),ux(t,n,e,p,m),hx(p,m,i),s!==null&&s.has(m)){let[N,M]=s.get(m);n.directiveToIndex.set(m.type,[p,N+n.directiveStart,M+n.directiveStart])}else(o===null||!o.has(m))&&n.directiveToIndex.set(m.type,p);m.contentQueries!==null&&(n.flags|=4),(m.hostBindings!==null||m.hostAttrs!==null||m.hostVars!==0)&&(n.flags|=64);let C=m.type.prototype;!l&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(C.ngOnChanges||C.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}cx(t,n,o)}function cx(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))LI(0,e,i,r),LI(1,e,i,r),BI(e,r,!1);else{let o=n.get(i);jI(0,e,o,r),jI(1,e,o,r),BI(e,r,!0)}}}function LI(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),iD(e,o)}}function jI(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;t===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),iD(e,s)}}function iD(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function BI(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||op(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[c+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[c+1]);break}}c+=2}t.initialInputs??=[],t.initialInputs.push(s)}function ux(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Dr(i.type,!0)),s=new Rr(o,Ut(i),Q);t.blueprint[r]=s,n[r]=s,lx(t,e,r,Fw(t,n,i.hostVars,gt),i)}function lx(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;dx(s)!=c&&s.push(c),s.push(n,r,o)}}function dx(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function hx(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ut(e)&&(n[""]=t)}}function fx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function oD(t,e,n,r,i,o,s,c){let u=e.consts,l=Si(u,s),h=bs(e,t,2,r,l);return o&&_p(e,n,h,Si(u,c),i),h.mergedAttrs=Ni(h.mergedAttrs,h.attrs),h.attrs!==null&&If(h,h.attrs,!1),h.mergedAttrs!==null&&If(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function sD(t,e){Yf(t,e),$f(e)&&t.queries.elementEnd(e)}var Jc=class extends bu{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=br(e);return new Ri(n,this.ngModule)}};function px(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Iu.SignalBased)!==0};return i&&(o.transform=i),o})}function gx(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function mx(t,e,n){let r=e instanceof Bt?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new _f(n,r):n}function yx(t){let e=t.get(Zc,null);if(e===null)throw new G(407,!1);let n=t.get(nx,null),r=t.get(Mr,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function vx(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return Pw(e,n,n==="svg"?eR:n==="math"?tR:null)}var Ri=class extends rD{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=px(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=gx(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=KM(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){fe(22);let o=ne(null);try{let s=this.componentDef,c=r?["ng-version","19.2.11"]:QM(this.componentDef.selectors[0]),u=sp(0,null,null,1,0,null,null,null,null,[c],null),l=mx(s,i||this.ngModule,e),h=yx(l),p=h.rendererFactory.createRenderer(null,s),y=r?oP(p,r,s.encapsulation,l):vx(s,p),m=ap(null,u,null,512|Ow(s),null,null,h,p,l,null,_w(y,l,!0));m[et]=y,Kf(m);let C=null;try{let N=oD(et,u,m,"#host",()=>[this.componentDef],!0,0);y&&(kw(p,y,N),ji(y,m)),Eu(u,m,N),rp(u,N,m),sD(u,N),n!==void 0&&_x(N,this.ngContentSelectors,n),C=Ht(N.index,m),m[at]=C[at],fp(u,m,null)}catch(N){throw C!==null&&Xh(C),Xh(m),N}finally{fe(23),Qf()}return new Ef(this.componentType,m)}finally{ne(o)}}},Ef=class extends ex{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=SE(n[se],et),this.location=mu(this._tNode,n),this.instance=Ht(this._tNode.index,n)[at],this.hostView=this.changeDetectorRef=new gs(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=hp(r,i[se],i,e,n);this.previousInputValues.set(e,n);let s=Ht(r.index,i);vp(s,1)}get injector(){return new wr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function _x(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Cu=(()=>{class t{static __NG_ELEMENT_ID__=Ix}return t})();function Ix(){let t=tt();return wx(t,ie())}var Ex=Cu,aD=class extends Ex{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return mu(this._hostTNode,this._hostLView)}get injector(){return new wr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Zf(this._hostTNode,this._hostLView);if(WE(e)){let n=$c(e,this._hostLView),r=Uc(e),i=n[se].data[r+8];return new wr(i,n)}else return new wr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=UI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-wt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=yf(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,ff(this._hostTNode,s)),c}createComponent(e,n,r,i,o){let s=e&&!YN(e),c;if(s)c=n;else{let C=n||{};c=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}let u=s?e:new Ri(br(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let N=(s?l:this.parentInjector).get(Bt,null);N&&(o=N)}let h=br(u.componentType??{}),p=yf(this._lContainer,h?.id??null),y=p?.firstChild??null,m=u.create(l,i,y,o);return this.insertImpl(m.hostView,c,ff(this._hostTNode,p)),m}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(nR(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[Xe],l=new aD(u,u[ct],u[Xe]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return tD(s,i,o,r),e.attachToViewContainerRef(),dE(Sh(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=UI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=mf(this._lContainer,n);r&&(xc(Sh(this._lContainer),n),Uw(r[se],r))}detach(e){let n=this._adjustIndex(e,-1),r=mf(this._lContainer,n);return r&&xc(Sh(this._lContainer),n)!=null?new gs(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function UI(t){return t[Lc]}function Sh(t){return t[Lc]||(t[Lc]=[])}function wx(t,e){let n,r=e[t.index];return mn(r)?n=r:(n=eD(r,e,null,t),e[t.index]=n,cp(e,n)),Tx(n,e,t,r),new aD(n,t,e)}function Dx(t,e){let n=t[we],r=n.createComment(""),i=qt(e,t),o=n.parentNode(i);return Kc(n,o,r,n.nextSibling(i),!1),r}var Tx=Ax,bx=()=>!1;function Cx(t,e,n){return bx(t,e,n)}function Ax(t,e,n,r){if(t[Ar])return;let i;n.type&8?i=$t(r):i=Dx(e,n),t[Ar]=i}var Mi=class{},Sx=class{};var wf=class extends Mi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Jc(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=pE(e);this._bootstrapComponents=Nw(o.bootstrap),this._r3Injector=rw(e,n,[{provide:Mi,useValue:this},{provide:bu,useValue:this.componentFactoryResolver},...r],st(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Df=class extends Sx{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new wf(this.moduleType,e,[])}};var Xc=class extends Mi{injector;componentFactoryResolver=new Jc(this);instance=null;constructor(e){super();let n=new ds([...e.providers,{provide:Mi,useValue:this},{provide:bu,useValue:this.componentFactoryResolver}],e.parent||Bf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Nx(t,e,n=null){return new Xc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Rx=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=gE(!1,n.type),i=r.length>0?Nx([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=le({token:t,providedIn:"environment",factory:()=>new t(Ue(Bt))})}return t})();function Ez(t){return vs(()=>{let e=uD(t),n=ve(me({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===dw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(Rx).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ps.Emulated,styles:t.styles||ot,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&vu("NgStandalone"),lD(n);let r=t.dependencies;return n.directiveDefs=$I(r,!1),n.pipeDefs=$I(r,!0),n.id=Ox(n),n})}function Mx(t){return br(t)||LN(t)}function Px(t){return t!==null}function Cs(t){return vs(()=>({type:t.type,bootstrap:t.bootstrap||ot,declarations:t.declarations||ot,imports:t.imports||ot,exports:t.exports||ot,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function xx(t,e){if(t==null)return Tr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=Iu.None,u=null),n[o]=[r,c,u],e[o]=s}return n}function kx(t){if(t==null)return Tr;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Ae(t){return vs(()=>{let e=uD(t);return lD(e),e})}function cD(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function uD(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Tr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||ot,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xx(t.inputs,e),outputs:kx(t.outputs),debugInfo:null}}function lD(t){t.features?.forEach(e=>e(t))}function $I(t,e){if(!t)return null;let n=e?jN:Mx;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Px)}function Ox(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Fx(t){return Object.getPrototypeOf(t.prototype).constructor}function mt(t){let e=Fx(t.type),n=!0,r=[t];for(;e;){let i;if(Ut(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new G(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Nh(t.inputs),s.declaredInputs=Nh(t.declaredInputs),s.outputs=Nh(t.outputs);let c=i.hostBindings;c&&Ux(t,c);let u=i.viewQuery,l=i.contentQueries;if(u&&jx(t,u),l&&Bx(t,l),Vx(t,i),yN(t.outputs,i.outputs),Ut(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(t),c===mt&&(n=!1)}}e=Object.getPrototypeOf(e)}Lx(r)}function Vx(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function Lx(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ni(i.hostAttrs,n=Ni(n,i.hostAttrs))}}function Nh(t){return t===Tr?{}:t===ot?[]:t}function jx(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Bx(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function Ux(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function dD(t){return Hx(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function $x(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Hx(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Ip(t,e,n){return t[e]=n}function qx(t,e){return t[e]}function pn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function hD(t,e,n,r){let i=pn(t,e,n);return pn(t,e+1,r)||i}function zx(t,e,n,r,i,o,s,c,u){let l=e.consts,h=bs(e,t,4,s||null,c||null);qf()&&_p(e,n,h,Si(l,u),dp),h.mergedAttrs=Ni(h.mergedAttrs,h.attrs),Yf(e,h);let p=h.tView=sp(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function fD(t,e,n,r,i,o,s,c,u,l){let h=n+et,p=e.firstCreatePass?zx(h,e,t,r,i,o,s,c,u):e.data[h];Or(p,!1);let y=Wx(e,t,p,n);hu()&&wu(e,t,y,p),ji(y,t);let m=eD(y,t,y,p);return t[h]=m,cp(t,m),Cx(m,p,t),su(p)&&Eu(e,t,p),u!=null&&up(t,p,l),p}function Gx(t,e,n,r,i,o,s,c){let u=ie(),l=ke(),h=Si(l.consts,o);return fD(u,l,t,e,n,r,i,h,s,c),Gx}var Wx=Kx;function Kx(t,e,n,r){return fu(!0),e[we].createComment("")}var wz=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=le({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Qx=new H("");var Yx=(()=>{class t{static \u0275prov=le({token:t,providedIn:"root",factory:()=>new Tf})}return t})(),Tf=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function As(t){return!!t&&typeof t.then=="function"}function pD(t){return!!t&&typeof t.subscribe=="function"}var gD=new H("");function Dz(t){return Gn([{provide:gD,multi:!0,useValue:t}])}var mD=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=L(gD,{optional:!0})??[];injector=L($e);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=xi(this.injector,i);if(As(o))n.push(o);else if(pD(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=le({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Zx=new H("");function Jx(){Jd(()=>{throw new G(600,!1)})}function Xx(t){return t.isBoundToModule}var ek=10;var ms=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=L(qR);afterRenderManager=L(vw);zonelessEnabled=L(Jf);rootEffectScheduler=L(Yx);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ht;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=L(ws).hasPendingTasks.pipe(dn(n=>!n));constructor(){L(yu,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=L(Bt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=$e.NULL){fe(10);let o=n instanceof rD;if(!this._injector.get(mD).done){let m="";throw new G(405,m)}let c;o?c=n:c=this._injector.get(bu).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let u=Xx(c)?void 0:this._injector.get(Mi),l=r||c.selector,h=c.create(i,[],l,u),p=h.location.nativeElement,y=h.injector.get(Qx,null);return y?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Sc(this.components,h),y?.unregisterApplication(p)}),this._loadComponent(h),fe(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){fe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(np.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new G(101,!1);let n=ne(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ne(n),this.afterTick.next(),fe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Zc,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<ek;)fe(14),this.synchronizeOnce(),fe(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)tk(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>cu(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Sc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Zx,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Sc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new G(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=le({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Sc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function tk(t,e,n,r){if(!n&&!cu(t))return;Yw(t,e,n&&!r?0:1)}function Ep(t,e,n,r){let i=ie(),o=lu();if(pn(i,o,e)){let s=ke(),c=du();fP(c,i,t,e,n,r)}return Ep}function yD(t,e,n,r){return pn(t,lu(),n)?e+Ti(n)+r:gt}function nk(t,e,n,r,i,o){let s=dR(),c=hD(t,s,n,i);return Wf(2),c?e+Ti(n)+r+Ti(i)+o:gt}function Tc(t,e){return t<<17|e<<2}function xr(t){return t>>17&32767}function rk(t){return(t&2)==2}function ik(t,e){return t&131071|e<<17}function bf(t){return t|2}function Pi(t){return(t&131068)>>2}function Rh(t,e){return t&-131069|e<<2}function ok(t){return(t&1)===1}function Cf(t){return t|1}function sk(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,c=xr(s),u=Pi(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Is(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let y=xr(t[c+1]);t[r+1]=Tc(y,c),y!==0&&(t[y+1]=Rh(t[y+1],r)),t[c+1]=ik(t[c+1],r)}else t[r+1]=Tc(c,0),c!==0&&(t[c+1]=Rh(t[c+1],r)),c=r;else t[r+1]=Tc(u,0),c===0?c=r:t[u+1]=Rh(t[u+1],r),u=r;l&&(t[r+1]=bf(t[r+1])),HI(t,h,r,!0),HI(t,h,r,!1),ak(e,h,t,r,o),s=Tc(c,u),o?e.classBindings=s:e.styleBindings=s}function ak(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Is(o,e)>=0&&(n[r+1]=Cf(n[r+1]))}function HI(t,e,n,r){let i=t[n+1],o=e===null,s=r?xr(i):Pi(i),c=!1;for(;s!==0&&(c===!1||o);){let u=t[s],l=t[s+1];ck(u,e)&&(c=!0,t[s+1]=r?Cf(l):bf(l)),s=r?xr(l):Pi(l)}c&&(t[n+1]=r?bf(i):Cf(i))}function ck(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Is(t,e)>=0:!1}var St={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function uk(t){return t.substring(St.key,St.keyEnd)}function lk(t){return dk(t),vD(t,_D(t,0,St.textEnd))}function vD(t,e){let n=St.textEnd;return n===e?-1:(e=St.keyEnd=hk(t,St.key=e,n),_D(t,e,n))}function dk(t){St.key=0,St.keyEnd=0,St.value=0,St.valueEnd=0,St.textEnd=t.length}function _D(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function hk(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}function fk(t,e,n){let r=ie(),i=lu();if(pn(r,i,e)){let o=ke(),s=du();lp(o,s,r,t,e,r[we],n,!1)}return fk}function Af(t,e,n,r,i){hp(e,t,n,i?"class":"style",r)}function Au(t,e){return gk(t,e,null,!0),Au}function Tz(t){mk(wk,pk,t,!0)}function pk(t,e){for(let n=lk(e);n>=0;n=vD(e,n))Lf(t,uk(e),!0)}function gk(t,e,n,r){let i=ie(),o=ke(),s=Wf(2);if(o.firstUpdatePass&&ED(o,t,s,r),e!==gt&&pn(i,s,e)){let c=o.data[Wn()];wD(o,c,i,i[we],t,i[s+1]=Tk(e,n),r,s)}}function mk(t,e,n,r){let i=ke(),o=Wf(2);i.firstUpdatePass&&ED(i,null,o,r);let s=ie();if(n!==gt&&pn(s,o,n)){let c=i.data[Wn()];if(DD(c,r)&&!ID(i,o)){let u=r?c.classesWithoutHost:c.stylesWithoutHost;u!==null&&(n=Oh(u,n||"")),Af(i,c,s,n,r)}else Dk(i,c,s,s[we],s[o+1],s[o+1]=Ek(t,e,n),r,o)}}function ID(t,e){return e>=t.expandoStartIndex}function ED(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Wn()],s=ID(t,n);DD(o,r)&&e===null&&!s&&(e=!1),e=yk(i,o,e,r),sk(i,o,e,n,s,r)}}function yk(t,e,n,r){let i=mR(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Mh(null,t,e,n,r),n=ys(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Mh(i,t,e,n,r),o===null){let u=vk(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Mh(null,t,e,u[1],r),u=ys(u,e.attrs,r),_k(t,e,r,u))}else o=Ik(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function vk(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Pi(r)!==0)return t[xr(r)]}function _k(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[xr(i)]=r}function Ik(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ys(r,s,n)}return ys(r,e.attrs,n)}function Mh(t,e,n,r,i){let o=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(o=e[c],r=ys(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function ys(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),Lf(t,s,n?!0:e[++o]))}return t===void 0?null:t}function Ek(t,e,n){if(n==null||n==="")return ot;let r=[],i=Ds(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function wk(t,e,n){let r=String(e);r!==""&&!r.includes(" ")&&Lf(t,r,n)}function Dk(t,e,n,r,i,o,s,c){i===gt&&(i=ot);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;h!==null||p!==null;){let y=u<i.length?i[u+1]:void 0,m=l<o.length?o[l+1]:void 0,C=null,N;h===p?(u+=2,l+=2,y!==m&&(C=p,N=m)):p===null||h!==null&&h<p?(u+=2,C=h):(l+=2,C=p,N=m),C!==null&&wD(t,e,n,r,C,N,s,c),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}function wD(t,e,n,r,i,o,s,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],h=ok(l)?qI(u,e,n,i,Pi(l),s):void 0;if(!eu(h)){eu(o)||rk(l)&&(o=qI(u,null,n,i,c,s));let p=AE(Wn(),n);MP(r,s,p,i,o)}}function qI(t,e,n,r,i,o){let s=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,y=n[i+1];y===gt&&(y=p?ot:void 0);let m=p?Eh(y,r):h===r?y:void 0;if(l&&!eu(m)&&(m=Eh(u,r)),eu(m)&&(c=m,s))return c;let C=t[i+1];i=s?xr(C):Pi(C)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=Eh(u,r))}return c}function eu(t){return t!==void 0}function Tk(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=st(Ds(t)))),t}function DD(t,e){return(t.flags&(e?8:16))!==0}function TD(t,e,n,r){let i=ie(),o=ke(),s=et+t,c=i[we],u=o.firstCreatePass?oD(s,o,i,e,dp,qf(),n,r):o.data[s],l=Ck(o,i,u,c,e,t);i[s]=l;let h=su(u);return Or(u,!0),kw(c,l,u),!gp(u)&&hu()&&wu(o,i,l,u),(oR()===0||h)&&ji(l,i),sR(),h&&(Eu(o,i,u),rp(o,u,i)),r!==null&&up(i,u),TD}function bD(){let t=tt();zf()?Gf():(t=t.parent,Or(t,!1));let e=t;cR(e)&&uR(),aR();let n=ke();return n.firstCreatePass&&sD(n,e),e.classesWithoutHost!=null&&wR(e)&&Af(n,e,ie(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&DR(e)&&Af(n,e,ie(),e.stylesWithoutHost,!1),bD}function bk(t,e,n,r){return TD(t,e,n,r),bD(),bk}var Ck=(t,e,n,r,i,o)=>(fu(!0),Pw(r,i,_R()));function Ak(t,e,n,r,i){let o=e.consts,s=Si(o,r),c=bs(e,t,8,"ng-container",s);s!==null&&If(c,s,!0);let u=Si(o,i);return qf()&&_p(e,n,c,u,dp),c.mergedAttrs=Ni(c.mergedAttrs,c.attrs),e.queries!==null&&e.queries.elementStart(e,c),c}function Sk(t,e,n){let r=ie(),i=ke(),o=t+et,s=i.firstCreatePass?Ak(o,i,r,e,n):i.data[o];Or(s,!0);let c=Rk(i,r,s,t);return r[o]=c,hu()&&wu(i,r,c,s),ji(c,r),su(s)&&(Eu(i,r,s),rp(i,s,r)),n!=null&&up(r,s),Sk}function Nk(){let t=tt(),e=ke();return zf()?Gf():(t=t.parent,Or(t,!1)),e.firstCreatePass&&(Yf(e,t),$f(t)&&e.queries.elementEnd(t)),Nk}var Rk=(t,e,n,r)=>(fu(!0),JM(e[we],""));function bz(){return ie()}var Ir=void 0;function Mk(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var Pk=["en",[["a","p"],["AM","PM"],Ir],[["AM","PM"],Ir,Ir],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ir,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ir,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ir,"{1} 'at' {0}",Ir],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Mk],Ph={};function wp(t){let e=xk(t),n=zI(e);if(n)return n;let r=e.split("-")[0];if(n=zI(r),n)return n;if(r==="en")return Pk;throw new G(701,!1)}function zI(t){return t in Ph||(Ph[t]=Hn.ng&&Hn.ng.common&&Hn.ng.common.locales&&Hn.ng.common.locales[t]),Ph[t]}var Bi=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Bi||{});function xk(t){return t.toLowerCase().replace(/_/g,"-")}var tu="en-US";var kk=tu;function Ok(t){typeof t=="string"&&(kk=t.toLowerCase().replace(/_/g,"-"))}function GI(t,e,n){return function r(i){if(i===Function)return n;let o=Oi(t)?Ht(t.index,e):e;vp(o,5);let s=e[at],c=WI(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)c=WI(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function WI(t,e,n,r){let i=ne(null);try{return fe(6,e,n),n(r)!==!1}catch(o){return Fk(t,o),!1}finally{fe(7,e,n),ne(i)}}function Fk(t,e){let n=t[Cr],r=n?n.get(Pr,null):null;r&&r.handleError(e)}function KI(t,e,n,r,i,o){let s=e[n],c=e[se],l=c.data[n].outputs[r],h=s[l],p=c.firstCreatePass?kE(c):null,y=xE(e),m=h.subscribe(o),C=y.length;y.push(o,m),p&&p.push(i,t.index,C,-(C+1))}var Vk=new Map;function Kn(t,e,n,r){let i=ie(),o=ke(),s=tt();return CD(o,i,i[we],s,t,e,r),Kn}function Lk(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[Fc],u=i[o+2];return c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function CD(t,e,n,r,i,o,s){let c=su(r),l=t.firstCreatePass?kE(t):null,h=xE(e),p=!0;if(r.type&3||s){let y=qt(r,e),m=s?s(y):y,C=h.length,N=s?k=>s($t(k[r.index])):r.index,M=null;if(!s&&c&&(M=Lk(t,e,i,r.index)),M!==null){let k=M.__ngLastListenerFn__||M;k.__ngNextListenerFn__=o,M.__ngLastListenerFn__=o,p=!1}else{o=GI(r,e,o);let k=e[Cr].get(XR);Vk.get(k)?.(m,i,o);let $=n.listen(m,i,o);h.push(o,$),l&&l.push(i,N,C,C+1)}}else o=GI(r,e,o);if(p){let y=r.outputs?.[i],m=r.hostDirectiveOutputs?.[i];if(m&&m.length)for(let C=0;C<m.length;C+=2){let N=m[C],M=m[C+1];KI(r,e,N,M,i,o)}if(y&&y.length)for(let C of y)KI(r,e,C,i,i,o)}}function Cz(t=1){return vR(t)}function jk(t,e){let n=null,r=HM(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?Mw(t,o,!0):GM(r,o))return i}return n}function Az(t){let e=ie()[Dt][ct];if(!e.projection){let n=t?t.length:1,r=e.projection=ON(n,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=t?jk(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function Sz(t,e=0,n,r,i,o){let s=ie(),c=ke(),u=r?t+1:null;u!==null&&fD(s,c,u,r,i,o,null,n);let l=bs(c,et+t,16,null,n||null);l.projection===null&&(l.projection=e),Gf();let p=!s[hs]||OE();s[Dt][ct].projection[l.projection]===null&&u!==null?Bk(s,c,u):p&&!gp(l)&&NP(c,s,l)}function Bk(t,e,n){let r=et+n,i=e.data[r],o=t[r],s=yf(o,i.tView.ssrId),c=jw(t,i,void 0,{dehydratedView:s});tD(o,c,0,ff(i,s))}function Uk(t,e,n,r,i){let o=ie(),s=yD(o,e,n,r);if(s!==gt){let c=ke(),u=du();lp(c,u,o,t,s,o[we],i,!1)}return Uk}function $k(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function Nz(t,e=""){let n=ie(),r=ke(),i=t+et,o=r.firstCreatePass?bs(r,i,1,e,null):r.data[i],s=Hk(r,n,o,e,t);n[i]=s,hu()&&wu(r,n,s,o),Or(o,!1)}var Hk=(t,e,n,r,i)=>(fu(!0),YM(e[we],r));function qk(t){return AD("",t,""),qk}function AD(t,e,n){let r=ie(),i=yD(r,t,e,n);return i!==gt&&SD(r,Wn(),i),AD}function zk(t,e,n,r,i){let o=ie(),s=nk(o,t,e,n,r,i);return s!==gt&&SD(o,Wn(),s),zk}function SD(t,e,n){let r=AE(e,t);ZM(t[we],r,n)}function Gk(t,e,n){uw(e)&&(e=e());let r=ie(),i=lu();if(pn(r,i,e)){let o=ke(),s=du();lp(o,s,r,t,e,r[we],n,!1)}return Gk}function Rz(t,e){let n=uw(t);return n&&t.set(e),n}function Wk(t,e){let n=ie(),r=ke(),i=tt();return CD(r,n,n[we],i,t,e),Wk}function Kk(t,e,n){let r=ke();if(r.firstCreatePass){let i=Ut(t);Sf(n,r.data,r.blueprint,i,!0),Sf(e,r.data,r.blueprint,i,!1)}}function Sf(t,e,n,r,i){if(t=Je(t),Array.isArray(t))for(let o=0;o<t.length;o++)Sf(t[o],e,n,r,i);else{let o=ke(),s=ie(),c=tt(),u=bi(t)?t:Je(t.provide),l=_E(t),h=c.providerIndexes&1048575,p=c.directiveStart,y=c.providerIndexes>>20;if(bi(t)||!t.multi){let m=new Rr(l,i,Q),C=kh(u,e,i?h:h+y,p);C===-1?(Wh(qc(c,s),o,u),xh(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(m),s.push(m)):(n[C]=m,s[C]=m)}else{let m=kh(u,e,h+y,p),C=kh(u,e,h,h+y),N=m>=0&&n[m],M=C>=0&&n[C];if(i&&!M||!i&&!N){Wh(qc(c,s),o,u);let k=Zk(i?Yk:Qk,n.length,i,r,l);!i&&M&&(n[C].providerFactory=k),xh(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(k),s.push(k)}else{let k=ND(n[i?C:m],l,!i&&r);xh(o,t,m>-1?m:C,k)}!i&&r&&M&&n[C].componentProviders++}}}function xh(t,e,n,r){let i=bi(e),o=qN(e);if(i||o){let u=(o?Je(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function ND(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function kh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Qk(t,e,n,r,i){return Nf(this.multi,[])}function Yk(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let c=this.providerFactory.componentProviders,u=zc(r,r[se],this.providerFactory.index,i);s=u.slice(0,c),Nf(o,s);for(let l=c;l<u.length;l++)s.push(u[l])}else s=[],Nf(o,s);return s}function Nf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Zk(t,e,n,r,i){let o=new Rr(t,n,Q);return o.multi=[],o.index=e,o.componentProviders=0,ND(o,i,r&&!n),o}function _n(t,e=[]){return n=>{n.providersResolver=(r,i)=>Kk(r,i?i(t):t,e)}}function Mz(t,e,n){let r=uu()+t,i=ie();return i[r]===gt?Ip(i,r,n?e.call(n):e()):qx(i,r)}function Pz(t,e,n,r){return MD(ie(),uu(),t,e,n,r)}function RD(t,e){let n=t[e];return n===gt?void 0:n}function MD(t,e,n,r,i,o){let s=e+n;return pn(t,s,i)?Ip(t,s+1,o?r.call(o,i):r(i)):RD(t,s+1)}function Jk(t,e,n,r,i,o,s){let c=e+n;return hD(t,c,i,o)?Ip(t,c+2,s?r.call(s,i,o):r(i,o)):RD(t,c+2)}function xz(t,e){let n=ke(),r,i=t+et;n.firstCreatePass?(r=Xk(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Dr(r.type,!0)),s,c=it(Q);try{let u=Hc(!1),l=o();return Hc(u),$k(n,ie(),i,l),l}finally{it(c)}}function Xk(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function kz(t,e,n){let r=t+et,i=ie(),o=NE(i,r);return PD(i,r)?MD(i,uu(),e,o.transform,n,o):o.transform(n)}function Oz(t,e,n,r){let i=t+et,o=ie(),s=NE(o,i);return PD(o,i)?Jk(o,uu(),e,s.transform,n,r,s):s.transform(n,r)}function PD(t,e){return t[se].data[e].pure}var kr=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},xD=new kr("19.2.11"),Rf=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Fz=(()=>{class t{compileModuleSync(n){return new Df(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=pE(n),o=Nw(i.declarations).reduce((s,c)=>{let u=br(c);return u&&s.push(new Ri(u)),s},[]);return new Rf(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=le({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var e1=(()=>{class t{zone=L(Ee);changeDetectionScheduler=L(Mr);applicationRef=L(ms);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=le({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),t1=new H("",{factory:()=>!1});function kD({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ee(ve(me({},OD()),{scheduleInRootZone:n})),[{provide:Ee,useFactory:t},{provide:kc,multi:!0,useFactory:()=>{let r=L(e1,{optional:!0});return()=>r.initialize()}},{provide:kc,multi:!0,useFactory:()=>{let r=L(n1);return()=>{r.initialize()}}},e===!0?{provide:ow,useValue:!0}:[],{provide:sw,useValue:n??iw}]}function Vz(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=kD({ngZoneFactory:()=>{let i=OD(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&vu("NgZone_CoalesceEvent"),new Ee(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Gn([{provide:t1,useValue:!0},{provide:Jf,useValue:!1},r])}function OD(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var n1=(()=>{class t{subscription=new Se;initialized=!1;zone=L(Ee);pendingTasks=L(ws);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=le({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var r1=(()=>{class t{appRef=L(ms);taskService=L(ws);ngZone=L(Ee);zonelessEnabled=L(Jf);tracing=L(yu,{optional:!0});disableScheduling=L(ow,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Se;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Wc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(L(sw,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Jh||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?TI:aw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Wc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,TI(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=le({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function i1(){return typeof $localize<"u"&&$localize.locale||tu}var Su=new H("",{providedIn:"root",factory:()=>L(Su,X.Optional|X.SkipSelf)||i1()});var Mf=new H(""),o1=new H("");function as(t){return!t.moduleRef}function s1(t){let e=as(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ee);return n.run(()=>{as(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Pr,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),as(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Mf);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Mf);s.add(o),t.moduleRef.onDestroy(()=>{Sc(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return c1(r,n,()=>{let o=e.get(mD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Su,tu);if(Ok(s||tu),!e.get(o1,!0))return as(t)?e.get(ms):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(as(t)){let u=e.get(ms);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return a1(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function a1(t,e){let n=t.injector.get(ms);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new G(-403,!1);e.push(t)}function c1(t,e,n){try{let r=n();return As(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Nc=null;function u1(t=[],e){return $e.create({name:e,providers:[{provide:vE,useValue:"platform"},{provide:Mf,useValue:new Set([()=>Nc=null])},...t]})}function l1(t=[]){if(Nc)return Nc;let e=u1(t);return Nc=e,Jx(),d1(e),e}function d1(t){let e=t.get(tM,null);xi(t,()=>{e?.forEach(n=>n())})}function Dp(){return!1}var Nu=(()=>{class t{static __NG_ELEMENT_ID__=h1}return t})();function h1(t){return f1(tt(),ie(),(t&16)===16)}function f1(t,e,n){if(Oi(t)&&!n){let r=Ht(t.index,e);return new gs(r,r)}else if(t.type&175){let r=e[Dt];return new gs(r,e)}return null}var Pf=class{constructor(){}supports(e){return dD(e)}create(e){return new xf(e)}},p1=(t,e)=>e,xf=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||p1}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<QI(r,i,o)?n:r,c=QI(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=c-i,h=u-i;if(l!=h){for(let y=0;y<l;y++){let m=y<o.length?o[y]:o[y]=0,C=m+y;h<=C&&C<l&&(o[y]=m+1)}let p=s.previousIndex;o[p]=h-l}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!dD(e))throw new G(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,c),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,c)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,$x(e,c=>{s=this._trackByFn(i,c),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,c,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,s,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new kf(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new nu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new nu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},kf=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},Of=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},nu=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Of,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function QI(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function YI(){return new Tp([new Pf])}var Tp=(()=>{class t{factories;static \u0275prov=le({token:t,providedIn:"root",factory:YI});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||YI()),deps:[[t,new kN,new pt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new G(901,!1)}}return t})();function Lz(t){fe(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=l1(r),o=[kD({}),{provide:Mr,useExisting:r1},...n||[]],s=new Xc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return s1({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{fe(9)}}function Ru(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Gt(t){return th(t)}function Ui(t,e){return Zd(t,e?.equal)}var ZI=class{[It];constructor(e){this[It]=e}destroy(){this[It].destroy()}};function jz(t){let e=br(t);if(!e)return null;let n=new Ri(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Ss=new H("");var LD=null;function Fr(){return LD}function g1(t){LD??=t}var bp=class{},Ns=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=le({token:t,factory:()=>L(jD),providedIn:"platform"})}return t})(),m1=new H(""),jD=(()=>{class t extends Ns{_location;_history;_doc=L(Ss);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fr().getBaseHref(this._doc)}onPopState(n){let r=Fr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Fr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=le({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Pu(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function FD(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Mt(t){return t&&t[0]!=="?"?`?${t}`:t}var $i=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=le({token:t,factory:()=>L(BD),providedIn:"root"})}return t})(),xu=new H(""),BD=(()=>{class t extends $i{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??L(Ss).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Pu(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Mt(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Mt(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Mt(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Ue(Ns),Ue(xu,8))};static \u0275prov=le({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),UD=(()=>{class t{_subject=new ht;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=_1(FD(VD(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Mt(r))}normalize(n){return t.stripTrailingSlash(v1(this._basePath,VD(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Mt(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Mt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Mt;static joinWithSlash=Pu;static stripTrailingSlash=FD;static \u0275fac=function(r){return new(r||t)(Ue($i))};static \u0275prov=le({token:t,factory:()=>y1(),providedIn:"root"})}return t})();function y1(){return new UD(Ue($i))}function v1(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function VD(t){return t.replace(/\/index.html$/,"")}function _1(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var I1=(()=>{class t extends $i{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Pu(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Mt(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Mt(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Ue(Ns),Ue(xu,8))};static \u0275prov=le({token:t,factory:t.\u0275fac})}return t})();var Np=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Np||{});var Wt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Hi(t,e){let n=wp(t),r=n[Bi.NumberSymbols][e];if(typeof r>"u"){if(e===Wt.CurrencyDecimal)return n[Bi.NumberSymbols][Wt.Decimal];if(e===Wt.CurrencyGroup)return n[Bi.NumberSymbols][Wt.Group]}return r}function GD(t,e){return wp(t)[Bi.NumberFormats][e]}var E1=/^(\d+)?\.((\d+)(-(\d+))?)?$/,$D=22,ku=".",Rs="0",w1=";",D1=",",Cp="#";function T1(t,e,n,r,i,o,s=!1){let c="",u=!1;if(!isFinite(t))c=Hi(n,Wt.Infinity);else{let l=A1(t);s&&(l=C1(l));let h=e.minInt,p=e.minFrac,y=e.maxFrac;if(o){let V=o.match(E1);if(V===null)throw new Error(`${o} is not a valid digit info`);let $=V[1],ue=V[3],Fe=V[5];$!=null&&(h=Ap($)),ue!=null&&(p=Ap(ue)),Fe!=null?y=Ap(Fe):ue!=null&&p>y&&(y=p)}S1(l,p,y);let m=l.digits,C=l.integerLen,N=l.exponent,M=[];for(u=m.every(V=>!V);C<h;C++)m.unshift(0);for(;C<0;C++)m.unshift(0);C>0?M=m.splice(C,m.length):(M=m,m=[0]);let k=[];for(m.length>=e.lgSize&&k.unshift(m.splice(-e.lgSize,m.length).join(""));m.length>e.gSize;)k.unshift(m.splice(-e.gSize,m.length).join(""));m.length&&k.unshift(m.join("")),c=k.join(Hi(n,r)),M.length&&(c+=Hi(n,i)+M.join("")),N&&(c+=Hi(n,Wt.Exponential)+"+"+N)}return t<0&&!u?c=e.negPre+c+e.negSuf:c=e.posPre+c+e.posSuf,c}function WD(t,e,n){let r=GD(e,Np.Decimal),i=b1(r,Hi(e,Wt.MinusSign));return T1(t,i,e,Wt.Group,Wt.Decimal,n)}function b1(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(w1),i=r[0],o=r[1],s=i.indexOf(ku)!==-1?i.split(ku):[i.substring(0,i.lastIndexOf(Rs)+1),i.substring(i.lastIndexOf(Rs)+1)],c=s[0],u=s[1]||"";n.posPre=c.substring(0,c.indexOf(Cp));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===Rs?n.minFrac=n.maxFrac=h+1:p===Cp?n.maxFrac=h+1:n.posSuf+=p}let l=c.split(D1);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf(Cp);n.negPre=o.substring(0,p).replace(/'/g,""),n.negSuf=o.slice(p+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function C1(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function A1(t){let e=Math.abs(t)+"",n=0,r,i,o,s,c;for((i=e.indexOf(ku))>-1&&(e=e.replace(ku,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Rs;o++);if(o===(c=e.length))r=[0],i=1;else{for(c--;e.charAt(c)===Rs;)c--;for(i-=o,r=[],s=0;o<=c;o++,s++)r[s]=Number(e.charAt(o))}return i>$D&&(r=r.splice(0,$D-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function S1(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,c=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(c>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+t.integerLen,h=r.reduceRight(function(p,y,m,C){return y=y+p,C[m]=y<10?y:y-10,u&&(C[m]===0&&m>=l?C.pop():u=!1),y>=10?1:0},0);h&&(r.unshift(h),t.integerLen++)}function Ap(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var Sp=/\s+/,HD=[],N1=(()=>{class t{_ngEl;_renderer;initialClasses=HD;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Sp):HD}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Sp):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Sp).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(Q(zt),Q(vn))};static \u0275dir=Ae({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var Ou=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},KD=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Ou(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),qD(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);qD(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Q(Cu),Q(Tu),Q(Tp))};static \u0275dir=Ae({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function qD(t,e){t.context.$implicit=e.item}var R1=(()=>{class t{_viewContainer;_context=new Fu;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){zD(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){zD(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Q(Cu),Q(Tu))};static \u0275dir=Ae({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Fu=class{$implicit=null;ngIf=null};function zD(t,e){if(t&&!t.createEmbeddedView)throw new G(2020,!1)}function M1(t,e){return new G(2100,!1)}var P1=(()=>{class t{_locale;constructor(n){this._locale=n}transform(n,r,i){if(!x1(n))return null;i||=this._locale;try{let o=k1(n);return WD(o,i,r)}catch(o){throw M1(t,o.message)}}static \u0275fac=function(r){return new(r||t)(Q(Su,16))};static \u0275pipe=cD({name:"number",type:t,pure:!0})}return t})();function x1(t){return!(t==null||t===""||t!==t)}function k1(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var O1=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Cs({type:t});static \u0275inj=_s({})}return t})();function F1(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var QD="browser",YD="server";function V1(t){return t===QD}function L1(t){return t===YD}var Rp=class{};var bG=(()=>{class t{static \u0275prov=le({token:t,providedIn:"root",factory:()=>new Mp(L(Ss),window)})}return t})(),Mp=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=j1(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function j1(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var sT=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(Q(vn),Q(zt))};static \u0275dir=Ae({type:t})}return t})(),Fs=(()=>{class t extends sT{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Vi(t)))(i||t)}})();static \u0275dir=Ae({type:t,features:[mt]})}return t})(),Ki=new H("");var B1={provide:Ki,useExisting:Rt(()=>aT),multi:!0};function U1(){let t=Fr()?Fr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var $1=new H(""),aT=(()=>{class t extends sT{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!U1())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(Q(vn),Q(zt),Q($1,8))};static \u0275dir=Ae({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Kn("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[_n([B1]),mt]})}return t})();function H1(t){return t==null||q1(t)===0}function q1(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var Op=new H(""),cT=new H("");function z1(t){return H1(t.value)?{required:!0}:null}function ZD(t){return null}function uT(t){return t!=null}function lT(t){return As(t)?Lt(t):t}function dT(t){let e={};return t.forEach(n=>{e=n!=null?me(me({},e),n):e}),Object.keys(e).length===0?null:e}function hT(t,e){return e.map(n=>n(t))}function G1(t){return!t.validate}function fT(t){return t.map(e=>G1(e)?e:n=>e.validate(n))}function W1(t){if(!t)return null;let e=t.filter(uT);return e.length==0?null:function(n){return dT(hT(n,e))}}function Fp(t){return t!=null?W1(fT(t)):null}function K1(t){if(!t)return null;let e=t.filter(uT);return e.length==0?null:function(n){let r=hT(n,e).map(lT);return yh(r).pipe(dn(dT))}}function Vp(t){return t!=null?K1(fT(t)):null}function JD(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Q1(t){return t._rawValidators}function Y1(t){return t._rawAsyncValidators}function Pp(t){return t?Array.isArray(t)?t:[t]:[]}function Lu(t,e){return Array.isArray(t)?t.includes(e):t===e}function XD(t,e){let n=Pp(e);return Pp(t).forEach(i=>{Lu(n,i)||n.push(i)}),n}function eT(t,e){return Pp(e).filter(n=>!Lu(t,n))}var ju=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Fp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Vp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Gi=class extends ju{name;get formDirective(){return null}get path(){return null}},Wi=class extends ju{_parent=null;name=null;valueAccessor=null},Bu=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Z1={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},GG=ve(me({},Z1),{"[class.ng-submitted]":"isSubmitted"}),WG=(()=>{class t extends Bu{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(Q(Wi,2))};static \u0275dir=Ae({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Au("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[mt]})}return t})(),KG=(()=>{class t extends Bu{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(Q(Gi,10))};static \u0275dir=Ae({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Au("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[mt]})}return t})();var Ms="VALID",Vu="INVALID",qi="PENDING",Ps="DISABLED",Qn=class{},Uu=class extends Qn{value;source;constructor(e,n){super(),this.value=e,this.source=n}},ks=class extends Qn{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Os=class extends Qn{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},zi=class extends Qn{status;source;constructor(e,n){super(),this.status=e,this.source=n}},xp=class extends Qn{source;constructor(e){super(),this.source=e}},kp=class extends Qn{source;constructor(e){super(),this.source=e}};function pT(t){return(qu(t)?t.validators:t)||null}function J1(t){return Array.isArray(t)?Fp(t):t||null}function gT(t,e){return(qu(e)?e.asyncValidators:t)||null}function X1(t){return Array.isArray(t)?Vp(t):t||null}function qu(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function eO(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new G(1e3,"");if(!r[n])throw new G(1001,"")}function tO(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new G(1002,"")})}var $u=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Gt(this.statusReactive)}set status(e){Gt(()=>this.statusReactive.set(e))}_status=Ui(()=>this.statusReactive());statusReactive=Li(void 0);get valid(){return this.status===Ms}get invalid(){return this.status===Vu}get pending(){return this.status==qi}get disabled(){return this.status===Ps}get enabled(){return this.status!==Ps}errors;get pristine(){return Gt(this.pristineReactive)}set pristine(e){Gt(()=>this.pristineReactive.set(e))}_pristine=Ui(()=>this.pristineReactive());pristineReactive=Li(!0);get dirty(){return!this.pristine}get touched(){return Gt(this.touchedReactive)}set touched(e){Gt(()=>this.touchedReactive.set(e))}_touched=Ui(()=>this.touchedReactive());touchedReactive=Li(!1);get untouched(){return!this.touched}_events=new ht;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(XD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(XD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(eT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(eT(e,this._rawAsyncValidators))}hasValidator(e){return Lu(this._rawValidators,e)}hasAsyncValidator(e){return Lu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ve(me({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Os(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Os(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ve(me({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new ks(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new ks(!0,r))}markAsPending(e={}){this.status=qi;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new zi(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ve(me({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ps,this.errors=null,this._forEachChild(i=>{i.disable(ve(me({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Uu(this.value,r)),this._events.next(new zi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ve(me({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ms,this._forEachChild(r=>{r.enable(ve(me({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ve(me({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ms||this.status===qi)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Uu(this.value,n)),this._events.next(new zi(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ve(me({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ps:Ms}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=qi,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=lT(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new zi(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new ft,this.statusChanges=new ft}_calculateStatus(){return this._allControlsDisabled()?Ps:this.errors?Vu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qi)?qi:this._anyControlsHaveStatus(Vu)?Vu:Ms}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new ks(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Os(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){qu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=J1(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=X1(this._rawAsyncValidators)}},Hu=class extends $u{constructor(e,n,r){super(pT(n),gT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){tO(this,!0,e),Object.keys(e).forEach(r=>{eO(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var zu=new H("",{providedIn:"root",factory:()=>Gu}),Gu="always";function nO(t,e){return[...e.path,t]}function mT(t,e,n=Gu){yT(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),iO(t,e),sO(t,e),oO(t,e),rO(t,e)}function tT(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function rO(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function yT(t,e){let n=Q1(t);e.validator!==null?t.setValidators(JD(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Y1(t);e.asyncValidator!==null?t.setAsyncValidators(JD(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();tT(e._rawValidators,i),tT(e._rawAsyncValidators,i)}function iO(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&vT(t,e)})}function oO(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&vT(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function vT(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function sO(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function aO(t,e){t==null,yT(t,e)}function cO(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function uO(t){return Object.getPrototypeOf(t.constructor)===Fs}function lO(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function dO(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===aT?n=o:uO(o)?r=o:i=o}),i||r||n||null}var hO={provide:Gi,useExisting:Rt(()=>fO)},xs=Promise.resolve(),fO=(()=>{class t extends Gi{callSetDisabledState;get submitted(){return Gt(this.submittedReactive)}_submitted=Ui(()=>this.submittedReactive());submittedReactive=Li(!1);_directives=new Set;form;ngSubmit=new ft;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new Hu({},Fp(n),Vp(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){xs.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),mT(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){xs.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){xs.then(()=>{let r=this._findContainer(n.path),i=new Hu({});aO(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){xs.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){xs.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),lO(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new xp(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1),this.form._events.next(new kp(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(Q(Op,10),Q(cT,10),Q(zu,8))};static \u0275dir=Ae({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Kn("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[_n([hO]),mt]})}return t})();function nT(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function rT(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var pO=class extends $u{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(pT(n),gT(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),qu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(rT(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){nT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){nT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){rT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var gO={provide:Wi,useExisting:Rt(()=>mO)},iT=Promise.resolve(),mO=(()=>{class t extends Wi{_changeDetectorRef;callSetDisabledState;control=new pO;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ft;constructor(n,r,i,o,s,c){super(),this._changeDetectorRef=s,this.callSetDisabledState=c,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=dO(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),cO(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){mT(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){iT.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Ru(r);iT.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?nO(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(Q(Gi,9),Q(Op,10),Q(cT,10),Q(Ki,10),Q(Nu,8),Q(zu,8))};static \u0275dir=Ae({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[_n([gO]),mt,au]})}return t})();var YG=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ae({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),yO={provide:Ki,useExisting:Rt(()=>vO),multi:!0},vO=(()=>{class t extends Fs{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Vi(t)))(i||t)}})();static \u0275dir=Ae({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Kn("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[_n([yO]),mt]})}return t})(),_O={provide:Ki,useExisting:Rt(()=>EO),multi:!0};var IO=(()=>{class t{_accessors=[];add(n,r){this._accessors.push([n,r])}remove(n){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===n){this._accessors.splice(r,1);return}}select(n){this._accessors.forEach(r=>{this._isSameGroup(r,n)&&r[1]!==n&&r[1].fireUncheck(n.value)})}_isSameGroup(n,r){return n[0].control?n[0]._parent===r._control._parent&&n[1].name===r.name:!1}static \u0275fac=function(r){return new(r||t)};static \u0275prov=le({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),EO=(()=>{class t extends Fs{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=L(zu,{optional:!0})??Gu;constructor(n,r,i,o){super(n,r),this._registry=i,this._injector=o}ngOnInit(){this._control=this._injector.get(Wi),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}setDisabledState(n){(this.setDisabledStateFired||n||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",n),this.setDisabledStateFired=!0}fireUncheck(n){this.writeValue(n)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||t)(Q(vn),Q(zt),Q(IO),Q($e))};static \u0275dir=Ae({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&Kn("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[_n([_O]),mt]})}return t})();var wO={provide:Ki,useExisting:Rt(()=>IT),multi:!0};function _T(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function DO(t){return t.split(":")[0]}var IT=(()=>{class t extends Fs{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r=this._getOptionId(n),i=_T(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=DO(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Vi(t)))(i||t)}})();static \u0275dir=Ae({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Kn("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[_n([wO]),mt]})}return t})(),ZG=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(_T(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(Q(zt),Q(vn),Q(IT,9))};static \u0275dir=Ae({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),TO={provide:Ki,useExisting:Rt(()=>ET),multi:!0};function oT(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function bO(t){return t.split(":")[0]}var ET=(()=>{class t extends Fs{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let c=0;c<s.length;c++){let u=s[c],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let c=0;c<s.length;c++){let u=s[c];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=bO(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Vi(t)))(i||t)}})();static \u0275dir=Ae({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Kn("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[_n([TO]),mt]})}return t})(),JG=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(oT(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(oT(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(Q(zt),Q(vn),Q(ET,9))};static \u0275dir=Ae({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var CO=(()=>{class t{_validator=ZD;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ZD,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ae({type:t,features:[au]})}return t})();var AO={provide:Op,useExisting:Rt(()=>SO),multi:!0};var SO=(()=>{class t extends CO{required;inputName="required";normalizeInput=Ru;createValidator=n=>z1;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Vi(t)))(i||t)}})();static \u0275dir=Ae({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ep("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[_n([AO]),mt]})}return t})();var NO=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Cs({type:t});static \u0275inj=_s({})}return t})();var XG=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:zu,useValue:n.callSetDisabledState??Gu}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Cs({type:t});static \u0275inj=_s({imports:[NO]})}return t})();var wT=()=>{};var bT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},RO=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Wu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|c>>4,y=(c&15)<<2|l>>6,m=l&63;u||(m=64,s||(y=64)),r.push(n[h],n[p],n[y],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new jp;let y=o<<2|c>>4;if(r.push(y),l!==64){let m=c<<4&240|l>>2;if(r.push(m),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},jp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},MO=function(t){let e=bT(t);return Wu.encodeByteArray(e,!0)},Ls=function(t){return MO(t).replace(/\./g,"")},Ku=function(t){try{return Wu.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Up(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var PO=()=>Up().__FIREBASE_DEFAULTS__,xO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ku(t[1]);return e&&JSON.parse(e)},Qu=()=>{try{return wT()||PO()||xO()||kO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$p=t=>{var e,n;return(n=(e=Qu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},CT=t=>{let e=$p(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Hp=()=>{var t;return(t=Qu())===null||t===void 0?void 0:t.config},qp=t=>{var e;return(e=Qu())===null||e===void 0?void 0:e[`_${t}`]};var Vr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Lr(t){return t.endsWith(".cloudworkstations.dev")}function Yu(t){return _(this,null,function*(){return(yield fetch(t,{credentials:"include"})).ok})}function AT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ls(JSON.stringify(n)),Ls(JSON.stringify(s)),""].join(".")}var Vs={};function OO(){let t={prod:[],emulator:[]};for(let e of Object.keys(Vs))Vs[e]?t.emulator.push(e):t.prod.push(e);return t}function FO(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var DT=!1;function Qi(t,e){if(typeof window>"u"||typeof document>"u"||!Lr(window.location.host)||Vs[t]===e||Vs[t]||DT)return;Vs[t]=e;function n(y){return`__firebase__banner__${y}`}let r="__firebase__banner",o=OO().prod.length>0;function s(){let y=document.getElementById(r);y&&y.remove()}function c(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function u(y,m){y.setAttribute("width","24"),y.setAttribute("id",m),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function l(){let y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{DT=!0,s()},y}function h(y,m){y.setAttribute("id",m),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){let y=FO(r),m=n("text"),C=document.getElementById(m)||document.createElement("span"),N=n("learnmore"),M=document.getElementById(N)||document.createElement("a"),k=n("preprendIcon"),V=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){let $=y.element;c($),h(M,N);let ue=l();u(V,k),$.append(V,C,M,ue),document.body.appendChild($)}o?(C.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ve(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ST(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function VO(){var t;let e=(t=Qu())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PT(){let t=Ve();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function xT(){return!VO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function js(){try{return typeof indexedDB=="object"}catch{return!1}}function kT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var LO="FirebaseError",yt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LO,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pt.prototype.create)}},Pt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?jO(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new yt(i,c,r)}};function jO(t,e){return t.replace(BO,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var BO=/\{\$([^}]+)}/g;function OT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kt(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(TT(o)&&TT(s)){if(!Kt(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function TT(t){return t!==null&&typeof t=="object"}function Bs(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yi(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Zi(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function FT(t,e){let n=new Bp(t,e);return n.subscribe.bind(n)}var Bp=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Lp),i.error===void 0&&(i.error=Lp),i.complete===void 0&&(i.complete=Lp);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function UO(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Lp(){}var i8=4*60*60*1e3;function Oe(t){return t&&t._delegate?t._delegate:t}var nt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var jr="[DEFAULT]";var zp=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Vr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HO(e))try{this.getOrInitializeService({instanceIdentifier:jr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=jr){return this.instances.has(e)}getOptions(e=jr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$O(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=jr){return this.component?this.component.multipleInstances?e:jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function $O(t){return t===jr?void 0:t}function HO(t){return t.instantiationMode==="EAGER"}var Zu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new zp(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var qO=[],te=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(te||{}),zO={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},GO=te.INFO,WO={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},KO=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=WO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Qt=class{constructor(e){this.name=e,this._logLevel=GO,this._logHandler=KO,this._userLogHandler=null,qO.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}};var QO=(t,e)=>e.some(n=>t instanceof n),VT,LT;function YO(){return VT||(VT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZO(){return LT||(LT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var jT=new WeakMap,Wp=new WeakMap,BT=new WeakMap,Gp=new WeakMap,Qp=new WeakMap;function JO(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Yt(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&jT.set(n,t)}).catch(()=>{}),Qp.set(e,t),e}function XO(t){if(Wp.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Wp.set(t,e)}var Kp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||BT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UT(t){Kp=t(Kp)}function eF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Ju(this),e,...n);return BT.set(r,e.sort?e.sort():[e]),Yt(r)}:ZO().includes(t)?function(...e){return t.apply(Ju(this),e),Yt(jT.get(this))}:function(...e){return Yt(t.apply(Ju(this),e))}}function tF(t){return typeof t=="function"?eF(t):(t instanceof IDBTransaction&&XO(t),QO(t,YO())?new Proxy(t,Kp):t)}function Yt(t){if(t instanceof IDBRequest)return JO(t);if(Gp.has(t))return Gp.get(t);let e=tF(t);return e!==t&&(Gp.set(t,e),Qp.set(e,t)),e}var Ju=t=>Qp.get(t);function HT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=Yt(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Yt(s.result),u.oldVersion,u.newVersion,Yt(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var nF=["get","getKey","getAll","getAllKeys","count"],rF=["put","add","delete","clear"],Yp=new Map;function $T(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yp.get(e))return Yp.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=rF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nF.includes(n)))return;let o=function(s,...c){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return Yp.set(e,o),o}UT(t=>ve(me({},t),{get:(e,n,r)=>$T(e,n)||t.get(e,n,r),has:(e,n)=>!!$T(e,n)||t.has(e,n)}));var Jp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iF(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function iF(t){let e=t.getComponent();return e?.type==="VERSION"}var Xp="@firebase/app",qT="0.12.3";var In=new Qt("@firebase/app"),oF="@firebase/app-compat",sF="@firebase/analytics-compat",aF="@firebase/analytics",cF="@firebase/app-check-compat",uF="@firebase/app-check",lF="@firebase/auth",dF="@firebase/auth-compat",hF="@firebase/database",fF="@firebase/data-connect",pF="@firebase/database-compat",gF="@firebase/functions",mF="@firebase/functions-compat",yF="@firebase/installations",vF="@firebase/installations-compat",_F="@firebase/messaging",IF="@firebase/messaging-compat",EF="@firebase/performance",wF="@firebase/performance-compat",DF="@firebase/remote-config",TF="@firebase/remote-config-compat",bF="@firebase/storage",CF="@firebase/storage-compat",AF="@firebase/firestore",SF="@firebase/vertexai",NF="@firebase/firestore-compat",RF="firebase",MF="11.7.3";var eg="[DEFAULT]",PF={[Xp]:"fire-core",[oF]:"fire-core-compat",[aF]:"fire-analytics",[sF]:"fire-analytics-compat",[uF]:"fire-app-check",[cF]:"fire-app-check-compat",[lF]:"fire-auth",[dF]:"fire-auth-compat",[hF]:"fire-rtdb",[fF]:"fire-data-connect",[pF]:"fire-rtdb-compat",[gF]:"fire-fn",[mF]:"fire-fn-compat",[yF]:"fire-iid",[vF]:"fire-iid-compat",[_F]:"fire-fcm",[IF]:"fire-fcm-compat",[EF]:"fire-perf",[wF]:"fire-perf-compat",[DF]:"fire-rc",[TF]:"fire-rc-compat",[bF]:"fire-gcs",[CF]:"fire-gcs-compat",[AF]:"fire-fst",[NF]:"fire-fst-compat",[SF]:"fire-vertex","fire-js":"fire-js",[RF]:"fire-js-all"};var Us=new Map,xF=new Map,tg=new Map;function zT(t,e){try{t.container.addComponent(e)}catch(n){In.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xt(t){let e=t.name;if(tg.has(e))return In.debug(`There were multiple attempts to register component ${e}.`),!1;tg.set(e,t);for(let n of Us.values())zT(n,t);for(let n of xF.values())zT(n,t);return!0}function Ji(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ut(t){return t==null?!1:t.settings!==void 0}var kF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yn=new Pt("app","Firebase",kF);var ng=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}};var Zn=MF;function og(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:eg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Yn.create("bad-app-name",{appName:String(i)});if(n||(n=Hp()),!n)throw Yn.create("no-options");let o=Us.get(i);if(o){if(Kt(n,o.options)&&Kt(r,o.config))return o;throw Yn.create("duplicate-app",{appName:i})}let s=new Zu(i);for(let u of tg.values())s.addComponent(u);let c=new ng(n,r,s);return Us.set(i,c),c}function Br(t=eg){let e=Us.get(t);if(!e&&t===eg&&Hp())return og();if(!e)throw Yn.create("no-app",{appName:t});return e}function Xu(){return Array.from(Us.values())}function be(t,e,n){var r;let i=(r=PF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),In.warn(c.join(" "));return}xt(new nt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var OF="firebase-heartbeat-database",FF=1,$s="firebase-heartbeat-store",Zp=null;function QT(){return Zp||(Zp=HT(OF,FF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($s)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yn.create("idb-open",{originalErrorMessage:t.message})})),Zp}function VF(t){return _(this,null,function*(){try{let n=(yield QT()).transaction($s),r=yield n.objectStore($s).get(YT(t));return yield n.done,r}catch(e){if(e instanceof yt)In.warn(e.message);else{let n=Yn.create("idb-get",{originalErrorMessage:e?.message});In.warn(n.message)}}})}function GT(t,e){return _(this,null,function*(){try{let r=(yield QT()).transaction($s,"readwrite");yield r.objectStore($s).put(e,YT(t)),yield r.done}catch(n){if(n instanceof yt)In.warn(n.message);else{let r=Yn.create("idb-set",{originalErrorMessage:n?.message});In.warn(r.message)}}})}function YT(t){return`${t.name}!${t.options.appId}`}var LF=1024,jF=30,rg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new ig(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=WT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>jF){let s=UF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){In.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=WT(),{heartbeatsToSend:r,unsentEntries:i}=BF(this._heartbeatsCache.heartbeats),o=Ls(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return In.warn(n),""}})}};function WT(){return new Date().toISOString().substring(0,10)}function BF(t,e=LF){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),KT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),KT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var ig=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return js()?kT().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield VF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return GT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return GT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function KT(t){return Ls(JSON.stringify({version:2,heartbeats:t})).length}function UF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function $F(t){xt(new nt("platform-logger",e=>new Jp(e),"PRIVATE")),xt(new nt("heartbeat",e=>new rg(e),"PRIVATE")),be(Xp,qT,t),be(Xp,qT,"esm2017"),be("fire-js","")}$F("");var HF="firebase",qF="11.7.3";be(HF,qF,"app");function sg(t){t===void 0&&(Uf(sg),t=L($e));let e=t.get(gu);return n=>new re(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var Jn=new kr("ANGULARFIRE2_VERSION");function Hs(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var eo=(t,e)=>{let n=e?[e]:Xu(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Xi=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(Xi||{}),ZT=Dp()&&typeof Zone<"u"?Xi.WARN:Xi.SILENT;var el=class{zone;delegate;constructor(e,n=ph){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Xn=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=L(Ee);this.outsideAngular=n.runOutsideAngular(()=>new el(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new el(typeof Zone>"u"?void 0:Zone.current,is))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=le({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),JT=!1;function zF(t,e){!JT&&(ZT>Xi.SILENT||Dp())&&(JT=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),ZT>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function GF(t){let e=L(Ee,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Ur(t){let e=L(Ee,{optional:!0});return e?e.run(()=>t()):t()}var WF=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),xi(n,()=>Ur(()=>t.apply(void 0,r)))),Ne=(t,e,n)=>(n||=e?Xi.WARN:Xi.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=L(Xn),s=L(gu),c=L(Bt)}catch{return zF(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Ur(()=>s.add())),i[l]=WF(i[l],r,c));let u=GF(()=>t.apply(this,i));return e?u instanceof re?u.pipe($n(o.outsideAngular),Un(o.insideAngular),sg(c)):u instanceof Promise?Ur(()=>new Promise((l,h)=>{s.run(()=>u).then(p=>xi(c,()=>Ur(()=>l(p))),p=>xi(c,()=>Ur(()=>h(p))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Ur(()=>u):u instanceof re?u.pipe($n(o.outsideAngular),Un(o.insideAngular)):Ur(()=>u)});var En=class{constructor(e){return e}},$r=class{constructor(){return Xu()}};function KF(t){return t&&t.length===1?t[0]:new En(Br())}var ag=new H("angularfire2._apps"),QF={provide:En,useFactory:KF,deps:[[new pt,ag]]},YF={provide:$r,deps:[[new pt,ag]]};function ZF(t){return(e,n)=>{let r=n.get(tp);be("angularfire",Jn.full,"core"),be("angularfire",Jn.full,"app"),be("angular",xD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new En(i)}}function n5(t,...e){return Gn([QF,YF,{provide:ag,useFactory:ZF(t),multi:!0,deps:[Ee,$e,Xn,...e]}])}var r5=Ne(og,!0);var JF=new Map,XF={activated:!1,tokenObservers:[]},eV={initialized:!1,enabled:!1};function kt(t){return JF.get(t)||Object.assign({},XF)}function nb(){return eV}var tV="https://content-firebaseappcheck.googleapis.com/v1";var nV="exchangeDebugToken",XT={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},h5=24*60*60*1e3;var lg=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new Vr,this.pending.promise.catch(n=>{}),yield rV(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Vr,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function rV(t){return new Promise(e=>{setTimeout(e,t)})}var iV={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},er=new Pt("appCheck","AppCheck",iV);function rb(t){if(!kt(t).activated)throw er.create("use-before-activation",{appName:t.name})}function ib(r,i){return _(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let c={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,c)}catch(m){throw er.create("fetch-network-error",{originalErrorMessage:m?.message})}if(u.status!==200)throw er.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(m){throw er.create("fetch-parse-error",{originalErrorMessage:m?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw er.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,y=Date.now();return{token:l.token,expireTimeMillis:y+p,issuedAtTimeMillis:y}})}function ob(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${tV}/projects/${n}/apps/${r}:${nV}?key=${i}`,body:{debug_token:e}}}var oV="firebase-app-check-database",sV=1,dg="firebase-app-check-store";var tl=null;function aV(){return tl||(tl=new Promise((t,e)=>{try{let n=indexedDB.open(oV,sV);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(er.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(dg,{keyPath:"compositeKey"})}}}catch(n){e(er.create("storage-open",{originalErrorMessage:n?.message}))}}),tl)}function cV(t,e){return uV(lV(t),e)}function uV(t,e){return _(this,null,function*(){let r=(yield aV()).transaction(dg,"readwrite"),o=r.objectStore(dg).put({compositeKey:t,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;c(er.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function lV(t){return`${t.options.appId}-${t.name}`}var qs=new Qt("@firebase/app-check");function cg(t,e){return js()?cV(t,e).catch(n=>{qs.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function sb(){return nb().enabled}function ab(){return _(this,null,function*(){let t=nb();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var dV={error:"UNKNOWN_ERROR"};function hV(t){return Wu.encodeString(JSON.stringify(t),!1)}function hg(t,e=!1,n=!1){return _(this,null,function*(){let r=t.app;rb(r);let i=kt(r),o=i.token,s;if(o&&!zs(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(zs(l)?o=l:yield cg(r,void 0))}if(!e&&o&&zs(o))return{token:o.token};let c=!1;if(sb())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=ib(ob(r,yield ab()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let l=yield i.exchangeTokenPromise;return yield cg(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?qs.warn(l.message):n&&qs.error(l),ug(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=yield kt(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?qs.warn(l.message):n&&qs.error(l),s=l}let u;return o?s?zs(o)?u={token:o.token,internalError:s}:u=ug(s):(u={token:o.token},i.token=o,yield cg(r,o)):u=ug(s),c&&mV(r,u),u})}function fV(t){return _(this,null,function*(){let e=t.app;rb(e);let{provider:n}=kt(e);if(sb()){let r=yield ab(),{token:i}=yield ib(ob(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function pV(t,e,n,r){let{app:i}=t,o=kt(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&zs(o.token)){let c=o.token;Promise.resolve().then(()=>{n({token:c.token}),eb(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>eb(t))}function cb(t,e){let n=kt(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function eb(t){let{app:e}=t,n=kt(e),r=n.tokenRefresher;r||(r=gV(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function gV(t){let{app:e}=t;return new lg(()=>_(null,null,function*(){let n=kt(e),r;if(n.token?r=yield hg(t,!0):r=yield hg(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=kt(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},XT.RETRIAL_MIN_WAIT,XT.RETRIAL_MAX_WAIT)}function mV(t,e){let n=kt(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function zs(t){return t.expireTimeMillis-Date.now()>0}function ug(t){return{token:hV(dV),error:t}}var fg=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=kt(this.app);for(let n of e)cb(this.app,n.next);return Promise.resolve()}};function yV(t,e){return new fg(t,e)}function vV(t){return{getToken:e=>hg(t,e),getLimitedUseToken:()=>fV(t),addTokenListener:e=>pV(t,"INTERNAL",e),removeTokenListener:e=>cb(t.app,e)}}var _V="@firebase/app-check",IV="0.9.3";var EV="app-check",tb="app-check-internal";function wV(){xt(new nt(EV,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return yV(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(tb).initialize()})),xt(new nt(tb,t=>{let e=t.getProvider("app-check").getImmediate();return vV(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),be(_V,IV)}wV();var DV="app-check";var to=class{constructor(){return eo(DV)}};var TV=["localhost","0.0.0.0","127.0.0.1"],b5=typeof window<"u"&&TV.includes(window.location.hostname);function Tb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var bb=Tb,Cb=new Pt("auth","Firebase",Tb());var al=new Qt("@firebase/auth");function bV(t,...e){al.logLevel<=te.WARN&&al.warn(`Auth (${Zn}): ${t}`,...e)}function rl(t,...e){al.logLevel<=te.ERROR&&al.error(`Auth (${Zn}): ${t}`,...e)}function Jt(t,...e){throw Lg(t,...e)}function Hr(t,...e){return Lg(t,...e)}function Ab(t,e,n){let r=Object.assign(Object.assign({},bb()),{[e]:n});return new Pt("auth","Firebase",r).create(e,{appName:t.name})}function Tn(t){return Ab(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Cb.create(t,...e)}function U(t,e,...n){if(!t)throw Lg(e,...n)}function wn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw rl(e),new Error(e)}function rr(t,e){t||wn(e)}function yg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function CV(){return ub()==="http:"||ub()==="https:"}function ub(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function AV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CV()||RT()||"connection"in navigator)?navigator.onLine:!0}function SV(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var qr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,rr(n>e,"Short delay should be less than long delay!"),this.isMobile=ST()||MT()}get(){return AV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function jg(t,e){rr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var cl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var NV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var RV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MV=new qr(3e4,6e4);function ir(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function bn(o,s,c,u){return _(this,arguments,function*(t,e,n,r,i={}){return Sb(t,i,()=>_(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Bs(Object.assign({key:t.config.apiKey},h)).slice(1),y=yield t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);let m=Object.assign({method:e,headers:y},l);return NT()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&Lr(t.emulatorConfig.host)&&(m.credentials="include"),cl.fetch()(yield Nb(t,t.config.apiHost,n,p),m)}))})}function Sb(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},NV),e);try{let i=new vg(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw nl(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw nl(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw nl(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw nl(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Ab(t,h,l);Jt(t,h)}}catch(i){if(i instanceof yt)throw i;Jt(t,"network-request-failed",{message:String(i)})}})}function Xs(o,s,c,u){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield bn(t,e,n,r,i);return"mfaPendingCredential"in l&&Jt(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function Nb(t,e,n,r){return _(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?jg(t.config,i):`${t.config.apiScheme}://${i}`;return RV.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function PV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var vg=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hr(this.auth,"network-request-failed")),MV.get())})}};function nl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Hr(t,e,r);return i.customData._tokenResponse=n,i}function lb(t){return t!==void 0&&t.enterprise!==void 0}var _g=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return PV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function xV(t,e){return _(this,null,function*(){return bn(t,"GET","/v2/recaptchaConfig",ir(t,e))})}function kV(t,e){return _(this,null,function*(){return bn(t,"POST","/v1/accounts:delete",e)})}function ul(t,e){return _(this,null,function*(){return bn(t,"POST","/v1/accounts:lookup",e)})}function Ws(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Bg(t,e=!1){return _(this,null,function*(){let n=Oe(t),r=yield n.getIdToken(e),i=Ug(r);U(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ws(pg(i.auth_time)),issuedAtTime:Ws(pg(i.iat)),expirationTime:Ws(pg(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function pg(t){return Number(t)*1e3}function Ug(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return rl("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ku(n);return i?JSON.parse(i):(rl("Failed to decode base64 JWT payload"),null)}catch(i){return rl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function db(t){let e=Ug(t);return U(e,"internal-error"),U(typeof e.exp<"u","internal-error"),U(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function no(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof yt&&OV(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function OV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Ig=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Qs=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ws(this.lastLoginAt),this.creationTime=Ws(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ll(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield no(t,ul(n,{idToken:r}));U(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Rb(o.providerUserInfo):[],c=FV(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!c?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Qs(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function $g(t){return _(this,null,function*(){let e=Oe(t);yield ll(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function FV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Rb(t){return t.map(e=>{var{providerId:n}=e,r=gh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function VV(t,e){return _(this,null,function*(){let n=yield Sb(t,{},()=>_(null,null,function*(){let r=Bs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield Nb(t,i,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",cl.fetch()(s,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function LV(t,e){return _(this,null,function*(){return bn(t,"POST","/v2/accounts:revokeToken",ir(t,e))})}var Ks=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){U(e.idToken,"internal-error"),U(typeof e.idToken<"u","internal-error"),U(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):db(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){U(e.length!==0,"internal-error");let n=db(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(U(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield VV(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(U(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(U(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(U(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return wn("not implemented")}};function tr(t,e){U(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var nr=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=gh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ig(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Qs(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield no(this,this.stsTokenManager.getToken(this.auth,e));return U(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Bg(this,e)}reload(){return $g(this)}_assign(e){this!==e&&(U(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield ll(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(ut(this.auth.app))return Promise.reject(Tn(this.auth));let e=yield this.getIdToken();return yield no(this,kV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,c,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(c=n.tenantId)!==null&&c!==void 0?c:void 0,M=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,k=(l=n.createdAt)!==null&&l!==void 0?l:void 0,V=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:$,emailVerified:ue,isAnonymous:Fe,providerData:he,stsTokenManager:D}=n;U($&&D,e,"internal-error");let v=Ks.fromJSON(this.name,D);U(typeof $=="string",e,"internal-error"),tr(p,e.name),tr(y,e.name),U(typeof ue=="boolean",e,"internal-error"),U(typeof Fe=="boolean",e,"internal-error"),tr(m,e.name),tr(C,e.name),tr(N,e.name),tr(M,e.name),tr(k,e.name),tr(V,e.name);let E=new t({uid:$,auth:e,email:y,emailVerified:ue,displayName:p,isAnonymous:Fe,photoURL:C,phoneNumber:m,tenantId:N,stsTokenManager:v,createdAt:k,lastLoginAt:V});return he&&Array.isArray(he)&&(E.providerData=he.map(w=>Object.assign({},w))),M&&(E._redirectEventId=M),E}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new Ks;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ll(o),o})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];U(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?Rb(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Ks;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Qs(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var hb=new Map;function Dn(t){rr(t instanceof Function,"Expected a class definition");let e=hb.get(t);return e?(rr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,hb.set(t,e),e)}var jV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Eg=jV;function il(t,e,n){return`firebase:${t}:${e}:${n}`}var dl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=il(this.userKey,i.apiKey,o),this.fullPersistenceKey=il("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield ul(this.auth,{idToken:e}).catch(()=>{});return n?nr._fromGetAccountInfoResponse(this.auth,n,e):null}return nr._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(Dn(Eg),e,r);let i=(yield Promise.all(n.map(l=>_(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Dn(Eg),s=il(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let y=yield ul(e,{idToken:h}).catch(()=>{});if(!y)break;p=yield nr._fromGetAccountInfoResponse(e,y,h)}else p=nr._fromJSON(e,h);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(n.map(l=>_(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function fb(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Mb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Fb(e))return"Blackberry";if(Vb(e))return"Webos";if(Pb(e))return"Safari";if((e.includes("chrome/")||xb(e))&&!e.includes("edge/"))return"Chrome";if(Ob(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Mb(t=Ve()){return/firefox\//i.test(t)}function Pb(t=Ve()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xb(t=Ve()){return/crios\//i.test(t)}function kb(t=Ve()){return/iemobile/i.test(t)}function Ob(t=Ve()){return/android/i.test(t)}function Fb(t=Ve()){return/blackberry/i.test(t)}function Vb(t=Ve()){return/webos/i.test(t)}function Hg(t=Ve()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function BV(t=Ve()){var e;return Hg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function UV(){return PT()&&document.documentMode===10}function Lb(t=Ve()){return Hg(t)||Ob(t)||Vb(t)||Fb(t)||/windows phone/i.test(t)||kb(t)}function jb(t,e=[]){let n;switch(t){case"Browser":n=fb(Ve());break;case"Worker":n=`${fb(Ve())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zn}/${r}`}var wg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function $V(n){return _(this,arguments,function*(t,e={}){return bn(t,"GET","/v2/passwordPolicy",ir(t,e))})}var HV=6,Dg=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:HV,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Tg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hl(this),this.idTokenSubscription=new hl(this),this.beforeStateQueue=new wg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Cb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Dn(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield dl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield ul(this,{idToken:e}),r=yield nr._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(ut(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return U(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield ll(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=SV()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(ut(this.app))return Promise.reject(Tn(this));let n=e?Oe(e):null;return n&&U(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&U(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return ut(this.app)?Promise.reject(Tn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ut(this.app)?Promise.reject(Tn(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Dn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield $V(this),n=new Dg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield LV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Dn(e)||this._popupRedirectResolver;U(n,this,"argument-error"),this.redirectPersistenceManager=yield dl.create(this,[Dn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(U(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;if(ut(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&bV(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Gr(t){return Oe(t)}var hl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=FT(n=>this.observer=n)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var _l={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qV(t){_l=t}function Bb(t){return _l.loadJS(t)}function zV(){return _l.recaptchaEnterpriseScript}function GV(){return _l.gapiScript}function Ub(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var bg=class{constructor(){this.enterprise=new Cg}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},Cg=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var WV="recaptcha-enterprise",$b="NO_RECAPTCHA",Ag=class{constructor(e){this.type=WV,this.auth=Gr(e)}verify(e="verify",n=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,c)=>_(null,null,function*(){xV(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let l=new _g(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{c(u)})}))})}function i(o,s,c){let u=window.grecaptcha;lb(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s($b)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bg().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(c=>{if(!n&&lb(window.grecaptcha))i(c,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=zV();u.length!==0&&(u+=c),Bb(u).then(()=>{i(c,o,s)}).catch(l=>{s(l)})}}).catch(c=>{s(c)})})})}};function Gs(t,e,n,r=!1,i=!1){return _(this,null,function*(){let o=new Ag(t),s;if(i)s=$b;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}let c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){let u=c.phoneEnrollmentInfo.phoneNumber,l=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){let u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:s}):Object.assign(c,{captchaResponse:s}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c})}function Sg(t,e,n,r,i){return _(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let c=yield Gs(t,e,n,n==="getOobCode");return r(t,c)}else return r(t,e).catch(c=>_(null,null,function*(){if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield Gs(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(c)}));else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let c=yield Gs(t,e,n);return r(t,c).catch(u=>_(null,null,function*(){var l;if(((l=t._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let h=yield Gs(t,e,n,!1,!0);return r(t,h)}return Promise.reject(u)}))}else{let c=yield Gs(t,e,n,!1,!0);return r(t,c)}else return Promise.reject(i+" provider is not supported.")})}function qg(t,e){let n=Ji(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Kt(o,e??{}))return i;Jt(i,"already-initialized")}return n.initialize({options:e})}function KV(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Dn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function zg(t,e,n){let r=Gr(t);U(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=Hb(e),{host:s,port:c}=QV(e),u=c===null?"":`:${c}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){U(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),U(Kt(l,r.config.emulator)&&Kt(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Lr(s)?(Qi("Auth",!0),Yu(`${o}//${s}${u}`)):i||YV()}function Hb(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function QV(t){let e=Hb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:pb(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:pb(s)}}}function pb(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function YV(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ys=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wn("not implemented")}_getIdTokenResponse(e){return wn("not implemented")}_linkToIdToken(e,n){return wn("not implemented")}_getReauthenticationResolver(e){return wn("not implemented")}};function ZV(t,e){return _(this,null,function*(){return bn(t,"POST","/v1/accounts:signUp",e)})}function JV(t,e){return _(this,null,function*(){return Xs(t,"POST","/v1/accounts:signInWithPassword",ir(t,e))})}function XV(t,e){return _(this,null,function*(){return Xs(t,"POST","/v1/accounts:signInWithEmailLink",ir(t,e))})}function eL(t,e){return _(this,null,function*(){return Xs(t,"POST","/v1/accounts:signInWithEmailLink",ir(t,e))})}var Zs=class t extends Ys{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sg(e,n,"signInWithPassword",JV,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return XV(e,{email:this._email,oobCode:this._password});default:Jt(e,"internal-error")}})}_linkToIdToken(e,n){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sg(e,r,"signUpPassword",ZV,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return eL(e,{idToken:n,email:this._email,oobCode:this._password});default:Jt(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function gg(t,e){return _(this,null,function*(){return Xs(t,"POST","/v1/accounts:signInWithIdp",ir(t,e))})}function tL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nL(t){let e=Yi(Zi(t)).link,n=e?Yi(Zi(e)).deep_link_id:null,r=Yi(Zi(t)).deep_link_id;return(r?Yi(Zi(r)).link:null)||r||n||e||t}var fl=class t{constructor(e){var n,r,i,o,s,c;let u=Yi(Zi(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=tL((i=u.mode)!==null&&i!==void 0?i:null);U(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let n=nL(e);try{return new t(n)}catch{return null}}};var qb=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Zs._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=fl.parseLink(r);return U(i,"argument-error"),Zs._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),pl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Ng=class extends pl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function rL(t,e){return _(this,null,function*(){return Xs(t,"POST","/v1/accounts:signUp",ir(t,e))})}var ro=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let o=yield nr._fromIdTokenResponse(e,r,i),s=gb(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=gb(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function gb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Rg=class t extends yt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function zb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Rg._fromErrorAndOperation(t,o,e,r):o})}function iL(t,e,n=!1){return _(this,null,function*(){let r=yield no(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ro._forOperation(t,"link",r)})}function oL(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(ut(r.app))return Promise.reject(Tn(r));let i="reauthenticate";try{let o=yield no(t,zb(r,i,e,t),n);U(o.idToken,r,"internal-error");let s=Ug(o.idToken);U(s,r,"internal-error");let{sub:c}=s;return U(t.uid===c,r,"user-mismatch"),ro._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Jt(r,"user-mismatch"),o}})}function Gb(t,e,n=!1){return _(this,null,function*(){if(ut(t.app))return Promise.reject(Tn(t));let r="signIn",i=yield zb(t,r,e),o=yield ro._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function Gg(t,e){return _(this,null,function*(){return Gb(Gr(t),e)})}function Wb(t){return _(this,null,function*(){let e=Gr(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Wg(t,e,n){return _(this,null,function*(){if(ut(t.app))return Promise.reject(Tn(t));let r=Gr(t),s=yield Sg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rL,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Wb(t),u}),c=yield ro._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(c.user),c})}function Kg(t,e,n){return ut(t.app)?Promise.reject(Tn(t)):Gg(Oe(t),qb.credential(e,n)).catch(r=>_(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&Wb(t),r}))}function sL(t,e){return _(this,null,function*(){return bn(t,"POST","/v1/accounts:update",e)})}function Qg(r,i){return _(this,arguments,function*(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;let o=Oe(t),c={idToken:yield o.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=yield no(o,sL(o.auth,c));o.displayName=u.displayName||null,o.photoURL=u.photoUrl||null;let l=o.providerData.find(({providerId:h})=>h==="password");l&&(l.displayName=o.displayName,l.photoURL=o.photoURL),yield o._updateTokensIfNecessary(u)})}function Yg(t,e,n,r){return Oe(t).onIdTokenChanged(e,n,r)}function Zg(t,e,n){return Oe(t).beforeAuthStateChanged(e,n)}function Jg(t,e,n,r){return Oe(t).onAuthStateChanged(e,n,r)}function Xg(t){return Oe(t).signOut()}var gl="__sak";var ml=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gl,"1"),this.storage.removeItem(gl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var aL=1e3,cL=10,uL=(()=>{class t extends ml{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Lb(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},s=this.storage.getItem(i);UV()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,cL):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},aL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield jn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield jn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield jn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),Kb=uL;var lL=(()=>{class t extends ml{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),em=lL;function dL(t){return Promise.all(t.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var hL=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,c=this.handlersMap[o];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(c).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield dL(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Qb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Mg=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((c,u)=>{let l=Qb("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let y=p;if(y.data.eventId===l)switch(y.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(y.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Zt(){return window}function fL(t){Zt().location.href=t}function Yb(){return typeof Zt().WorkerGlobalScope<"u"&&typeof Zt().importScripts=="function"}function pL(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function gL(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function mL(){return Yb()?self:null}var Zb="firebaseLocalStorageDb",yL=1,yl="firebaseLocalStorage",Jb="fbase_key",zr=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Il(t,e){return t.transaction([yl],e?"readwrite":"readonly").objectStore(yl)}function vL(){let t=indexedDB.deleteDatabase(Zb);return new zr(t).toPromise()}function Pg(){let t=indexedDB.open(Zb,yL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(yl,{keyPath:Jb})}catch(i){n(i)}}),t.addEventListener("success",()=>_(null,null,function*(){let r=t.result;r.objectStoreNames.contains(yl)?e(r):(r.close(),yield vL(),e(yield Pg()))}))})}function mb(t,e,n){return _(this,null,function*(){let r=Il(t,!0).put({[Jb]:e,value:n});return new zr(r).toPromise()})}function _L(t,e){return _(this,null,function*(){let n=Il(t,!1).get(e),r=yield new zr(n).toPromise();return r===void 0?null:r.value})}function yb(t,e){let n=Il(t,!0).delete(e);return new zr(n).toPromise()}var IL=800,EL=3,wL=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield Pg(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>EL)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return Yb()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=hL._getInstance(mL()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield pL(),!this.activeServiceWorker)return;this.sender=new Mg(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||gL()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Pg();return yield mb(n,gl,"1"),yield yb(n,gl),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>mb(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>_L(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>yb(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(o=>{let s=Il(o,!1).getAll();return new zr(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),IL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),Xb=wL;var x5=Ub("rcb"),k5=new qr(3e4,6e4);function DL(t,e){return e?Dn(e):(U(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Js=class extends Ys{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gg(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gg(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gg(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function TL(t){return Gb(t.auth,new Js(t),t.bypassAuthState)}function bL(t){let{auth:e,user:n}=t;return U(n,e,"internal-error"),oL(n,new Js(t),t.bypassAuthState)}function CL(t){return _(this,null,function*(){let{auth:e,user:n}=t;return U(n,e,"internal-error"),iL(n,new Js(t),t.bypassAuthState)})}var xg=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:c}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TL;case"linkViaPopup":case"linkViaRedirect":return CL;case"reauthViaPopup":case"reauthViaRedirect":return bL;default:Jt(this.auth,"internal-error")}}resolve(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var O5=new qr(2e3,1e4);var AL="pendingRedirect",ol=new Map,kg=class t extends xg{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=ol.get(this.auth._key());if(!e){try{let r=(yield SL(this.resolver,this.auth))?yield jn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ol.set(this.auth._key(),e)}return this.bypassAuthState||ol.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return jn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,jn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function SL(t,e){return _(this,null,function*(){let n=ML(e),r=RL(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function NL(t,e){ol.set(t._key(),e)}function RL(t){return Dn(t._redirectPersistence)}function ML(t){return il(AL,t.config.apiKey,t.name)}function PL(t,e,n=!1){return _(this,null,function*(){if(ut(t.app))return Promise.reject(Tn(t));let r=Gr(t),i=DL(r,e),s=yield new kg(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var xL=10*60*1e3,Og=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!eC(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xL&&this.cachedEventUids.clear(),this.cachedEventUids.has(vb(e))}saveEventToCache(e){this.cachedEventUids.add(vb(e)),this.lastProcessedEventTime=Date.now()}};function vb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function kL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eC(t);default:return!1}}function OL(n){return _(this,arguments,function*(t,e={}){return bn(t,"GET","/v1/projects",e)})}var FL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VL=/^https?/;function LL(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield OL(t);for(let n of e)try{if(jL(n))return}catch{}Jt(t,"unauthorized-domain")})}function jL(t){let e=yg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!VL.test(n))return!1;if(FL.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var BL=new qr(3e4,6e4);function _b(){let t=Zt().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function UL(t){return new Promise((e,n)=>{var r,i,o;function s(){_b(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_b(),n(Hr(t,"network-request-failed"))},timeout:BL.get()})}if(!((i=(r=Zt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Zt().gapi)===null||o===void 0)&&o.load)s();else{let c=Ub("iframefcb");return Zt()[c]=()=>{gapi.load?s():n(Hr(t,"network-request-failed"))},Bb(`${GV()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw sl=null,e})}var sl=null;function $L(t){return sl=sl||UL(t),sl}var HL=new qr(5e3,15e3),qL="__/auth/iframe",zL="emulator/auth/iframe",GL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KL(t){let e=t.config;U(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?jg(e,zL):`https://${t.config.authDomain}/${qL}`,r={apiKey:e.apiKey,appName:t.name,v:Zn},i=WL.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Bs(r).slice(1)}`}function QL(t){return _(this,null,function*(){let e=yield $L(t),n=Zt().gapi;return U(n,t,"internal-error"),e.open({where:document.body,url:KL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GL,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Hr(t,"network-request-failed"),c=Zt().setTimeout(()=>{o(s)},HL.get());function u(){Zt().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var YL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZL=500,JL=600,XL="_blank",e2="http://localhost",vl=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function t2(t,e,n,r=ZL,i=JL){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},YL),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Ve().toLowerCase();n&&(c=xb(l)?XL:n),Mb(l)&&(e=e||e2,u.scrollbars="yes");let h=Object.entries(u).reduce((y,[m,C])=>`${y}${m}=${C},`,"");if(BV(l)&&c!=="_self")return n2(e||"",c),new vl(null);let p=window.open(e||"",c,h);U(p,t,"popup-blocked");try{p.focus()}catch{}return new vl(p)}function n2(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var r2="__/auth/handler",i2="emulator/auth/handler",o2=encodeURIComponent("fac");function Ib(t,e,n,r,i,o){return _(this,null,function*(){U(t.config.authDomain,t,"auth-domain-config-required"),U(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Zn,eventId:i};if(e instanceof pl){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",OT(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Ng){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let c=s;for(let h of Object.keys(c))c[h]===void 0&&delete c[h];let u=yield t._getAppCheckToken(),l=u?`#${o2}=${encodeURIComponent(u)}`:"";return`${s2(t)}?${Bs(c).slice(1)}${l}`})}function s2({config:t}){return t.emulator?jg(t,i2):`https://${t.authDomain}/${r2}`}var mg="webStorageSupport",Fg=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=em,this._completeRedirectFn=PL,this._overrideRedirectResult=NL}_openPopup(e,n,r,i){return _(this,null,function*(){var o;rr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield Ib(e,n,r,yg(),i);return t2(e,s,Qb())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield Ib(e,n,r,yg(),i);return fL(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(rr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield QL(e),r=new Og(e);return n.register("authEvent",i=>(U(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mg,{type:mg},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[mg];s!==void 0&&n(!!s),Jt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Lb()||Pb()||Hg()}},tC=Fg;var Eb="@firebase/auth",wb="1.10.4";var Vg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function a2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function c2(t){xt(new nt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;U(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jb(t)},l=new Tg(r,i,o,u);return KV(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),xt(new nt("auth-internal",e=>{let n=Gr(e.getProvider("auth").getImmediate());return(r=>new Vg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),be(Eb,wb,a2(t)),be(Eb,wb,"esm2017")}var u2=5*60,l2=qp("authIdTokenMaxAge")||u2,Db=null,d2=t=>e=>_(null,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>l2)return;let i=n?.token;Db!==i&&(Db=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function tm(t=Br()){let e=Ji(t,"auth");if(e.isInitialized())return e.getImmediate();let n=qg(t,{popupRedirectResolver:tC,persistence:[Xb,Kb,em]}),r=qp("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=d2(o.toString());Zg(n,s,()=>s(n.currentUser)),Yg(n,c=>s(c))}}let i=$p("auth");return i?zg(n,`http://${i}`):Qi("Auth",!1),n}function h2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}qV({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Hr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",h2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});c2("Browser");var nC="auth",ea=class{constructor(e){return e}},ta=class{constructor(){return eo(nC)}};var nm=new H("angularfire2.auth-instances");function X2(t,e){let n=Hs(nC,t,e);return n&&new ea(n)}function ej(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ea(r)}}var tj={provide:ta,deps:[[new pt,nm]]},nj={provide:ea,useFactory:X2,deps:[[new pt,nm],En]};function EW(t,...e){return be("angularfire",Jn.full,"auth"),Gn([nj,tj,{provide:nm,useFactory:ej(t),multi:!0,deps:[Ee,$e,Xn,$r,[new pt,to],...e]}])}var wW=Ne(Wg,!0,2);var DW=Ne(tm,!0);var TW=Ne(Jg,!0);var bW=Ne(Kg,!0,2);var CW=Ne(Xg,!0,2);var AW=Ne(Qg,!0,2);var rC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},iC={};var Cn,rm;(function(){var t;function e(D,v){function E(){}E.prototype=v.prototype,D.D=v.prototype,D.prototype=new E,D.prototype.constructor=D,D.C=function(w,T,A){for(var I=Array(arguments.length-2),sn=2;sn<arguments.length;sn++)I[sn-2]=arguments[sn];return v.prototype[T].apply(w,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,v,E){E||(E=0);var w=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)w[T]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(T=0;16>T;++T)w[T]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=D.g[0],E=D.g[1],T=D.g[2];var A=D.g[3],I=v+(A^E&(T^A))+w[0]+3614090360&4294967295;v=E+(I<<7&4294967295|I>>>25),I=A+(T^v&(E^T))+w[1]+3905402710&4294967295,A=v+(I<<12&4294967295|I>>>20),I=T+(E^A&(v^E))+w[2]+606105819&4294967295,T=A+(I<<17&4294967295|I>>>15),I=E+(v^T&(A^v))+w[3]+3250441966&4294967295,E=T+(I<<22&4294967295|I>>>10),I=v+(A^E&(T^A))+w[4]+4118548399&4294967295,v=E+(I<<7&4294967295|I>>>25),I=A+(T^v&(E^T))+w[5]+1200080426&4294967295,A=v+(I<<12&4294967295|I>>>20),I=T+(E^A&(v^E))+w[6]+2821735955&4294967295,T=A+(I<<17&4294967295|I>>>15),I=E+(v^T&(A^v))+w[7]+4249261313&4294967295,E=T+(I<<22&4294967295|I>>>10),I=v+(A^E&(T^A))+w[8]+1770035416&4294967295,v=E+(I<<7&4294967295|I>>>25),I=A+(T^v&(E^T))+w[9]+2336552879&4294967295,A=v+(I<<12&4294967295|I>>>20),I=T+(E^A&(v^E))+w[10]+4294925233&4294967295,T=A+(I<<17&4294967295|I>>>15),I=E+(v^T&(A^v))+w[11]+2304563134&4294967295,E=T+(I<<22&4294967295|I>>>10),I=v+(A^E&(T^A))+w[12]+1804603682&4294967295,v=E+(I<<7&4294967295|I>>>25),I=A+(T^v&(E^T))+w[13]+4254626195&4294967295,A=v+(I<<12&4294967295|I>>>20),I=T+(E^A&(v^E))+w[14]+2792965006&4294967295,T=A+(I<<17&4294967295|I>>>15),I=E+(v^T&(A^v))+w[15]+1236535329&4294967295,E=T+(I<<22&4294967295|I>>>10),I=v+(T^A&(E^T))+w[1]+4129170786&4294967295,v=E+(I<<5&4294967295|I>>>27),I=A+(E^T&(v^E))+w[6]+3225465664&4294967295,A=v+(I<<9&4294967295|I>>>23),I=T+(v^E&(A^v))+w[11]+643717713&4294967295,T=A+(I<<14&4294967295|I>>>18),I=E+(A^v&(T^A))+w[0]+3921069994&4294967295,E=T+(I<<20&4294967295|I>>>12),I=v+(T^A&(E^T))+w[5]+3593408605&4294967295,v=E+(I<<5&4294967295|I>>>27),I=A+(E^T&(v^E))+w[10]+38016083&4294967295,A=v+(I<<9&4294967295|I>>>23),I=T+(v^E&(A^v))+w[15]+3634488961&4294967295,T=A+(I<<14&4294967295|I>>>18),I=E+(A^v&(T^A))+w[4]+3889429448&4294967295,E=T+(I<<20&4294967295|I>>>12),I=v+(T^A&(E^T))+w[9]+568446438&4294967295,v=E+(I<<5&4294967295|I>>>27),I=A+(E^T&(v^E))+w[14]+3275163606&4294967295,A=v+(I<<9&4294967295|I>>>23),I=T+(v^E&(A^v))+w[3]+4107603335&4294967295,T=A+(I<<14&4294967295|I>>>18),I=E+(A^v&(T^A))+w[8]+1163531501&4294967295,E=T+(I<<20&4294967295|I>>>12),I=v+(T^A&(E^T))+w[13]+2850285829&4294967295,v=E+(I<<5&4294967295|I>>>27),I=A+(E^T&(v^E))+w[2]+4243563512&4294967295,A=v+(I<<9&4294967295|I>>>23),I=T+(v^E&(A^v))+w[7]+1735328473&4294967295,T=A+(I<<14&4294967295|I>>>18),I=E+(A^v&(T^A))+w[12]+2368359562&4294967295,E=T+(I<<20&4294967295|I>>>12),I=v+(E^T^A)+w[5]+4294588738&4294967295,v=E+(I<<4&4294967295|I>>>28),I=A+(v^E^T)+w[8]+2272392833&4294967295,A=v+(I<<11&4294967295|I>>>21),I=T+(A^v^E)+w[11]+1839030562&4294967295,T=A+(I<<16&4294967295|I>>>16),I=E+(T^A^v)+w[14]+4259657740&4294967295,E=T+(I<<23&4294967295|I>>>9),I=v+(E^T^A)+w[1]+2763975236&4294967295,v=E+(I<<4&4294967295|I>>>28),I=A+(v^E^T)+w[4]+1272893353&4294967295,A=v+(I<<11&4294967295|I>>>21),I=T+(A^v^E)+w[7]+4139469664&4294967295,T=A+(I<<16&4294967295|I>>>16),I=E+(T^A^v)+w[10]+3200236656&4294967295,E=T+(I<<23&4294967295|I>>>9),I=v+(E^T^A)+w[13]+681279174&4294967295,v=E+(I<<4&4294967295|I>>>28),I=A+(v^E^T)+w[0]+3936430074&4294967295,A=v+(I<<11&4294967295|I>>>21),I=T+(A^v^E)+w[3]+3572445317&4294967295,T=A+(I<<16&4294967295|I>>>16),I=E+(T^A^v)+w[6]+76029189&4294967295,E=T+(I<<23&4294967295|I>>>9),I=v+(E^T^A)+w[9]+3654602809&4294967295,v=E+(I<<4&4294967295|I>>>28),I=A+(v^E^T)+w[12]+3873151461&4294967295,A=v+(I<<11&4294967295|I>>>21),I=T+(A^v^E)+w[15]+530742520&4294967295,T=A+(I<<16&4294967295|I>>>16),I=E+(T^A^v)+w[2]+3299628645&4294967295,E=T+(I<<23&4294967295|I>>>9),I=v+(T^(E|~A))+w[0]+4096336452&4294967295,v=E+(I<<6&4294967295|I>>>26),I=A+(E^(v|~T))+w[7]+1126891415&4294967295,A=v+(I<<10&4294967295|I>>>22),I=T+(v^(A|~E))+w[14]+2878612391&4294967295,T=A+(I<<15&4294967295|I>>>17),I=E+(A^(T|~v))+w[5]+4237533241&4294967295,E=T+(I<<21&4294967295|I>>>11),I=v+(T^(E|~A))+w[12]+1700485571&4294967295,v=E+(I<<6&4294967295|I>>>26),I=A+(E^(v|~T))+w[3]+2399980690&4294967295,A=v+(I<<10&4294967295|I>>>22),I=T+(v^(A|~E))+w[10]+4293915773&4294967295,T=A+(I<<15&4294967295|I>>>17),I=E+(A^(T|~v))+w[1]+2240044497&4294967295,E=T+(I<<21&4294967295|I>>>11),I=v+(T^(E|~A))+w[8]+1873313359&4294967295,v=E+(I<<6&4294967295|I>>>26),I=A+(E^(v|~T))+w[15]+4264355552&4294967295,A=v+(I<<10&4294967295|I>>>22),I=T+(v^(A|~E))+w[6]+2734768916&4294967295,T=A+(I<<15&4294967295|I>>>17),I=E+(A^(T|~v))+w[13]+1309151649&4294967295,E=T+(I<<21&4294967295|I>>>11),I=v+(T^(E|~A))+w[4]+4149444226&4294967295,v=E+(I<<6&4294967295|I>>>26),I=A+(E^(v|~T))+w[11]+3174756917&4294967295,A=v+(I<<10&4294967295|I>>>22),I=T+(v^(A|~E))+w[2]+718787259&4294967295,T=A+(I<<15&4294967295|I>>>17),I=E+(A^(T|~v))+w[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(T+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+T&4294967295,D.g[3]=D.g[3]+A&4294967295}r.prototype.u=function(D,v){v===void 0&&(v=D.length);for(var E=v-this.blockSize,w=this.B,T=this.h,A=0;A<v;){if(T==0)for(;A<=E;)i(this,D,A),A+=this.blockSize;if(typeof D=="string"){for(;A<v;)if(w[T++]=D.charCodeAt(A++),T==this.blockSize){i(this,w),T=0;break}}else for(;A<v;)if(w[T++]=D[A++],T==this.blockSize){i(this,w),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var E=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=E&255,E/=256;for(this.u(D),D=Array(16),v=E=0;4>v;++v)for(var w=0;32>w;w+=8)D[E++]=this.g[v]>>>w&255;return D};function o(D,v){var E=c;return Object.prototype.hasOwnProperty.call(E,D)?E[D]:E[D]=v(D)}function s(D,v){this.h=v;for(var E=[],w=!0,T=D.length-1;0<=T;T--){var A=D[T]|0;w&&A==v||(E[T]=A,w=!1)}this.g=E}var c={};function u(D){return-128<=D&&128>D?o(D,function(v){return new s([v|0],0>v?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return M(l(-D));for(var v=[],E=1,w=0;D>=E;w++)v[w]=D/E|0,E*=4294967296;return new s(v,0)}function h(D,v){if(D.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(D.charAt(0)=="-")return M(h(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),w=p,T=0;T<D.length;T+=8){var A=Math.min(8,D.length-T),I=parseInt(D.substring(T,T+A),v);8>A?(A=l(Math.pow(v,A)),w=w.j(A).add(l(I))):(w=w.j(E),w=w.add(l(I)))}return w}var p=u(0),y=u(1),m=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-M(this).m();for(var D=0,v=1,E=0;E<this.g.length;E++){var w=this.i(E);D+=(0<=w?w:4294967296+w)*v,v*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(C(this))return"0";if(N(this))return"-"+M(this).toString(D);for(var v=l(Math.pow(D,6)),E=this,w="";;){var T=ue(E,v).g;E=k(E,T.j(v));var A=((0<E.g.length?E.g[0]:E.h)>>>0).toString(D);if(E=T,C(E))return A+w;for(;6>A.length;)A="0"+A;w=A+w}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function C(D){if(D.h!=0)return!1;for(var v=0;v<D.g.length;v++)if(D.g[v]!=0)return!1;return!0}function N(D){return D.h==-1}t.l=function(D){return D=k(this,D),N(D)?-1:C(D)?0:1};function M(D){for(var v=D.g.length,E=[],w=0;w<v;w++)E[w]=~D.g[w];return new s(E,~D.h).add(y)}t.abs=function(){return N(this)?M(this):this},t.add=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],w=0,T=0;T<=v;T++){var A=w+(this.i(T)&65535)+(D.i(T)&65535),I=(A>>>16)+(this.i(T)>>>16)+(D.i(T)>>>16);w=I>>>16,A&=65535,I&=65535,E[T]=I<<16|A}return new s(E,E[E.length-1]&-2147483648?-1:0)};function k(D,v){return D.add(M(v))}t.j=function(D){if(C(this)||C(D))return p;if(N(this))return N(D)?M(this).j(M(D)):M(M(this).j(D));if(N(D))return M(this.j(M(D)));if(0>this.l(m)&&0>D.l(m))return l(this.m()*D.m());for(var v=this.g.length+D.g.length,E=[],w=0;w<2*v;w++)E[w]=0;for(w=0;w<this.g.length;w++)for(var T=0;T<D.g.length;T++){var A=this.i(w)>>>16,I=this.i(w)&65535,sn=D.i(T)>>>16,Mo=D.i(T)&65535;E[2*w+2*T]+=I*Mo,V(E,2*w+2*T),E[2*w+2*T+1]+=A*Mo,V(E,2*w+2*T+1),E[2*w+2*T+1]+=I*sn,V(E,2*w+2*T+1),E[2*w+2*T+2]+=A*sn,V(E,2*w+2*T+2)}for(w=0;w<v;w++)E[w]=E[2*w+1]<<16|E[2*w];for(w=v;w<2*v;w++)E[w]=0;return new s(E,0)};function V(D,v){for(;(D[v]&65535)!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function $(D,v){this.g=D,this.h=v}function ue(D,v){if(C(v))throw Error("division by zero");if(C(D))return new $(p,p);if(N(D))return v=ue(M(D),v),new $(M(v.g),M(v.h));if(N(v))return v=ue(D,M(v)),new $(M(v.g),v.h);if(30<D.g.length){if(N(D)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var E=y,w=v;0>=w.l(D);)E=Fe(E),w=Fe(w);var T=he(E,1),A=he(w,1);for(w=he(w,2),E=he(E,2);!C(w);){var I=A.add(w);0>=I.l(D)&&(T=T.add(E),A=I),w=he(w,1),E=he(E,1)}return v=k(D,T.j(v)),new $(T,v)}for(T=p;0<=D.l(v);){for(E=Math.max(1,Math.floor(D.m()/v.m())),w=Math.ceil(Math.log(E)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),A=l(E),I=A.j(v);N(I)||0<I.l(D);)E-=w,A=l(E),I=A.j(v);C(A)&&(A=y),T=T.add(A),D=k(D,I)}return new $(T,D)}t.A=function(D){return ue(this,D).h},t.and=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)&D.i(w);return new s(E,this.h&D.h)},t.or=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)|D.i(w);return new s(E,this.h|D.h)},t.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),E=[],w=0;w<v;w++)E[w]=this.i(w)^D.i(w);return new s(E,this.h^D.h)};function Fe(D){for(var v=D.g.length+1,E=[],w=0;w<v;w++)E[w]=D.i(w)<<1|D.i(w-1)>>>31;return new s(E,D.h)}function he(D,v){var E=v>>5;v%=32;for(var w=D.g.length-E,T=[],A=0;A<w;A++)T[A]=0<v?D.i(A+E)>>>v|D.i(A+E+1)<<32-v:D.i(A+E);return new s(T,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rm=iC.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Cn=iC.Integer=s}).apply(typeof rC<"u"?rC:typeof self<"u"?self:typeof window<"u"?window:{});var El=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},An={};var im,rj,io,om,na,wl,sm,am,cm;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,f){return a==Array.prototype||a==Object.prototype||(a[d]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof El=="object"&&El];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var f=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var b=a[g];if(!(b in f))break e;f=f[b]}a=a[a.length-1],g=f[a],d=d(g),d!=g&&d!=null&&e(f,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var f=0,g=!1,b={next:function(){if(!g&&f<a.length){var S=f++;return{value:d(S,a[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,f){return f})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,f){return a.call.apply(a.bind,arguments)}function p(a,d,f){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),a.apply(d,b)}}return function(){return a.apply(d,arguments)}}function y(a,d,f){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function m(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function C(a,d){function f(){}f.prototype=d.prototype,a.aa=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(g,b,S){for(var x=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)x[pe-2]=arguments[pe];return d.prototype[b].apply(g,x)}}function N(a){let d=a.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=a[g];return f}return[]}function M(a,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=a.length||0,S=g.length||0;a.length=b+S;for(let x=0;x<S;x++)a[b+x]=g[x]}else a.push(g)}}class k{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function V(a){return/^[\s\xa0]*$/.test(a)}function $(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ue(a){return ue[" "](a),a}ue[" "]=function(){};var Fe=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function he(a,d,f){for(let g in a)d.call(f,a[g],g,a)}function D(a,d){for(let f in a)d.call(void 0,a[f],f,a)}function v(a){let d={};for(let f in a)d[f]=a[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)a[f]=g[f];for(let S=0;S<E.length;S++)f=E[S],Object.prototype.hasOwnProperty.call(g,f)&&(a[f]=g[f])}}function T(a){var d=1;a=a.split(":");let f=[];for(;0<d&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function A(a){c.setTimeout(()=>{throw a},0)}function I(){var a=pd;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class sn{constructor(){this.h=this.g=null}add(d,f){let g=Mo.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Mo=new k(()=>new kA,a=>a.reset());class kA{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Po,xo=!1,pd=new sn,Nv=()=>{let a=c.Promise.resolve(void 0);Po=()=>{a.then(OA)}};var OA=()=>{for(var a;a=I();){try{a.h.call(a.g)}catch(f){A(f)}var d=Mo;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}xo=!1};function On(){this.s=this.s,this.C=this.C}On.prototype.s=!1,On.prototype.ma=function(){this.s||(this.s=!0,this.N())},On.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function qe(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}qe.prototype.h=function(){this.defaultPrevented=!0};var FA=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let f=()=>{};c.addEventListener("test",f,d),c.removeEventListener("test",f,d)}catch{}return a}();function ko(a,d){if(qe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Fe){e:{try{ue(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:VA[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ko.aa.h.call(this)}}C(ko,qe);var VA={2:"touch",3:"pen",4:"mouse"};ko.prototype.h=function(){ko.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Oo="closure_listenable_"+(1e6*Math.random()|0),LA=0;function jA(a,d,f,g,b){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++LA,this.da=this.fa=!1}function Ca(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Aa(a){this.src=a,this.g={},this.h=0}Aa.prototype.add=function(a,d,f,g,b){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var x=md(a,d,g,b);return-1<x?(d=a[x],f||(d.fa=!1)):(d=new jA(d,this.src,S,!!g,b),d.fa=f,a.push(d)),d};function gd(a,d){var f=d.type;if(f in a.g){var g=a.g[f],b=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=b)&&Array.prototype.splice.call(g,b,1),S&&(Ca(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function md(a,d,f,g){for(var b=0;b<a.length;++b){var S=a[b];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==g)return b}return-1}var yd="closure_lm_"+(1e6*Math.random()|0),vd={};function Rv(a,d,f,g,b){if(g&&g.once)return Pv(a,d,f,g,b);if(Array.isArray(d)){for(var S=0;S<d.length;S++)Rv(a,d[S],f,g,b);return null}return f=wd(f),a&&a[Oo]?a.K(d,f,l(g)?!!g.capture:!!g,b):Mv(a,d,f,!1,g,b)}function Mv(a,d,f,g,b,S){if(!d)throw Error("Invalid event type");var x=l(b)?!!b.capture:!!b,pe=Id(a);if(pe||(a[yd]=pe=new Aa(a)),f=pe.add(d,f,g,x,S),f.proxy)return f;if(g=BA(),f.proxy=g,g.src=a,g.listener=f,a.addEventListener)FA||(b=x),b===void 0&&(b=!1),a.addEventListener(d.toString(),g,b);else if(a.attachEvent)a.attachEvent(kv(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function BA(){function a(f){return d.call(a.src,a.listener,f)}let d=UA;return a}function Pv(a,d,f,g,b){if(Array.isArray(d)){for(var S=0;S<d.length;S++)Pv(a,d[S],f,g,b);return null}return f=wd(f),a&&a[Oo]?a.L(d,f,l(g)?!!g.capture:!!g,b):Mv(a,d,f,!0,g,b)}function xv(a,d,f,g,b){if(Array.isArray(d))for(var S=0;S<d.length;S++)xv(a,d[S],f,g,b);else g=l(g)?!!g.capture:!!g,f=wd(f),a&&a[Oo]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],f=md(S,f,g,b),-1<f&&(Ca(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=Id(a))&&(d=a.g[d.toString()],a=-1,d&&(a=md(d,f,g,b)),(f=-1<a?d[a]:null)&&_d(f))}function _d(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Oo])gd(d.i,a);else{var f=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(f,g,a.capture):d.detachEvent?d.detachEvent(kv(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Id(d))?(gd(f,a),f.h==0&&(f.src=null,d[yd]=null)):Ca(a)}}}function kv(a){return a in vd?vd[a]:vd[a]="on"+a}function UA(a,d){if(a.da)a=!0;else{d=new ko(d,this);var f=a.listener,g=a.ha||a.src;a.fa&&_d(a),a=f.call(g,d)}return a}function Id(a){return a=a[yd],a instanceof Aa?a:null}var Ed="__closure_events_fn_"+(1e9*Math.random()>>>0);function wd(a){return typeof a=="function"?a:(a[Ed]||(a[Ed]=function(d){return a.handleEvent(d)}),a[Ed])}function ze(){On.call(this),this.i=new Aa(this),this.M=this,this.F=null}C(ze,On),ze.prototype[Oo]=!0,ze.prototype.removeEventListener=function(a,d,f,g){xv(this,a,d,f,g)};function Ye(a,d){var f,g=a.F;if(g)for(f=[];g;g=g.F)f.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new qe(d,a);else if(d instanceof qe)d.target=d.target||a;else{var b=d;d=new qe(g,a),w(d,b)}if(b=!0,f)for(var S=f.length-1;0<=S;S--){var x=d.g=f[S];b=Sa(x,g,!0,d)&&b}if(x=d.g=a,b=Sa(x,g,!0,d)&&b,b=Sa(x,g,!1,d)&&b,f)for(S=0;S<f.length;S++)x=d.g=f[S],b=Sa(x,g,!1,d)&&b}ze.prototype.N=function(){if(ze.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var f=a.g[d],g=0;g<f.length;g++)Ca(f[g]);delete a.g[d],a.h--}}this.F=null},ze.prototype.K=function(a,d,f,g){return this.i.add(String(a),d,!1,f,g)},ze.prototype.L=function(a,d,f,g){return this.i.add(String(a),d,!0,f,g)};function Sa(a,d,f,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,S=0;S<d.length;++S){var x=d[S];if(x&&!x.da&&x.capture==f){var pe=x.listener,Be=x.ha||x.src;x.fa&&gd(a.i,x),b=pe.call(Be,g)!==!1&&b}}return b&&!g.defaultPrevented}function Ov(a,d,f){if(typeof a=="function")f&&(a=y(a,f));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function Fv(a){a.g=Ov(()=>{a.g=null,a.i&&(a.i=!1,Fv(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class $A extends On{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Fv(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fo(a){On.call(this),this.h=a,this.g={}}C(Fo,On);var Vv=[];function Lv(a){he(a.g,function(d,f){this.g.hasOwnProperty(f)&&_d(d)},a),a.g={}}Fo.prototype.N=function(){Fo.aa.N.call(this),Lv(this)},Fo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dd=c.JSON.stringify,HA=c.JSON.parse,qA=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Td(){}Td.prototype.h=null;function jv(a){return a.h||(a.h=a.i())}function Bv(){}var Vo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bd(){qe.call(this,"d")}C(bd,qe);function Cd(){qe.call(this,"c")}C(Cd,qe);var ur={},Uv=null;function Na(){return Uv=Uv||new ze}ur.La="serverreachability";function $v(a){qe.call(this,ur.La,a)}C($v,qe);function Lo(a){let d=Na();Ye(d,new $v(d))}ur.STAT_EVENT="statevent";function Hv(a,d){qe.call(this,ur.STAT_EVENT,a),this.stat=d}C(Hv,qe);function Ze(a){let d=Na();Ye(d,new Hv(d,a))}ur.Ma="timingevent";function qv(a,d){qe.call(this,ur.Ma,a),this.size=d}C(qv,qe);function jo(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function Bo(){this.g=!0}Bo.prototype.xa=function(){this.g=!1};function zA(a,d,f,g,b,S){a.info(function(){if(a.g)if(S)for(var x="",pe=S.split("&"),Be=0;Be<pe.length;Be++){var ce=pe[Be].split("=");if(1<ce.length){var Ge=ce[0];ce=ce[1];var We=Ge.split("_");x=2<=We.length&&We[1]=="type"?x+(Ge+"="+ce+"&"):x+(Ge+"=redacted&")}}else x=null;else x=S;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+x})}function GA(a,d,f,g,b,S,x){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+S+" "+x})}function ai(a,d,f,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+KA(a,f)+(g?" "+g:"")})}function WA(a,d){a.info(function(){return"TIMEOUT: "+d})}Bo.prototype.info=function(){};function KA(a,d){if(!a.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var g=f[a];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var x=1;x<b.length;x++)b[x]=""}}}}return Dd(f)}catch{return d}}var Ra={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ad;function Ma(){}C(Ma,Td),Ma.prototype.g=function(){return new XMLHttpRequest},Ma.prototype.i=function(){return{}},Ad=new Ma;function Fn(a,d,f,g){this.j=a,this.i=d,this.l=f,this.R=g||1,this.U=new Fo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Gv}function Gv(){this.i=null,this.g="",this.h=!1}var Wv={},Sd={};function Nd(a,d,f){a.L=1,a.v=Oa(an(d)),a.m=f,a.P=!0,Kv(a,null)}function Kv(a,d){a.F=Date.now(),Pa(a),a.A=an(a.v);var f=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),c_(f.i,"t",g),a.C=0,f=a.j.J,a.h=new Gv,a.g=C_(a.j,f?d:null,!a.m),0<a.O&&(a.M=new $A(y(a.Y,a,a.g),a.O)),d=a.U,f=a.g,g=a.ca;var b="readystatechange";Array.isArray(b)||(b&&(Vv[0]=b.toString()),b=Vv);for(var S=0;S<b.length;S++){var x=Rv(f,b[S],g||d.handleEvent,!1,d.h||d);if(!x)break;d.g[x.key]=x}d=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Lo(),zA(a.i,a.u,a.A,a.l,a.R,a.m)}Fn.prototype.ca=function(a){a=a.target;let d=this.M;d&&cn(a)==3?d.j():this.Y(a)},Fn.prototype.Y=function(a){try{if(a==this.g)e:{let We=cn(this.g);var d=this.g.Ba();let li=this.g.Z();if(!(3>We)&&(We!=3||this.g&&(this.h.h||this.g.oa()||g_(this.g)))){this.J||We!=4||d==7||(d==8||0>=li?Lo(3):Lo(2)),Rd(this);var f=this.g.Z();this.X=f;t:if(Qv(this)){var g=g_(this.g);a="";var b=g.length,S=cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){lr(this),Uo(this);var x="";break t}this.h.i=new c.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(S&&d==b-1)});g.length=0,this.h.g+=a,this.C=0,x=this.h.g}else x=this.g.oa();if(this.o=f==200,GA(this.i,this.u,this.A,this.l,this.R,We,f),this.o){if(this.T&&!this.K){t:{if(this.g){var pe,Be=this.g;if((pe=Be.g?Be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(pe)){var ce=pe;break t}}ce=null}if(f=ce)ai(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Md(this,f);else{this.o=!1,this.s=3,Ze(12),lr(this),Uo(this);break e}}if(this.P){f=!0;let bt;for(;!this.J&&this.C<x.length;)if(bt=QA(this,x),bt==Sd){We==4&&(this.s=4,Ze(14),f=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==Wv){this.s=4,Ze(15),ai(this.i,this.l,x,"[Invalid Chunk]"),f=!1;break}else ai(this.i,this.l,bt,null),Md(this,bt);if(Qv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),We!=4||x.length!=0||this.h.h||(this.s=1,Ze(16),f=!1),this.o=this.o&&f,!f)ai(this.i,this.l,x,"[Invalid Chunked Response]"),lr(this),Uo(this);else if(0<x.length&&!this.W){this.W=!0;var Ge=this.j;Ge.g==this&&Ge.ba&&!Ge.M&&(Ge.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Vd(Ge),Ge.M=!0,Ze(11))}}else ai(this.i,this.l,x,null),Md(this,x);We==4&&lr(this),this.o&&!this.J&&(We==4?w_(this.j,this):(this.o=!1,Pa(this)))}else hS(this.g),f==400&&0<x.indexOf("Unknown SID")?(this.s=3,Ze(12)):(this.s=0,Ze(13)),lr(this),Uo(this)}}}catch{}finally{}};function Qv(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function QA(a,d){var f=a.C,g=d.indexOf(`
`,f);return g==-1?Sd:(f=Number(d.substring(f,g)),isNaN(f)?Wv:(g+=1,g+f>d.length?Sd:(d=d.slice(g,g+f),a.C=g+f,d)))}Fn.prototype.cancel=function(){this.J=!0,lr(this)};function Pa(a){a.S=Date.now()+a.I,Yv(a,a.I)}function Yv(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=jo(y(a.ba,a),d)}function Rd(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Fn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(WA(this.i,this.A),this.L!=2&&(Lo(),Ze(17)),lr(this),this.s=2,Uo(this)):Yv(this,this.S-a)};function Uo(a){a.j.G==0||a.J||w_(a.j,a)}function lr(a){Rd(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Lv(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Md(a,d){try{var f=a.j;if(f.G!=0&&(f.g==a||Pd(f.h,a))){if(!a.K&&Pd(f.h,a)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)Ba(f),La(f);else break e;Fd(f),Ze(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=jo(y(f.Za,f),6e3));if(1>=Xv(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else hr(f,11)}else if((a.K||f.g==a)&&Ba(f),!V(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let ce=b[d];if(f.T=ce[0],ce=ce[1],f.G==2)if(ce[0]=="c"){f.K=ce[1],f.ia=ce[2];let Ge=ce[3];Ge!=null&&(f.la=Ge,f.j.info("VER="+f.la));let We=ce[4];We!=null&&(f.Aa=We,f.j.info("SVER="+f.Aa));let li=ce[5];li!=null&&typeof li=="number"&&0<li&&(g=1.5*li,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let bt=a.g;if(bt){let $a=bt.g?bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($a){var S=g.h;S.g||$a.indexOf("spdy")==-1&&$a.indexOf("quic")==-1&&$a.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(xd(S,S.h),S.h=null))}if(g.D){let Ld=bt.g?bt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ld&&(g.ya=Ld,ye(g.I,g.D,Ld))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var x=a;if(g.qa=b_(g,g.J?g.ia:null,g.W),x.K){e_(g.h,x);var pe=x,Be=g.L;Be&&(pe.I=Be),pe.B&&(Rd(pe),Pa(pe)),g.g=x}else I_(g);0<f.i.length&&ja(f)}else ce[0]!="stop"&&ce[0]!="close"||hr(f,7);else f.G==3&&(ce[0]=="stop"||ce[0]=="close"?ce[0]=="stop"?hr(f,7):Od(f):ce[0]!="noop"&&f.l&&f.l.ta(ce),f.v=0)}}Lo(4)}catch{}}var YA=class{constructor(a,d){this.g=a,this.map=d}};function Zv(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jv(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Xv(a){return a.h?1:a.g?a.g.size:0}function Pd(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function xd(a,d){a.g?a.g.add(d):a.h=d}function e_(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Zv.prototype.cancel=function(){if(this.i=t_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function t_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let f of a.g.values())d=d.concat(f.D);return d}return N(a.i)}function ZA(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],f=a.length,g=0;g<f;g++)d.push(a[g]);return d}d=[],f=0;for(g in a)d[f++]=a[g];return d}function JA(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var f=0;f<a;f++)d.push(f);return d}d=[],f=0;for(let g in a)d[f++]=g;return d}}}function n_(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var f=JA(a),g=ZA(a),b=g.length,S=0;S<b;S++)d.call(void 0,g[S],f&&f[S],a)}var r_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function XA(a,d){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var g=a[f].indexOf("="),b=null;if(0<=g){var S=a[f].substring(0,g);b=a[f].substring(g+1)}else S=a[f];d(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function dr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof dr){this.h=a.h,xa(this,a.j),this.o=a.o,this.g=a.g,ka(this,a.s),this.l=a.l;var d=a.i,f=new qo;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),i_(this,f),this.m=a.m}else a&&(d=String(a).match(r_))?(this.h=!1,xa(this,d[1]||"",!0),this.o=$o(d[2]||""),this.g=$o(d[3]||"",!0),ka(this,d[4]),this.l=$o(d[5]||"",!0),i_(this,d[6]||"",!0),this.m=$o(d[7]||"")):(this.h=!1,this.i=new qo(null,this.h))}dr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Ho(d,o_,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Ho(d,o_,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(Ho(f,f.charAt(0)=="/"?nS:tS,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",Ho(f,iS)),a.join("")};function an(a){return new dr(a)}function xa(a,d,f){a.j=f?$o(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function ka(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function i_(a,d,f){d instanceof qo?(a.i=d,oS(a.i,a.h)):(f||(d=Ho(d,rS)),a.i=new qo(d,a.h))}function ye(a,d,f){a.i.set(d,f)}function Oa(a){return ye(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function $o(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ho(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,eS),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function eS(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var o_=/[#\/\?@]/g,tS=/[#\?:]/g,nS=/[#\?]/g,rS=/[#\?@]/g,iS=/#/g;function qo(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Vn(a){a.g||(a.g=new Map,a.h=0,a.i&&XA(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=qo.prototype,t.add=function(a,d){Vn(this),this.i=null,a=ci(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function s_(a,d){Vn(a),d=ci(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function a_(a,d){return Vn(a),d=ci(a,d),a.g.has(d)}t.forEach=function(a,d){Vn(this),this.g.forEach(function(f,g){f.forEach(function(b){a.call(d,b,g,this)},this)},this)},t.na=function(){Vn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=a[g];for(let S=0;S<b.length;S++)f.push(d[g])}return f},t.V=function(a){Vn(this);let d=[];if(typeof a=="string")a_(this,a)&&(d=d.concat(this.g.get(ci(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)d=d.concat(a[f])}return d},t.set=function(a,d){return Vn(this),this.i=null,a=ci(this,a),a_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function c_(a,d,f){s_(a,d),0<f.length&&(a.i=null,a.g.set(ci(a,d),N(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let S=encodeURIComponent(String(g)),x=this.V(g);for(g=0;g<x.length;g++){var b=S;x[g]!==""&&(b+="="+encodeURIComponent(String(x[g]))),a.push(b)}}return this.i=a.join("&")};function ci(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function oS(a,d){d&&!a.j&&(Vn(a),a.i=null,a.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(s_(this,g),c_(this,b,f))},a)),a.j=d}function sS(a,d){let f=new Bo;if(c.Image){let g=new Image;g.onload=m(Ln,f,"TestLoadImage: loaded",!0,d,g),g.onerror=m(Ln,f,"TestLoadImage: error",!1,d,g),g.onabort=m(Ln,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=m(Ln,f,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function aS(a,d){let f=new Bo,g=new AbortController,b=setTimeout(()=>{g.abort(),Ln(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(S=>{clearTimeout(b),S.ok?Ln(f,"TestPingServer: ok",!0,d):Ln(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Ln(f,"TestPingServer: error",!1,d)})}function Ln(a,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function cS(){this.g=new qA}function uS(a,d,f){let g=f||"";try{n_(a,function(b,S){let x=b;l(b)&&(x=Dd(b)),d.push(g+S+"="+encodeURIComponent(x))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function zo(a){this.l=a.Ub||null,this.j=a.eb||!1}C(zo,Td),zo.prototype.g=function(){return new Fa(this.l,this.j)},zo.prototype.i=function(a){return function(){return a}}({});function Fa(a,d){ze.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Fa,ze),t=Fa.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Wo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Go(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Wo(this)),this.g&&(this.readyState=3,Wo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;u_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function u_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Go(this):Wo(this),this.readyState==3&&u_(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Go(this))},t.Qa=function(a){this.g&&(this.response=a,Go(this))},t.ga=function(){this.g&&Go(this)};function Go(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Wo(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function Wo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function l_(a){let d="";return he(a,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function kd(a,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=l_(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):ye(a,d,f))}function Te(a){ze.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Te,ze);var lS=/^https?$/i,dS=["POST","PUT"];t=Te.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ad.g(),this.v=this.o?jv(this.o):jv(Ad),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){d_(this,S);return}if(a=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())f.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),b=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(dS,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,x]of f)this.g.setRequestHeader(S,x);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{p_(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){d_(this,S)}};function d_(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,h_(a),Va(a)}function h_(a){a.A||(a.A=!0,Ye(a,"complete"),Ye(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Ye(this,"complete"),Ye(this,"abort"),Va(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Va(this,!0)),Te.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?f_(this):this.bb())},t.bb=function(){f_(this)};function f_(a){if(a.h&&typeof s<"u"&&(!a.v[1]||cn(a)!=4||a.Z()!=2)){if(a.u&&cn(a)==4)Ov(a.Ea,0,a);else if(Ye(a,"readystatechange"),cn(a)==4){a.h=!1;try{let x=a.Z();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=x===0){var b=String(a.D).match(r_)[1]||null;!b&&c.self&&c.self.location&&(b=c.self.location.protocol.slice(0,-1)),g=!lS.test(b?b.toLowerCase():"")}f=g}if(f)Ye(a,"complete"),Ye(a,"success");else{a.m=6;try{var S=2<cn(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",h_(a)}}finally{Va(a)}}}}function Va(a,d){if(a.g){p_(a);let f=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||Ye(a,"ready");try{f.onreadystatechange=g}catch{}}}function p_(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function cn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<cn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),HA(d)}};function g_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function hS(a){let d={};a=(a.g&&2<=cn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(V(a[g]))continue;var f=T(a[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[b]||[];d[b]=S,S.push(f)}D(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ko(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function m_(a){this.Aa=0,this.i=[],this.j=new Bo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ko("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ko("baseRetryDelayMs",5e3,a),this.cb=Ko("retryDelaySeedMs",1e4,a),this.Wa=Ko("forwardChannelMaxRetries",2,a),this.wa=Ko("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Zv(a&&a.concurrentRequestLimit),this.Da=new cS,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=m_.prototype,t.la=8,t.G=1,t.connect=function(a,d,f,g){Ze(0),this.W=a,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=b_(this,null,this.W),ja(this)};function Od(a){if(y_(a),a.G==3){var d=a.U++,f=an(a.I);if(ye(f,"SID",a.K),ye(f,"RID",d),ye(f,"TYPE","terminate"),Qo(a,f),d=new Fn(a,a.j,d),d.L=2,d.v=Oa(an(f)),f=!1,c.navigator&&c.navigator.sendBeacon)try{f=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&c.Image&&(new Image().src=d.v,f=!0),f||(d.g=C_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Pa(d)}T_(a)}function La(a){a.g&&(Vd(a),a.g.cancel(),a.g=null)}function y_(a){La(a),a.u&&(c.clearTimeout(a.u),a.u=null),Ba(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function ja(a){if(!Jv(a.h)&&!a.s){a.s=!0;var d=a.Ga;Po||Nv(),xo||(Po(),xo=!0),pd.add(d,a),a.B=0}}function fS(a,d){return Xv(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=jo(y(a.Ga,a,d),D_(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let b=new Fn(this,this.j,a),S=this.o;if(this.S&&(S?(S=v(S),w(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=__(this,b,d),f=an(this.I),ye(f,"RID",a),ye(f,"CVER",22),this.D&&ye(f,"X-HTTP-Session-Id",this.D),Qo(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(l_(S)))+"&"+d:this.m&&kd(f,this.m,S)),xd(this.h,b),this.Ua&&ye(f,"TYPE","init"),this.P?(ye(f,"$req",d),ye(f,"SID","null"),b.T=!0,Nd(b,f,null)):Nd(b,f,d),this.G=2}}else this.G==3&&(a?v_(this,a):this.i.length==0||Jv(this.h)||v_(this))};function v_(a,d){var f;d?f=d.l:f=a.U++;let g=an(a.I);ye(g,"SID",a.K),ye(g,"RID",f),ye(g,"AID",a.T),Qo(a,g),a.m&&a.o&&kd(g,a.m,a.o),f=new Fn(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),d&&(a.i=d.D.concat(a.i)),d=__(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),xd(a.h,f),Nd(f,g,d)}function Qo(a,d){a.H&&he(a.H,function(f,g){ye(d,g,f)}),a.l&&n_({},function(f,g){ye(d,g,f)})}function __(a,d,f){f=Math.min(a.i.length,f);var g=a.l?y(a.l.Na,a.l,a):null;e:{var b=a.i;let S=-1;for(;;){let x=["count="+f];S==-1?0<f?(S=b[0].g,x.push("ofs="+S)):S=0:x.push("ofs="+S);let pe=!0;for(let Be=0;Be<f;Be++){let ce=b[Be].g,Ge=b[Be].map;if(ce-=S,0>ce)S=Math.max(0,b[Be].g-100),pe=!1;else try{uS(Ge,x,"req"+ce+"_")}catch{g&&g(Ge)}}if(pe){g=x.join("&");break e}}}return a=a.i.splice(0,f),d.D=a,g}function I_(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Po||Nv(),xo||(Po(),xo=!0),pd.add(d,a),a.v=0}}function Fd(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=jo(y(a.Fa,a),D_(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,E_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=jo(y(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ze(10),La(this),E_(this))};function Vd(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function E_(a){a.g=new Fn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=an(a.qa);ye(d,"RID","rpc"),ye(d,"SID",a.K),ye(d,"AID",a.T),ye(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&ye(d,"TO",a.ja),ye(d,"TYPE","xmlhttp"),Qo(a,d),a.m&&a.o&&kd(d,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=Oa(an(d)),f.m=null,f.P=!0,Kv(f,a)}t.Za=function(){this.C!=null&&(this.C=null,La(this),Fd(this),Ze(19))};function Ba(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function w_(a,d){var f=null;if(a.g==d){Ba(a),Vd(a),a.g=null;var g=2}else if(Pd(a.h,d))f=d.D,e_(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=a.B;g=Na(),Ye(g,new qv(g,f)),ja(a)}else I_(a);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&fS(a,d)||g==2&&Fd(a)))switch(f&&0<f.length&&(d=a.h,d.i=d.i.concat(f)),b){case 1:hr(a,5);break;case 4:hr(a,10);break;case 3:hr(a,6);break;default:hr(a,2)}}}function D_(a,d){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*d}function hr(a,d){if(a.j.info("Error code "+d),d==2){var f=y(a.fb,a),g=a.Xa;let b=!g;g=new dr(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||xa(g,"https"),Oa(g),b?sS(g.toString(),f):aS(g.toString(),f)}else Ze(2);a.G=0,a.l&&a.l.sa(d),T_(a),y_(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Ze(2)):(this.j.info("Failed to ping google.com"),Ze(1))};function T_(a){if(a.G=0,a.ka=[],a.l){let d=t_(a.h);(d.length!=0||a.i.length!=0)&&(M(a.ka,d),M(a.ka,a.i),a.h.i.length=0,N(a.i),a.i.length=0),a.l.ra()}}function b_(a,d,f){var g=f instanceof dr?an(f):new dr(f);if(g.g!="")d&&(g.g=d+"."+g.g),ka(g,g.s);else{var b=c.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var S=new dr(null);g&&xa(S,g),d&&(S.g=d),b&&ka(S,b),f&&(S.l=f),g=S}return f=a.D,d=a.ya,f&&d&&ye(g,f,d),ye(g,"VER",a.la),Qo(a,g),g}function C_(a,d,f){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Te(new zo({eb:f})):new Te(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function A_(){}t=A_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ua(){}Ua.prototype.g=function(a,d){return new lt(a,d)};function lt(a,d){ze.call(this),this.g=new m_(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!V(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!V(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new ui(this)}C(lt,ze),lt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},lt.prototype.close=function(){Od(this.g)},lt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=Dd(a),a=f);d.i.push(new YA(d.Ya++,a)),d.G==3&&ja(d)},lt.prototype.N=function(){this.g.l=null,delete this.j,Od(this.g),delete this.g,lt.aa.N.call(this)};function S_(a){bd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}C(S_,bd);function N_(){Cd.call(this),this.status=1}C(N_,Cd);function ui(a){this.g=a}C(ui,A_),ui.prototype.ua=function(){Ye(this.g,"a")},ui.prototype.ta=function(a){Ye(this.g,new S_(a))},ui.prototype.sa=function(a){Ye(this.g,new N_)},ui.prototype.ra=function(){Ye(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,lt.prototype.send=lt.prototype.o,lt.prototype.open=lt.prototype.m,lt.prototype.close=lt.prototype.close,cm=An.createWebChannelTransport=function(){return new Ua},am=An.getStatEventTarget=function(){return Na()},sm=An.Event=ur,wl=An.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ra.NO_ERROR=0,Ra.TIMEOUT=8,Ra.HTTP_ERROR=6,na=An.ErrorCode=Ra,zv.COMPLETE="complete",om=An.EventType=zv,Bv.EventType=Vo,Vo.OPEN="a",Vo.CLOSE="b",Vo.ERROR="c",Vo.MESSAGE="d",ze.prototype.listen=ze.prototype.K,io=An.WebChannel=Bv,rj=An.FetchXmlHttpFactory=zo,Te.prototype.listenOnce=Te.prototype.L,Te.prototype.getLastError=Te.prototype.Ka,Te.prototype.getLastErrorCode=Te.prototype.Ba,Te.prototype.getStatus=Te.prototype.Z,Te.prototype.getResponseJson=Te.prototype.Oa,Te.prototype.getResponseText=Te.prototype.oa,Te.prototype.send=Te.prototype.ea,Te.prototype.setWithCredentials=Te.prototype.Ha,im=An.XhrIo=Te}).apply(typeof El<"u"?El:typeof self<"u"?self:typeof window<"u"?window:{});var oC="@firebase/firestore",sC="4.7.14";var Le=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Le.UNAUTHENTICATED=new Le(null),Le.GOOGLE_CREDENTIALS=new Le("google-credentials-uid"),Le.FIRST_PARTY=new Le("first-party-uid"),Le.MOCK_USER=new Le("mock-user");var Ao="11.7.3";var Qr=new Qt("@firebase/firestore");function oo(){return Qr.logLevel}function O(t,...e){if(Qr.logLevel<=te.DEBUG){let n=e.map(nv);Qr.debug(`Firestore (${Ao}): ${t}`,...n)}}function Nn(t,...e){if(Qr.logLevel<=te.ERROR){let n=e.map(nv);Qr.error(`Firestore (${Ao}): ${t}`,...n)}}function po(t,...e){if(Qr.logLevel<=te.WARN){let n=e.map(nv);Qr.warn(`Firestore (${Ao}): ${t}`,...n)}}function nv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function B(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,ZC(t,r,n)}function ZC(t,e,n){let r=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Nn(r),new Error(r)}function de(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||ZC(e,i,r)}function q(t,e){return t}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=class extends yt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var en=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Nl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},fm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Le.UNAUTHENTICATED))}shutdown(){}},pm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},gm=class{constructor(e){this.t=e,this.currentUser=Le.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){de(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new en;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new en,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new en)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(de(typeof r.accessToken=="string",31837,{l:r}),new Nl(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return de(e===null||typeof e=="string",2055,{h:e}),new Le(e)}},mm=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Le.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},ym=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new mm(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Le.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Rl=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},vm=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ut(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){de(this.o===void 0,3512);let r=o=>{o.error!=null&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,O("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Rl(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(de(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Rl(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function ij(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function JC(){return new TextEncoder}var Ml=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=ij(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function Y(t,e){return t<e?-1:t>e?1:0}function _m(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Y(r,i);{let o=JC(),s=oj(o.encode(aC(t,n)),o.encode(aC(e,n)));return s!==0?s:Y(r,i)}}n+=r>65535?2:1}return Y(t.length,e.length)}function aC(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function oj(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Y(t[n],e[n]);return Y(t.length,e.length)}function go(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var cC=-62135596800,uC=1e6,He=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*uC);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<cC)throw new F(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uC}_compareTo(e){return this.seconds===e.seconds?Y(this.nanoseconds,e.nanoseconds):Y(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-cC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var K=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new He(0,0))}static max(){return new t(new He(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var lC="__name__",Pl=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&B(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&B(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Y(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):_m(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cn.fromString(e.substring(4,e.length-2))}},De=class t extends Pl{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new F(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},sj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,vt=class t extends Pl{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return sj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lC}static keyField(){return new t([lC])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new F(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new F(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new F(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var j=class t{constructor(e){this.path=e}static fromPath(e){return new t(De.fromString(e))}static fromName(e){return new t(De.fromString(e).popFirst(5))}static empty(){return new t(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return De.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new De(e.slice()))}};var ca=-1,Im=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Im.UNKNOWN_ID=-1;function aj(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=K.fromTimestamp(r===1e9?new He(n+1,0):new He(n,r));return new Yr(i,j.empty(),e)}function cj(t){return new Yr(t.readTime,t.key,ca)}var Yr=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(K.min(),j.empty(),ca)}static max(){return new t(K.max(),j.empty(),ca)}};function uj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=j.comparator(t.documentKey,e.documentKey),n!==0?n:Y(t.largestBatchId,e.largestBatchId))}var lj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Em=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function So(t){return _(this,null,function*(){if(t.code!==R.FAILED_PRECONDITION||t.message!==lj)throw t;O("LocalStore","Unexpectedly lost primary lease")})}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&B(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++c,c===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function dj(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function No(t){return t.name==="IndexedDbTransactionError"}var rv=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ce&&this.ce(n),n}}t.le=-1;return t})(),iv=-1;function sd(t){return t==null}function ua(t){return t===0&&1/t==-1/0}function hj(t){return typeof t=="number"&&Number.isInteger(t)&&!ua(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var XC="";function fj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=dC(e)),e=pj(t.get(n),e);return dC(e)}function pj(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case XC:n+="";break;default:n+=o}}return n}function dC(t){return t+XC+""}var gj="remoteDocuments",e0="owner";var t0="mutationQueues";var n0="mutations";var r0="documentMutations",mj="remoteDocumentsV14";var i0="remoteDocumentGlobal";var o0="targets";var s0="targetDocuments";var a0="targetGlobal",c0="collectionParents";var u0="clientMetadata";var l0="bundles";var d0="namedQueries";var yj="indexConfiguration";var vj="indexState";var _j="indexEntries";var h0="documentOverlays";var Ij="globals";var Ej=[t0,n0,r0,gj,o0,e0,a0,s0,u0,i0,c0,l0,d0],UW=[...Ej,h0],wj=[t0,n0,r0,mj,o0,e0,a0,s0,u0,i0,c0,l0,d0,h0],Dj=wj,Tj=[...Dj,yj,vj,_j];var $W=[...Tj,Ij];function hC(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oi(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function f0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ce=class t{constructor(e,n){this.comparator=e,this.root=n||tn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uo(this.root,e,this.comparator,!1)}getReverseIterator(){return new uo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uo(this.root,e,this.comparator,!0)}},uo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},tn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw B(43730,{key:this.key,value:this.value});if(this.right.isRed())throw B(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw B(27949);return e+(this.isRed()?0:1)}};tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw B(57766)}get value(){throw B(16141)}get color(){throw B(16727)}get left(){throw B(29726)}get right(){throw B(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var je=class t{constructor(e){this.comparator=e,this.data=new Ce(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xl(this.data.getIterator())}getIteratorFrom(e){return new xl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},xl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Xt=class t{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new t([])}unionWith(e){let n=new je(vt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var kl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Qe=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new kl("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Y(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Qe.EMPTY_BYTE_STRING=new Qe("");var bj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rn(t){if(de(!!t,39018),typeof t=="string"){let e=0,n=bj.exec(t);if(de(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_e(t.seconds),nanos:_e(t.nanos)}}function _e(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mn(t){return typeof t=="string"?Qe.fromBase64String(t):Qe.fromUint8Array(t)}var p0="server_timestamp",g0="__type__",m0="__previous_value__",y0="__local_write_time__";function ov(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[g0])===null||n===void 0?void 0:n.stringValue)===p0}function ad(t){let e=t.mapValue.fields[m0];return ov(e)?ad(e):e}function la(t){let e=Rn(t.mapValue.fields[y0].timestampValue);return new He(e.seconds,e.nanos)}var wm=class{constructor(e,n,r,i,o,s,c,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},Ol="(default)",Fl=class t{constructor(e,n){this.projectId=e,this.database=n||Ol}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Ol}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var sv="__type__",v0="__max__",Dl={mapValue:{fields:{__type__:{stringValue:v0}}}},av="__vector__",mo="value";function sr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ov(t)?4:I0(t)?9007199254740991:_0(t)?10:11:B(28295,{value:t})}function on(t,e){if(t===e)return!0;let n=sr(t);if(n!==sr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return la(t).isEqual(la(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Rn(i.timestampValue),c=Rn(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Mn(i.bytesValue).isEqual(Mn(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return _e(i.geoPointValue.latitude)===_e(o.geoPointValue.latitude)&&_e(i.geoPointValue.longitude)===_e(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return _e(i.integerValue)===_e(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=_e(i.doubleValue),c=_e(o.doubleValue);return s===c?ua(s)===ua(c):isNaN(s)&&isNaN(c)}return!1}(t,e);case 9:return go(t.arrayValue.values||[],e.arrayValue.values||[],on);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(hC(s)!==hC(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!on(s[u],c[u])))return!1;return!0}(t,e);default:return B(52216,{left:t})}}function da(t,e){return(t.values||[]).find(n=>on(n,e))!==void 0}function yo(t,e){if(t===e)return 0;let n=sr(t),r=sr(e);if(n!==r)return Y(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Y(t.booleanValue,e.booleanValue);case 2:return function(o,s){let c=_e(o.integerValue||o.doubleValue),u=_e(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return fC(t.timestampValue,e.timestampValue);case 4:return fC(la(t),la(e));case 5:return _m(t.stringValue,e.stringValue);case 6:return function(o,s){let c=Mn(o),u=Mn(s);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let h=Y(c[l],u[l]);if(h!==0)return h}return Y(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let c=Y(_e(o.latitude),_e(s.latitude));return c!==0?c:Y(_e(o.longitude),_e(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return pC(t.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,l,h;let p=o.fields||{},y=s.fields||{},m=(c=p[mo])===null||c===void 0?void 0:c.arrayValue,C=(u=y[mo])===null||u===void 0?void 0:u.arrayValue,N=Y(((l=m?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:pC(m,C)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Dl.mapValue&&s===Dl.mapValue)return 0;if(o===Dl.mapValue)return 1;if(s===Dl.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let y=_m(u[p],h[p]);if(y!==0)return y;let m=yo(c[u[p]],l[h[p]]);if(m!==0)return m}return Y(u.length,h.length)}(t.mapValue,e.mapValue);default:throw B(23264,{Pe:n})}}function fC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Y(t,e);let n=Rn(t),r=Rn(e),i=Y(n.seconds,r.seconds);return i!==0?i:Y(n.nanos,r.nanos)}function pC(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=yo(n[i],r[i]);if(o)return o}return Y(n.length,r.length)}function vo(t){return Dm(t)}function Dm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Rn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Mn(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return j.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Dm(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Dm(n.fields[s])}`;return i+"}"}(t.mapValue):B(61005,{value:t})}function Cl(t){switch(sr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=ad(t);return e?16+Cl(e):16;case 5:return 2*t.stringValue.length;case 6:return Mn(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Cl(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return oi(r.fields,(o,s)=>{i+=o.length+Cl(s)}),i}(t.mapValue);default:throw B(13486,{value:t})}}function gC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Tm(t){return!!t&&"integerValue"in t}function cv(t){return!!t&&"arrayValue"in t}function mC(t){return!!t&&"nullValue"in t}function yC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Al(t){return!!t&&"mapValue"in t}function _0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[sv])===null||n===void 0?void 0:n.stringValue)===av}function ia(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return oi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ia(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ia(t.arrayValue.values[n]);return e}return Object.assign({},t)}function I0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===v0}var qW={mapValue:{fields:{[sv]:{stringValue:av},[mo]:{arrayValue:{}}}}};var Ot=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Al(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ia(n)}setAll(e){let n=vt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=ia(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Al(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return on(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Al(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){oi(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(ia(this.value))}};function E0(t){let e=[];return oi(t.fields,(n,r)=>{let i=new vt([n]);if(Al(r)){let o=E0(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Xt(e)}var Ft=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,K.min(),K.min(),K.min(),Ot.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,K.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,K.min(),K.min(),Ot.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,K.min(),K.min(),Ot.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(K.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ot.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ot.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=K.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var _o=class{constructor(e,n){this.position=e,this.inclusive=n}};function vC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=j.comparator(j.fromName(s.referenceValue),n.key):r=yo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function _C(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!on(t.position[n],e.position[n]))return!1;return!0}var Io=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Cj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Vl=class{},Pe=class t extends Vl{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Cm(e,n,r):n==="array-contains"?new Nm(e,r):n==="in"?new Rm(e,r):n==="not-in"?new Mm(e,r):n==="array-contains-any"?new Pm(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Am(e,r):new Sm(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yo(n,this.value)):n!==null&&sr(this.value)===sr(n)&&this.matchesComparison(yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return B(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Vt=class t extends Vl{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new t(e,n)}matches(e){return w0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function w0(t){return t.op==="and"}function D0(t){return Aj(t)&&w0(t)}function Aj(t){for(let e of t.filters)if(e instanceof Vt)return!1;return!0}function bm(t){if(t instanceof Pe)return t.field.canonicalString()+t.op.toString()+vo(t.value);if(D0(t))return t.filters.map(e=>bm(e)).join(",");{let e=t.filters.map(n=>bm(n)).join(",");return`${t.op}(${e})`}}function T0(t,e){return t instanceof Pe?function(r,i){return i instanceof Pe&&r.op===i.op&&r.field.isEqual(i.field)&&on(r.value,i.value)}(t,e):t instanceof Vt?function(r,i){return i instanceof Vt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&T0(s,i.filters[c]),!0):!1}(t,e):void B(19439)}function b0(t){return t instanceof Pe?function(n){return`${n.field.canonicalString()} ${n.op} ${vo(n.value)}`}(t):t instanceof Vt?function(n){return n.op.toString()+" {"+n.getFilters().map(b0).join(" ,")+"}"}(t):"Filter"}var Cm=class extends Pe{constructor(e,n,r){super(e,n,r),this.key=j.fromName(r.referenceValue)}matches(e){let n=j.comparator(e.key,this.key);return this.matchesComparison(n)}},Am=class extends Pe{constructor(e,n){super(e,"in",n),this.keys=C0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Sm=class extends Pe{constructor(e,n){super(e,"not-in",n),this.keys=C0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function C0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>j.fromName(r.referenceValue))}var Nm=class extends Pe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return cv(n)&&da(n.arrayValue,this.value)}},Rm=class extends Pe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&da(this.value.arrayValue,n)}},Mm=class extends Pe{constructor(e,n){super(e,"not-in",n)}matches(e){if(da(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!da(this.value.arrayValue,n)}},Pm=class extends Pe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!cv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>da(this.value.arrayValue,r))}};var xm=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Ie=null}};function IC(t,e=null,n=[],r=[],i=null,o=null,s=null){return new xm(t,e,n,r,i,o,s)}function uv(t){let e=q(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>bm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),sd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vo(r)).join(",")),e.Ie=n}return e.Ie}function lv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Cj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!T0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_C(t.startAt,e.startAt)&&_C(t.endAt,e.endAt)}function km(t){return j.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Zr=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function Sj(t,e,n,r,i,o,s,c){return new Zr(t,e,n,r,i,o,s,c)}function A0(t){return new Zr(t)}function EC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function S0(t){return t.collectionGroup!==null}function oa(t){let e=q(t);if(e.Ee===null){e.Ee=[];let n=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new je(vt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Io(o,r))}),n.has(vt.keyField().canonicalString())||e.Ee.push(new Io(vt.keyField(),r))}return e.Ee}function nn(t){let e=q(t);return e.de||(e.de=Nj(e,oa(t))),e.de}function Nj(t,e){if(t.limitType==="F")return IC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Io(i.field,o)});let n=t.endAt?new _o(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _o(t.startAt.position,t.startAt.inclusive):null;return IC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Om(t,e){let n=t.filters.concat([e]);return new Zr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Fm(t,e,n){return new Zr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cd(t,e){return lv(nn(t),nn(e))&&t.limitType===e.limitType}function N0(t){return`${uv(nn(t))}|lt:${t.limitType}`}function so(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>b0(i)).join(", ")}]`),sd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>vo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>vo(i)).join(",")),`Target(${r})`}(nn(t))}; limitType=${t.limitType})`}function ud(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):j.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of oa(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let l=vC(s,c,u);return s.inclusive?l<=0:l<0}(r.startAt,oa(r),i)||r.endAt&&!function(s,c,u){let l=vC(s,c,u);return s.inclusive?l>=0:l>0}(r.endAt,oa(r),i))}(t,e)}function Rj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function R0(t){return(e,n)=>{let r=!1;for(let i of oa(t)){let o=Mj(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Mj(t,e,n){let r=t.field.isKeyField()?j.comparator(e.key,n.key):function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?yo(u,l):B(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return B(19790,{direction:t.dir})}}var Pn=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){oi(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return f0(this.inner)}size(){return this.innerSize}};var Pj=new Ce(j.comparator);function xn(){return Pj}var M0=new Ce(j.comparator);function ra(...t){let e=M0;for(let n of t)e=e.insert(n.key,n);return e}function P0(t){let e=M0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wr(){return sa()}function x0(){return sa()}function sa(){return new Pn(t=>t.toString(),(t,e)=>t.isEqual(e))}var xj=new Ce(j.comparator),kj=new je(j.comparator);function oe(...t){let e=kj;for(let n of t)e=e.add(n);return e}var Oj=new je(Y);function Fj(){return Oj}function dv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ua(e)?"-0":e}}function k0(t){return{integerValue:""+t}}function Vj(t,e){return hj(e)?k0(e):dv(t,e)}var Eo=class{constructor(){this._=void 0}};function Lj(t,e,n){return t instanceof Jr?function(i,o){let s={fields:{[g0]:{stringValue:p0},[y0]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ov(o)&&(o=ad(o)),o&&(s.fields[m0]=o),{mapValue:s}}(n,e):t instanceof Xr?F0(t,e):t instanceof ei?V0(t,e):function(i,o){let s=O0(i,o),c=wC(s)+wC(i.Re);return Tm(s)&&Tm(i.Re)?k0(c):dv(i.serializer,c)}(t,e)}function jj(t,e,n){return t instanceof Xr?F0(t,e):t instanceof ei?V0(t,e):n}function O0(t,e){return t instanceof wo?function(r){return Tm(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Jr=class extends Eo{},Xr=class extends Eo{constructor(e){super(),this.elements=e}};function F0(t,e){let n=L0(e);for(let r of t.elements)n.some(i=>on(i,r))||n.push(r);return{arrayValue:{values:n}}}var ei=class extends Eo{constructor(e){super(),this.elements=e}};function V0(t,e){let n=L0(e);for(let r of t.elements)n=n.filter(i=>!on(i,r));return{arrayValue:{values:n}}}var wo=class extends Eo{constructor(e,n){super(),this.serializer=e,this.Re=n}};function wC(t){return _e(t.integerValue||t.doubleValue)}function L0(t){return cv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Vm=class{constructor(e,n){this.field=e,this.transform=n}};function Bj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Xr&&i instanceof Xr||r instanceof ei&&i instanceof ei?go(r.elements,i.elements,on):r instanceof wo&&i instanceof wo?on(r.Re,i.Re):r instanceof Jr&&i instanceof Jr}(t.transform,e.transform)}var Lm=class{constructor(e,n){this.version=e,this.transformResults=n}},Sn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Sl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Do=class{};function j0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ha(t.key,Sn.none()):new ti(t.key,t.data,Sn.none());{let n=t.data,r=Ot.empty(),i=new je(vt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new kn(t.key,r,new Xt(i.toArray()),Sn.none())}}function Uj(t,e,n){t instanceof ti?function(i,o,s){let c=i.value.clone(),u=TC(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):t instanceof kn?function(i,o,s){if(!Sl(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=TC(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(B0(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function aa(t,e,n,r){return t instanceof ti?function(o,s,c,u){if(!Sl(o.precondition,s))return c;let l=o.value.clone(),h=bC(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof kn?function(o,s,c,u){if(!Sl(o.precondition,s))return c;let l=bC(o.fieldTransforms,u,s),h=s.data;return h.setAll(B0(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,c){return Sl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(t,e,n)}function $j(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=O0(r.transform,i||null);o!=null&&(n===null&&(n=Ot.empty()),n.set(r.field,o))}return n||null}function DC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&go(r,i,(o,s)=>Bj(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ti=class extends Do{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},kn=class extends Do{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function B0(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function TC(t,e,n){let r=new Map;de(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,jj(s,c,n[i]))}return r}function bC(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,Lj(o,s,e))}return r}var ha=class extends Do{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},jm=class extends Do{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Bm=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Uj(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=aa(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=aa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=x0();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=j0(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(K.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,(n,r)=>DC(n,r))&&go(this.baseMutations,e.baseMutations,(n,r)=>DC(n,r))}},Um=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){de(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return xj}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var $m=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Hm=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Re,ae;function Hj(t){switch(t){case R.OK:return B(64938);case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0;default:return B(15467,{code:t})}}function U0(t){if(t===void 0)return Nn("GRPC error has no .code"),R.UNKNOWN;switch(t){case Re.OK:return R.OK;case Re.CANCELLED:return R.CANCELLED;case Re.UNKNOWN:return R.UNKNOWN;case Re.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Re.INTERNAL:return R.INTERNAL;case Re.UNAVAILABLE:return R.UNAVAILABLE;case Re.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Re.NOT_FOUND:return R.NOT_FOUND;case Re.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Re.ABORTED:return R.ABORTED;case Re.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Re.DATA_LOSS:return R.DATA_LOSS;default:return B(39323,{code:t})}}(ae=Re||(Re={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";var CC=null;var qj=new Cn([4294967295,4294967295],0);function AC(t){let e=JC().encode(t),n=new rm;return n.update(e),new Uint8Array(n.digest())}function SC(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Cn([n,r],0),new Cn([i,o],0)]}var qm=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kr(`Invalid padding: ${n}`);if(r<0)throw new Kr(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kr(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kr(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Cn.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Cn.fromNumber(r)));return i.compare(qj)===1&&(i=new Cn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let n=AC(e),[r,i]=SC(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.pe===0)return;let n=AC(e),[r,i]=SC(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Kr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ll=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,fa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(K.min(),i,new Ce(Y),xn(),oe())}},fa=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,oe(),oe(),oe())}};var ho=class{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}},jl=class{constructor(e,n){this.targetId=e,this.Ce=n}},Bl=class{constructor(e,n,r=Qe.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Ul=class{constructor(){this.Fe=0,this.Me=NC(),this.xe=Qe.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=oe(),n=oe(),r=oe();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:B(38017,{changeType:o})}}),new fa(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=NC()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,de(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},zm=class{constructor(e){this.ze=e,this.je=new Map,this.He=xn(),this.Je=Tl(),this.Ye=Tl(),this.Ze=new Ce(Y)}Xe(e){for(let n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(let n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{let r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:B(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){let n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){let o=i.target;if(km(o))if(r===0){let s=new j(o.path);this.tt(n,s,Ft.newNoDocument(s,K.min()))}else de(r===1,20013,{expectedCount:r});else{let s=this.ut(n);if(s!==r){let c=this.ct(e),u=c?this.lt(c,e,s):1;if(u!==0){this.st(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,l)}CC?.ht(function(h,p,y,m,C){var N,M,k,V,$,ue;let Fe={localCacheCount:h,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},he=p.unchangedNames;return he&&(Fe.bloomFilter={applied:C===0,hashCount:(N=he?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(V=(k=(M=he?.bits)===null||M===void 0?void 0:M.bitmap)===null||k===void 0?void 0:k.length)!==null&&V!==void 0?V:0,padding:(ue=($=he?.bits)===null||$===void 0?void 0:$.padding)!==null&&ue!==void 0?ue:0,mightContain:D=>{var v;return(v=m?.mightContain(D))!==null&&v!==void 0&&v}}),Fe}(s,e.Ce,this.ze.Pt(),c,u))}}}}ct(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,c;try{s=Mn(r).toUint8Array()}catch(u){if(u instanceof kl)return po("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new qm(s,i,o)}catch(u){return po(u instanceof Kr?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.pe===0?null:c}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){let r=this.ze.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.ze.Pt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.tt(n,o,null),i++)}),i}It(e){let n=new Map;this.je.forEach((o,s)=>{let c=this._t(s);if(c){if(o.current&&km(c.target)){let u=new j(c.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,Ft.newNoDocument(u,e))}o.Le&&(n.set(s,o.qe()),o.Qe())}});let r=oe();this.Ye.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this._t(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new Ll(e,n,this.Ze,this.He,r);return this.He=xn(),this.Je=Tl(),this.Ye=Tl(),this.Ze=new Ce(Y),i}et(e,n){if(!this.it(e))return;let r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){let n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Ul,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new je(Y),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new je(Y),this.Je=this.Je.insert(e,n)),n}it(e){let n=this._t(e)!==null;return n||O("WatchChangeAggregator","Detected inactive target",e),n}_t(e){let n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Ul),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}};function Tl(){return new Ce(j.comparator)}function NC(){return new Ce(j.comparator)}var zj={asc:"ASCENDING",desc:"DESCENDING"},Gj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wj={and:"AND",or:"OR"},Gm=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Wm(t,e){return t.useProto3Json||sd(e)?e:{value:e}}function $l(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Kj(t,e){return $l(t,e.toTimestamp())}function rn(t){return de(!!t,49232),K.fromTimestamp(function(n){let r=Rn(n);return new He(r.seconds,r.nanos)}(t))}function hv(t,e){return Km(t,e).canonicalString()}function Km(t,e){let n=function(i){return new De(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function H0(t){let e=De.fromString(t);return de(K0(e),10190,{key:e.toString()}),e}function Qm(t,e){return hv(t.databaseId,e.path)}function um(t,e){let n=H0(e);if(n.get(1)!==t.databaseId.projectId)throw new F(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new j(z0(n))}function q0(t,e){return hv(t.databaseId,e)}function Qj(t){let e=H0(t);return e.length===4?De.emptyPath():z0(e)}function Ym(t){return new De(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function z0(t){return de(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function RC(t,e,n){return{name:Qm(t,e),fields:n.value.mapValue.fields}}function Yj(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:B(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(de(h===void 0||typeof h=="string",58123),Qe.fromBase64String(h||"")):(de(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Qe.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(l){let h=l.code===void 0?R.UNKNOWN:U0(l.code);return new F(h,l.message||"")}(s);n=new Bl(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=um(t,r.document.name),o=rn(r.document.updateTime),s=r.document.createTime?rn(r.document.createTime):K.min(),c=new Ot({mapValue:{fields:r.document.fields}}),u=Ft.newFoundDocument(i,o,s,c),l=r.targetIds||[],h=r.removedTargetIds||[];n=new ho(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=um(t,r.document),o=r.readTime?rn(r.readTime):K.min(),s=Ft.newNoDocument(i,o),c=r.removedTargetIds||[];n=new ho([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=um(t,r.document),o=r.removedTargetIds||[];n=new ho([],o,i,null)}else{if(!("filter"in e))return B(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Hm(i,o),c=r.targetId;n=new jl(c,s)}}return n}function Zj(t,e){let n;if(e instanceof ti)n={update:RC(t,e.key,e.value)};else if(e instanceof ha)n={delete:Qm(t,e.key)};else if(e instanceof kn)n={update:RC(t,e.key,e.data),updateMask:sB(e.fieldMask)};else{if(!(e instanceof jm))return B(16599,{ft:e.type});n={verify:Qm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let c=s.transform;if(c instanceof Jr)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Xr)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ei)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof wo)return{fieldPath:s.field.canonicalString(),increment:c.Re};throw B(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Kj(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:B(27497)}(t,e.precondition)),n}function Jj(t,e){return t&&t.length>0?(de(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?rn(i.updateTime):rn(o);return s.isEqual(K.min())&&(s=rn(o)),new Lm(s,i.transformResults||[])}(n,e))):[]}function Xj(t,e){return{documents:[q0(t,e.path)]}}function eB(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=q0(t,i);let o=function(l){if(l.length!==0)return W0(Vt.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(y){return{field:ao(y.field),direction:rB(y.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let c=Wm(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:n,parent:i}}function tB(t){let e=Qj(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){de(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let y=G0(p);return y instanceof Vt&&D0(y)?y.getFilters():[y]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(y=>function(C){return new Io(co(C.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(p){let y;return y=typeof p=="object"?p.value:p,sd(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(p){let y=!!p.before,m=p.values||[];return new _o(m,y)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let y=!p.before,m=p.values||[];return new _o(m,y)}(n.endAt)),Sj(e,i,s,o,c,"F",u,l)}function nB(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return B(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function G0(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=co(n.unaryFilter.field);return Pe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=co(n.unaryFilter.field);return Pe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=co(n.unaryFilter.field);return Pe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=co(n.unaryFilter.field);return Pe.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return B(61313);default:return B(60726)}}(t):t.fieldFilter!==void 0?function(n){return Pe.create(co(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return B(58110);default:return B(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Vt.create(n.compositeFilter.filters.map(r=>G0(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return B(1026)}}(n.compositeFilter.op))}(t):B(30097,{filter:t})}function rB(t){return zj[t]}function iB(t){return Gj[t]}function oB(t){return Wj[t]}function ao(t){return{fieldPath:t.canonicalString()}}function co(t){return vt.fromServerFormat(t.fieldPath)}function W0(t){return t instanceof Pe?function(n){if(n.op==="=="){if(yC(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(mC(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yC(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(mC(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:iB(n.op),value:n.value}}}(t):t instanceof Vt?function(n){let r=n.getFilters().map(i=>W0(i));return r.length===1?r[0]:{compositeFilter:{op:oB(n.op),filters:r}}}(t):B(54877,{filter:t})}function sB(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function K0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var pa=class t{constructor(e,n,r,i,o=K.min(),s=K.min(),c=Qe.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Zm=class{constructor(e){this.wt=e}};function aB(t){let e=tB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fm(e,e.limit,"L"):e}var Hl=class{constructor(){}vt(e,n){this.Ct(e,n),n.Ft()}Ct(e,n){if("nullValue"in e)this.Mt(n,5);else if("booleanValue"in e)this.Mt(n,10),n.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(n,15),n.xt(_e(e.integerValue));else if("doubleValue"in e){let r=_e(e.doubleValue);isNaN(r)?this.Mt(n,13):(this.Mt(n,15),ua(r)?n.xt(0):n.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(n,20),typeof r=="string"&&(r=Rn(r)),n.Ot(`${r.seconds||""}`),n.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,n),this.Bt(n);else if("bytesValue"in e)this.Mt(n,30),n.Lt(Mn(e.bytesValue)),this.Bt(n);else if("referenceValue"in e)this.kt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(n,45),n.xt(r.latitude||0),n.xt(r.longitude||0)}else"mapValue"in e?I0(e)?this.Mt(n,Number.MAX_SAFE_INTEGER):_0(e)?this.qt(e.mapValue,n):(this.Qt(e.mapValue,n),this.Bt(n)):"arrayValue"in e?(this.$t(e.arrayValue,n),this.Bt(n)):B(19022,{Ut:e})}Nt(e,n){this.Mt(n,25),this.Kt(e,n)}Kt(e,n){n.Ot(e)}Qt(e,n){let r=e.fields||{};this.Mt(n,55);for(let i of Object.keys(r))this.Nt(i,n),this.Ct(r[i],n)}qt(e,n){var r,i;let o=e.fields||{};this.Mt(n,53);let s=mo,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(n,15),n.xt(_e(c)),this.Nt(s,n),this.Ct(o[s],n)}$t(e,n){let r=e.values||[];this.Mt(n,50);for(let i of r)this.Ct(i,n)}kt(e,n){this.Mt(n,37),j.fromName(e).path.forEach(r=>{this.Mt(n,60),this.Kt(r,n)})}Mt(e,n){e.xt(n)}Bt(e){e.xt(2)}};Hl.Wt=new Hl;var Jm=class{constructor(){this.yn=new Xm}addToCollectionParentIndex(e,n){return this.yn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Yr.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},Xm=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new je(De.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new je(De.comparator)).toArray()}};var zW=new Uint8Array(0);var MC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Q0=41943040,Tt=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Tt.DEFAULT_COLLECTION_PERCENTILE=10,Tt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tt.DEFAULT=new Tt(Q0,Tt.DEFAULT_COLLECTION_PERCENTILE,Tt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tt.DISABLED=new Tt(-1,0,0);var ga=class t{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new t(0)}static ir(){return new t(-1)}};var PC="LruGarbageCollector",cB=1048576;function xC([t,e],[n,r]){let i=Y(t,n);return i===0?Y(e,r):i}var ey=class{constructor(e){this.cr=e,this.buffer=new je(xC),this.lr=0}hr(){return++this.lr}Pr(e){let n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();xC(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},ty=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){O(PC,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Tr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){No(n)?O(PC,"Ignoring IndexedDB error during garbage collection: ",n):yield So(n)}yield this.Ir(3e5)}))}},ny=class{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(rv.le);let r=new ey(n);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(O("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(MC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(O("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),MC):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,i,o,s,c,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(O("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),oo()<=te.DEBUG&&O("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function uB(t,e){return new ny(t,e)}var ry=class{constructor(){this.changes=new Pn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var iy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var oy=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&aa(r.mutation,i,Xt.empty(),He.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){let i=Wr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ra();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Wr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=xn(),s=sa(),c=function(){return sa()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof kn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),aa(h.mutation,l,h.mutation.getFieldMask(),He.now())):s.set(l.key,Xt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return c.set(l,new iy(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let r=sa(),i=new Ce((s,c)=>s-c),o=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Xt.empty();h=c.applyToLocalView(l,h),r.set(u,h);let p=(i.get(c.batchId)||oe()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,h=u.value,p=x0();h.forEach(y=>{if(!o.has(y)){let m=j0(n.get(y),r.get(y));m!==null&&p.set(y,m),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return j.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):S0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(Wr()),c=ca,u=o;return s.next(l=>P.forEach(l,(h,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{u=u.insert(h,y)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,oe())).next(h=>({batchId:c,changes:P0(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new j(n)).next(r=>{let i=ra();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=ra();return this.indexManager.getCollectionParents(e,o).next(c=>P.forEach(c,u=>{let l=function(p,y){return new Zr(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Ft.newInvalidDocument(h)))});let c=ra();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&aa(h.mutation,l,Xt.empty(),He.now()),ud(n,l)&&(c=c.insert(u,l))}),c})}};var sy=class{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return P.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:rn(i.createTime)}}(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:aB(i.bundledQuery),readTime:rn(i.readTime)}}(n)),P.resolve()}};var ay=class{constructor(){this.overlays=new Ce(j.comparator),this.Or=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Wr();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Or.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=Wr(),o=n.length+1,s=new j(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ce((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Wr(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let c=Wr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>c.set(l,h)),!(c.size()>=i)););return P.resolve(c)}St(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new $m(n,r));let o=this.Or.get(n);o===void 0&&(o=oe(),this.Or.set(n,o)),this.Or.set(n,o.add(r.key))}};var cy=class{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var ma=class{constructor(){this.Nr=new je(Me.Br),this.Lr=new je(Me.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){let r=new Me(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new Me(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){let n=new j(new De([])),r=new Me(n,e),i=new Me(n,e+1),o=[];return this.Lr.forEachInRange([r,i],s=>{this.Qr(s),o.push(s.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){let n=new j(new De([])),r=new Me(n,e),i=new Me(n,e+1),o=oe();return this.Lr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Me(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Me=class{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return j.comparator(e.key,n.key)||Y(e.Gr,n.Gr)}static kr(e,n){return Y(e.Gr,n.Gr)||j.comparator(e.key,n.key)}};var uy=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new je(Me.Br)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Bm(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.zr=this.zr.add(new Me(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Hr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?iv:this.Jn-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Me(n,0),i=new Me(n,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,i],s=>{let c=this.jr(s.Gr);o.push(c)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new je(Y);return n.forEach(i=>{let o=new Me(i,0),s=new Me(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,s],c=>{r=r.add(c.Gr)})}),P.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;j.isDocumentKey(o)||(o=o.child(""));let s=new Me(new j(o),0),c=new je(Y);return this.zr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Gr)),!0)},s),P.resolve(this.Jr(c))}Jr(e){let n=[];return e.forEach(r=>{let i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){de(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return P.forEach(n.mutations,i=>{let o=new Me(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){let r=new Me(n,0),i=this.zr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){let n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var ly=class{constructor(e){this.Zr=e,this.docs=function(){return new Ce(j.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let r=xn();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ft.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=xn(),s=n.path,c=new j(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||uj(cj(h),r)<=0||(i.has(h.key)||ud(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){B(9500)}Xr(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new dy(this)}getSize(e){return P.resolve(this.size)}},dy=class extends ry{constructor(e){super(),this.vr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}};var hy=class{constructor(e){this.persistence=e,this.ei=new Pn(n=>uv(n),lv),this.lastRemoteSnapshotVersion=K.min(),this.highestTargetId=0,this.ti=0,this.ni=new ma,this.targetCount=0,this.ri=ga.rr()}forEachTarget(e,n){return this.ei.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),P.resolve()}ar(e){this.ei.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ri=new ga(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.ar(n),P.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ei.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ei.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.ei.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.ni.Wr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.ni.containsKey(n))}};var ql=class{constructor(e,n){this.ii={},this.overlays={},this.si=new rv(0),this.oi=!1,this.oi=!0,this._i=new cy,this.referenceDelegate=e(this),this.ai=new hy(this),this.indexManager=new Jm,this.remoteDocumentCache=function(i){return new ly(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new Zm(n),this.ci=new sy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ay,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new uy(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){O("MemoryPersistence","Starting transaction:",e);let i=new fy(this.si.next());return this.referenceDelegate.li(),r(i).next(o=>this.referenceDelegate.hi(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Pi(e,n){return P.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}},fy=class extends Em{constructor(e){super(),this.currentSequenceNumber=e}},py=class t{constructor(e){this.persistence=e,this.Ti=new ma,this.Ii=null}static Ei(e){return new t(e)}get di(){if(this.Ii)return this.Ii;throw B(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),P.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.di,r=>{let i=j.fromPath(r);return this.Ai(e,i).next(o=>{o||n.removeEntry(i,K.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return P.or([()=>P.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}},zl=class t{constructor(e,n){this.persistence=e,this.Ri=new Pn(r=>fj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=uB(this,n)}static Ei(e,n){return new t(e,n)}li(){}hi(e){return P.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){let n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return P.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(o=>o?P.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Xr(e,s=>this.gr(e,s,n).next(c=>{c||(r++,o.removeEntry(s,K.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),P.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),P.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Cl(e.data.value)),n}gr(e,n,r){return P.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.Ri.get(n);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var gy=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=i}static Ps(e,n){let r=oe(),i=oe();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var my=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var yy=class{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return xT()?8:dj(Ve())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Rs(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Vs(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new my;return this.fs(e,n,s).next(c=>{if(o.result=c,this.Is)return this.gs(e,n,s,c.size)})}).next(()=>o.result)}gs(e,n,r,i){return r.documentReadCount<this.Es?(oo()<=te.DEBUG&&O("QueryEngine","SDK will not create cache indexes for query:",so(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),P.resolve()):(oo()<=te.DEBUG&&O("QueryEngine","Query:",so(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(oo()<=te.DEBUG&&O("QueryEngine","The SDK decides to create cache indexes for query:",so(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nn(n))):P.resolve())}Rs(e,n){if(EC(n))return P.resolve(null);let r=nn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Fm(n,null,"F"),r=nn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=oe(...o);return this.As.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ps(n,c);return this.ys(n,l,s,u.readTime)?this.Rs(e,Fm(n,null,"F")):this.ws(e,l,n,u)}))})))}Vs(e,n,r,i){return EC(n)||i.isEqual(K.min())?P.resolve(null):this.As.getDocuments(e,r).next(o=>{let s=this.ps(n,o);return this.ys(n,s,r,i)?P.resolve(null):(oo()<=te.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),so(n)),this.ws(e,s,n,aj(i,ca)).next(c=>c))})}ps(e,n){let r=new je(R0(e));return n.forEach((i,o)=>{ud(e,o)&&(r=r.add(o))}),r}ys(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}fs(e,n,r){return oo()<=te.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",so(n)),this.As.getDocumentsMatchingQuery(e,n,Yr.min(),r)}ws(e,n,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var fv="LocalStore",lB=3e8,vy=class{constructor(e,n,r,i){this.persistence=e,this.bs=n,this.serializer=i,this.Ss=new Ce(Y),this.Ds=new Pn(o=>uv(o),lv),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oy(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}};function dB(t,e,n,r){return new vy(t,e,n,r)}function Y0(t,e){return _(this,null,function*(){let n=q(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=oe();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){c.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Ms:l,removedBatchIds:s,addedBatchIds:c}))})})})}function hB(t,e){let n=q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Cs.newChangeBuffer({trackRemovals:!0});return function(c,u,l,h){let p=l.batch,y=p.keys(),m=P.resolve();return y.forEach(C=>{m=m.next(()=>h.getEntry(u,C)).next(N=>{let M=l.docVersions.get(C);de(M!==null,48541),N.version.compareTo(M)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),m.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=oe();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Z0(t){let e=q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function fB(t,e){let n=q(t),r=e.snapshotVersion,i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;let c=[];e.targetChanges.forEach((h,p)=>{let y=i.get(p);if(!y)return;c.push(n.ai.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.ai.addMatchingKeys(o,h.addedDocuments,p)));let m=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(Qe.EMPTY_BYTE_STRING,K.min()).withLastLimboFreeSnapshotVersion(K.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(p,m),function(N,M,k){return N.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=lB?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(y,m,h)&&c.push(n.ai.updateTargetData(o,m))});let u=xn(),l=oe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),c.push(pB(o,s,e.documentUpdates).next(h=>{u=h.xs,l=h.Os})),!r.isEqual(K.min())){let h=n.ai.getLastRemoteSnapshotVersion(o).next(p=>n.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(h)}return P.waitFor(c).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Ss=i,o))}function pB(t,e,n){let r=oe(),i=oe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=xn();return n.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(K.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):O(fv,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{xs:s,Os:i}})}function gB(t,e){let n=q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=iv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mB(t,e){let n=q(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.ai.allocateTargetId(r).next(s=>(i=new pa(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}function _y(t,e,n){return _(this,null,function*(){let r=q(t),i=r.Ss.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!No(s))throw s;O(fv,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)})}function kC(t,e,n){let r=q(t),i=K.min(),o=oe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=q(u),y=p.Ds.get(h);return y!==void 0?P.resolve(p.Ss.get(y)):p.ai.getTargetData(l,h)}(r,s,nn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.bs.getDocumentsMatchingQuery(s,e,n?i:K.min(),n?o:oe())).next(c=>(yB(r,Rj(e),c),{documents:c,Ns:o})))}function yB(t,e,n){let r=t.vs.get(e)||K.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.vs.set(e,r)}var Gl=class{constructor(){this.activeTargetIds=Fj()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Iy=class{constructor(){this.So=new Gl,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Gl,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Ey=class{vo(e){}shutdown(){}};var OC="ConnectivityMonitor",Wl=class{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){O(OC,"Network connectivity changed: AVAILABLE");for(let e of this.Oo)e(0)}xo(){O(OC,"Network connectivity changed: UNAVAILABLE");for(let e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var bl=null;function wy(){return bl===null?bl=function(){return 268435456+Math.round(2147483648*Math.random())}():bl++,"0x"+bl.toString(16)}var lm="RestConnection",vB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Dy=class{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===Ol?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,n,r,i,o){let s=wy(),c=this.$o(e,n.toUriEncodedString());O(lm,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(u,i,o);let{host:l}=new URL(c),h=Lr(l);return this.Ko(e,c,u,r,h).then(p=>(O(lm,`Received RPC '${e}' ${s}: `,p),p),p=>{throw po(lm,`RPC '${e}' ${s} failed with error: `,p,"url: ",c,"request:",r),p})}Wo(e,n,r,i,o,s){return this.Qo(e,n,r,i,o)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ao}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}$o(e,n){let r=vB[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}};var Ty=class{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}};var Ke="WebChannelConnection",by=class extends Dy{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,i,o){let s=wy();return new Promise((c,u)=>{let l=new im;l.setWithCredentials(!0),l.listenOnce(om.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case na.NO_ERROR:let p=l.getResponseJson();O(Ke,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),c(p);break;case na.TIMEOUT:O(Ke,`RPC '${e}' ${s} timed out`),u(new F(R.DEADLINE_EXCEEDED,"Request time out"));break;case na.HTTP_ERROR:let y=l.getStatus();if(O(Ke,`RPC '${e}' ${s} failed with status:`,y,"response text:",l.getResponseText()),y>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);let C=m?.error;if(C&&C.status&&C.message){let N=function(k){let V=k.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(V)>=0?V:R.UNKNOWN}(C.status);u(new F(N,C.message))}else u(new F(R.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new F(R.UNAVAILABLE,"Connection failed."));break;default:B(9055,{s_:e,streamId:s,o_:l.getLastErrorCode(),__:l.getLastError()})}}finally{O(Ke,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);O(Ke,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}a_(e,n,r){let i=wy(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=cm(),c=am(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Uo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");O(Ke,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),y=!1,m=!1,C=new Ty({Go:M=>{m?O(Ke,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(y||(O(Ke,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),O(Ke,`RPC '${e}' stream ${i} sending:`,M),p.send(M))},zo:()=>p.close()}),N=(M,k,V)=>{M.listen(k,$=>{try{V($)}catch(ue){setTimeout(()=>{throw ue},0)}})};return N(p,io.EventType.OPEN,()=>{m||(O(Ke,`RPC '${e}' stream ${i} transport opened.`),C.t_())}),N(p,io.EventType.CLOSE,()=>{m||(m=!0,O(Ke,`RPC '${e}' stream ${i} transport closed`),C.r_())}),N(p,io.EventType.ERROR,M=>{m||(m=!0,po(Ke,`RPC '${e}' stream ${i} transport errored. Name:`,M.name,"Message:",M.message),C.r_(new F(R.UNAVAILABLE,"The operation could not be completed")))}),N(p,io.EventType.MESSAGE,M=>{var k;if(!m){let V=M.data[0];de(!!V,16349);let $=V,ue=$?.error||((k=$[0])===null||k===void 0?void 0:k.error);if(ue){O(Ke,`RPC '${e}' stream ${i} received error:`,ue);let Fe=ue.status,he=function(E){let w=Re[E];if(w!==void 0)return U0(w)}(Fe),D=ue.message;he===void 0&&(he=R.INTERNAL,D="Unknown error status: "+Fe+" with message "+ue.message),m=!0,C.r_(new F(he,D)),p.close()}else O(Ke,`RPC '${e}' stream ${i} received:`,V),C.i_(V)}}),N(c,sm.STAT_EVENT,M=>{M.stat===wl.PROXY?O(Ke,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===wl.NOPROXY&&O(Ke,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.n_()},0),C}};function dm(){return typeof document<"u"?document:null}function ld(t){return new Gm(t,!0)}var Kl=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();let n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&O("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}};var FC="PersistentStream",Ql=class{constructor(e,n,r,i,o,s,c,u){this.bi=e,this.R_=r,this.V_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new Kl(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}stop(){return _(this,null,function*(){this.w_()&&(yield this.close(0))})}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}C_(){return _(this,null,function*(){if(this.b_())return this.close(0)})}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}close(e,n){return _(this,null,function*(){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(Nn(n.toString()),Nn("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Zo(n)})}O_(){}auth(){this.state=1;let e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{e(()=>{let i=new F(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,n){let r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(()=>_(this,null,function*(){this.state=0,this.start()}))}L_(e){return O(FC,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(O(FC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Cy=class extends Ql{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();let n=Yj(this.serializer,e),r=function(o){if(!("targetChange"in o))return K.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?K.min():s.readTime?rn(s.readTime):K.min()}(e);return this.listener.Q_(n,r)}U_(e){let n={};n.database=Ym(this.serializer),n.addTarget=function(o,s){let c,u=s.target;if(c=km(u)?{documents:Xj(o,u)}:{query:eB(o,u).gt},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=$0(o,s.resumeToken);let l=Wm(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(K.min())>0){c.readTime=$l(o,s.snapshotVersion.toTimestamp());let l=Wm(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c}(this.serializer,e);let r=nB(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){let n={};n.database=Ym(this.serializer),n.removeTarget=e,this.F_(n)}},Ay=class extends Ql{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return de(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,de(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){de(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();let n=Jj(e.writeResults,e.commitTime),r=rn(e.commitTime);return this.listener.j_(r,n)}H_(){let e={};e.database=Ym(this.serializer),this.F_(e)}G_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>Zj(this.serializer,r))};this.F_(n)}};var Sy=class{},Ny=class extends Sy{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new F(R.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Qo(e,Km(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new F(R.UNKNOWN,o.toString())})}Wo(e,n,r,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Wo(e,Km(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(R.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}},Ry=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Nn(n),this.ea=!1):O("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}};var ni="RemoteStore",My=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(s=>{r.enqueueAndForget(()=>_(this,null,function*(){si(this)&&(O(ni,"Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=q(u);l.aa.add(4),yield Da(l),l.la.set("Unknown"),l.aa.delete(4),yield dd(l)})}(this))}))}),this.la=new Ry(r,i)}};function dd(t){return _(this,null,function*(){if(si(t))for(let e of t.ua)yield e(!0)})}function Da(t){return _(this,null,function*(){for(let e of t.ua)yield e(!1)})}function J0(t,e){let n=q(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),yv(n)?mv(n):Ro(n).b_()&&gv(n,e))}function pv(t,e){let n=q(t),r=Ro(n);n._a.delete(e),r.b_()&&X0(n,e),n._a.size===0&&(r.b_()?r.v_():si(n)&&n.la.set("Unknown"))}function gv(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(K.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ro(t).U_(e)}function X0(t,e){t.ha.Ke(e),Ro(t).K_(e)}function mv(t){t.ha=new zm({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Ro(t).start(),t.la.ta()}function yv(t){return si(t)&&!Ro(t).w_()&&t._a.size>0}function si(t){return q(t).aa.size===0}function eA(t){t.ha=void 0}function _B(t){return _(this,null,function*(){t.la.set("Online")})}function IB(t){return _(this,null,function*(){t._a.forEach((e,n)=>{gv(t,e)})})}function EB(t,e){return _(this,null,function*(){eA(t),yv(t)?(t.la.ia(e),mv(t)):t.la.set("Unknown")})}function wB(t,e,n){return _(this,null,function*(){if(t.la.set("Online"),e instanceof Bl&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i._a.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i._a.delete(c),i.ha.removeTarget(c))})}(t,e)}catch(r){O(ni,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Yl(t,r)}else if(e instanceof ho?t.ha.Xe(e):e instanceof jl?t.ha.ot(e):t.ha.nt(e),!n.isEqual(K.min()))try{let r=yield Z0(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let c=o.ha.It(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o._a.get(l);h&&o._a.set(l,h.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let h=o._a.get(u);if(!h)return;o._a.set(u,h.withResumeToken(Qe.EMPTY_BYTE_STRING,h.snapshotVersion)),X0(o,u);let p=new pa(h.target,u,l,h.sequenceNumber);gv(o,p)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){O(ni,"Failed to raise snapshot:",r),yield Yl(t,r)}})}function Yl(t,e,n){return _(this,null,function*(){if(!No(e))throw e;t.aa.add(1),yield Da(t),t.la.set("Offline"),n||(n=()=>Z0(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){O(ni,"Retrying IndexedDB access"),yield n(),t.aa.delete(1),yield dd(t)}))})}function tA(t,e){return e().catch(n=>Yl(t,n,e))}function hd(t){return _(this,null,function*(){let e=q(t),n=ar(e),r=e.oa.length>0?e.oa[e.oa.length-1].batchId:iv;for(;DB(e);)try{let i=yield gB(e.localStore,r);if(i===null){e.oa.length===0&&n.v_();break}r=i.batchId,TB(e,i)}catch(i){yield Yl(e,i)}nA(e)&&rA(e)})}function DB(t){return si(t)&&t.oa.length<10}function TB(t,e){t.oa.push(e);let n=ar(t);n.b_()&&n.W_&&n.G_(e.mutations)}function nA(t){return si(t)&&!ar(t).w_()&&t.oa.length>0}function rA(t){ar(t).start()}function bB(t){return _(this,null,function*(){ar(t).H_()})}function CB(t){return _(this,null,function*(){let e=ar(t);for(let n of t.oa)e.G_(n.mutations)})}function AB(t,e,n){return _(this,null,function*(){let r=t.oa.shift(),i=Um.from(r,e,n);yield tA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield hd(t)})}function SB(t,e){return _(this,null,function*(){e&&ar(t).W_&&(yield function(r,i){return _(this,null,function*(){if(function(s){return Hj(s)&&s!==R.ABORTED}(i.code)){let o=r.oa.shift();ar(r).D_(),yield tA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield hd(r)}})}(t,e)),nA(t)&&rA(t)})}function VC(t,e){return _(this,null,function*(){let n=q(t);n.asyncQueue.verifyOperationInProgress(),O(ni,"RemoteStore received new credentials");let r=si(n);n.aa.add(3),yield Da(n),r&&n.la.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),yield dd(n)})}function NB(t,e){return _(this,null,function*(){let n=q(t);e?(n.aa.delete(2),yield dd(n)):e||(n.aa.add(2),yield Da(n),n.la.set("Unknown"))})}function Ro(t){return t.Pa||(t.Pa=function(n,r,i){let o=q(n);return o.Y_(),new Cy(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{jo:_B.bind(null,t),Jo:IB.bind(null,t),Zo:EB.bind(null,t),Q_:wB.bind(null,t)}),t.ua.push(e=>_(null,null,function*(){e?(t.Pa.D_(),yv(t)?mv(t):t.la.set("Unknown")):(yield t.Pa.stop(),eA(t))}))),t.Pa}function ar(t){return t.Ta||(t.Ta=function(n,r,i){let o=q(n);return o.Y_(),new Ay(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:bB.bind(null,t),Zo:SB.bind(null,t),z_:CB.bind(null,t),j_:AB.bind(null,t)}),t.ua.push(e=>_(null,null,function*(){e?(t.Ta.D_(),yield hd(t)):(yield t.Ta.stop(),t.oa.length>0&&(O(ni,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))}))),t.Ta}var Py=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new en,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function vv(t,e){if(Nn("AsyncQueue",`${e}: ${t}`),No(t))return new F(R.UNAVAILABLE,`${e}: ${t}`);throw t}var Zl=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||j.comparator(n.key,r.key):(n,r)=>j.comparator(n.key,r.key),this.keyedMap=ra(),this.sortedSet=new Ce(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Jl=class{constructor(){this.Ia=new Ce(j.comparator)}track(e){let n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):B(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){let e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}},To=class t{constructor(e,n,r,i,o,s,c,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(c=>{s.push({type:0,doc:c})}),new t(e,n,Zl.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var xy=class{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}},ky=class{constructor(){this.queries=LC(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){let i=q(n),o=i.queries;i.queries=LC(),o.forEach((s,c)=>{for(let u of c.Ra)u.onError(r)})})(this,new F(R.ABORTED,"Firestore shutting down"))}};function LC(){return new Pn(t=>N0(t),cd)}function RB(t,e){return _(this,null,function*(){let n=q(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Va()&&e.ma()&&(r=2):(o=new xy,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=yield n.onListen(i,!0);break;case 1:o.Aa=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let c=vv(s,`Initialization of query '${so(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.Ra.push(e),e.ga(n.onlineState),o.Aa&&e.pa(o.Aa)&&_v(n)})}function MB(t,e){return _(this,null,function*(){let n=q(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.Ra.indexOf(e);s>=0&&(o.Ra.splice(s,1),o.Ra.length===0?i=e.ma()?0:1:!o.Va()&&e.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function PB(t,e){let n=q(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let c of s.Ra)c.pa(i)&&(r=!0);s.Aa=i}}r&&_v(n)}function xB(t,e,n){let r=q(t),i=r.queries.get(e);if(i)for(let o of i.Ra)o.onError(n);r.queries.delete(e)}function _v(t){t.fa.forEach(e=>{e.next()})}var Oy,jC;(jC=Oy||(Oy={})).ya="default",jC.Cache="cache";var Fy=class{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new To(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;let r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;let n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=To.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Oy.Cache}};var Xl=class{constructor(e){this.key=e}},ed=class{constructor(e){this.key=e}},Vy=class{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=oe(),this.mutatedKeys=oe(),this.Ua=R0(e),this.Ka=new Zl(this.Ua)}get Wa(){return this.qa}Ga(e,n){let r=n?n.za:new Jl,i=n?n.Ka:this.Ka,o=n?n.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let y=i.get(h),m=ud(this.query,p)?p:null,C=!!y&&this.mutatedKeys.has(y.key),N=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),M=!1;y&&m?y.data.isEqual(m.data)?C!==N&&(r.track({type:3,doc:m}),M=!0):this.ja(y,m)||(r.track({type:2,doc:m}),M=!0,(u&&this.Ua(m,u)>0||l&&this.Ua(m,l)<0)&&(c=!0)):!y&&m?(r.track({type:0,doc:m}),M=!0):y&&!m&&(r.track({type:1,doc:y}),M=!0,(u||l)&&(c=!0)),M&&(m?(s=s.add(m),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ka:s,za:r,ys:c,mutatedKeys:o}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;let s=e.za.da();s.sort((h,p)=>function(m,C){let N=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return B(20277,{Vt:M})}};return N(m)-N(C)}(h.type,p.type)||this.Ua(h.doc,p.doc)),this.Ha(r),i=i!=null&&i;let c=n&&!i?this.Ja():[],u=this.$a.size===0&&this.current&&!i?1:0,l=u!==this.Qa;return this.Qa=u,s.length!==0||l?{snapshot:new To(this.query,e.Ka,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:c}:{Ya:c}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Jl,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];let e=this.$a;this.$a=oe(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});let n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new ed(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new Xl(r))}),n}Xa(e){this.qa=e.Ns,this.$a=oe();let n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return To.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}},Iv="SyncEngine",Ly=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},jy=class{constructor(e){this.key=e,this.tu=!1}},By=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new Pn(c=>N0(c),cd),this.iu=new Map,this.su=new Set,this.ou=new Ce(j.comparator),this._u=new Map,this.au=new ma,this.uu={},this.cu=new Map,this.lu=ga.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}};function kB(t,e,n=!0){return _(this,null,function*(){let r=uA(t),i,o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.eu()):i=yield iA(r,e,n,!0),i})}function OB(t,e){return _(this,null,function*(){let n=uA(t);yield iA(n,e,!0,!1)})}function iA(t,e,n,r){return _(this,null,function*(){let i=yield mB(t.localStore,nn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),c;return r&&(c=yield FB(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&J0(t.remoteStore,i),c})}function FB(t,e,n,r,i){return _(this,null,function*(){t.Pu=(p,y,m)=>function(N,M,k,V){return _(this,null,function*(){let $=M.view.Ga(k);$.ys&&($=yield kC(N.localStore,M.query,!1).then(({documents:D})=>M.view.Ga(D,$)));let ue=V&&V.targetChanges.get(M.targetId),Fe=V&&V.targetMismatches.get(M.targetId)!=null,he=M.view.applyChanges($,N.isPrimaryClient,ue,Fe);return UC(N,M.targetId,he.Ya),he.snapshot})}(t,p,y,m);let o=yield kC(t.localStore,e,!0),s=new Vy(e,o.Ns),c=s.Ga(o.documents),u=fa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(c,t.isPrimaryClient,u);UC(t,n,l.Ya);let h=new Ly(e,n,s);return t.ru.set(e,h),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),l.snapshot})}function VB(t,e,n){return _(this,null,function*(){let r=q(t),i=r.ru.get(e),o=r.iu.get(i.targetId);if(o.length>1)return r.iu.set(i.targetId,o.filter(s=>!cd(s,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield _y(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&pv(r.remoteStore,i.targetId),Uy(r,i.targetId)}).catch(So))):(Uy(r,i.targetId),yield _y(r.localStore,i.targetId,!0))})}function LB(t,e){return _(this,null,function*(){let n=q(t),r=n.ru.get(e),i=n.iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),pv(n.remoteStore,r.targetId))})}function jB(t,e,n){return _(this,null,function*(){let r=GB(t);try{let i=yield function(s,c){let u=q(s),l=He.now(),h=c.reduce((m,C)=>m.add(C.key),oe()),p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let C=xn(),N=oe();return u.Cs.getEntries(m,h).next(M=>{C=M,C.forEach((k,V)=>{V.isValidDocument()||(N=N.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,C)).next(M=>{p=M;let k=[];for(let V of c){let $=$j(V,p.get(V.key).overlayedDocument);$!=null&&k.push(new kn(V.key,$,E0($.value.mapValue),Sn.exists(!0)))}return u.mutationQueue.addMutationBatch(m,l,k,c)}).next(M=>{y=M;let k=M.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(m,M.batchId,k)})}).then(()=>({batchId:y.batchId,changes:P0(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,u){let l=s.uu[s.currentUser.toKey()];l||(l=new Ce(Y)),l=l.insert(c,u),s.uu[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Ta(r,i.changes),yield hd(r.remoteStore)}catch(i){let o=vv(i,"Failed to persist write");n.reject(o)}})}function oA(t,e){return _(this,null,function*(){let n=q(t);try{let r=yield fB(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n._u.get(o);s&&(de(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.tu=!0:i.modifiedDocuments.size>0?de(s.tu,14607):i.removedDocuments.size>0&&(de(s.tu,42227),s.tu=!1))}),yield Ta(n,r,e)}catch(r){yield So(r)}})}function BC(t,e,n){let r=q(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ru.forEach((o,s)=>{let c=s.view.ga(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=q(s);u.onlineState=c;let l=!1;u.queries.forEach((h,p)=>{for(let y of p.Ra)y.ga(c)&&(l=!0)}),l&&_v(u)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function BB(t,e,n){return _(this,null,function*(){let r=q(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r._u.get(e),o=i&&i.key;if(o){let s=new Ce(j.comparator);s=s.insert(o,Ft.newNoDocument(o,K.min()));let c=oe().add(o),u=new Ll(K.min(),new Map,new Ce(Y),s,c);yield oA(r,u),r.ou=r.ou.remove(o),r._u.delete(e),Ev(r)}else yield _y(r.localStore,e,!1).then(()=>Uy(r,e,n)).catch(So)})}function UB(t,e){return _(this,null,function*(){let n=q(t),r=e.batch.batchId;try{let i=yield hB(n.localStore,e);aA(n,r,null),sA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Ta(n,i)}catch(i){yield So(i)}})}function $B(t,e,n){return _(this,null,function*(){let r=q(t);try{let i=yield function(s,c){let u=q(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(de(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);aA(r,e,n),sA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Ta(r,i)}catch(i){yield So(i)}})}function sA(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function aA(t,e,n){let r=q(t),i=r.uu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function Uy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||cA(t,r)})}function cA(t,e){t.su.delete(e.path.canonicalString());let n=t.ou.get(e);n!==null&&(pv(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),Ev(t))}function UC(t,e,n){for(let r of n)r instanceof Xl?(t.au.addReference(r.key,e),HB(t,r)):r instanceof ed?(O(Iv,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||cA(t,r.key)):B(19791,{Iu:r})}function HB(t,e){let n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(O(Iv,"New document in limbo: "+n),t.su.add(r),Ev(t))}function Ev(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){let e=t.su.values().next().value;t.su.delete(e);let n=new j(De.fromString(e)),r=t.lu.next();t._u.set(r,new jy(n)),t.ou=t.ou.insert(n,r),J0(t.remoteStore,new pa(nn(A0(n.path)),r,"TargetPurposeLimboResolution",rv.le))}}function Ta(t,e,n){return _(this,null,function*(){let r=q(t),i=[],o=[],s=[];r.ru.isEmpty()||(r.ru.forEach((c,u)=>{s.push(r.Pu(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=gy.Ps(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.nu.Q_(i),yield function(u,l){return _(this,null,function*(){let h=q(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,y=>P.forEach(y.ls,m=>h.persistence.referenceDelegate.addReference(p,y.targetId,m)).next(()=>P.forEach(y.hs,m=>h.persistence.referenceDelegate.removeReference(p,y.targetId,m)))))}catch(p){if(!No(p))throw p;O(fv,"Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let m=h.Ss.get(y),C=m.snapshotVersion,N=m.withLastLimboFreeSnapshotVersion(C);h.Ss=h.Ss.insert(y,N)}}})}(r.localStore,o))})}function qB(t,e){return _(this,null,function*(){let n=q(t);if(!n.currentUser.isEqual(e)){O(Iv,"User change. New user:",e.toKey());let r=yield Y0(n.localStore,e);n.currentUser=e,function(o,s){o.cu.forEach(c=>{c.forEach(u=>{u.reject(new F(R.CANCELLED,s))})}),o.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Ta(n,r.Ms)}})}function zB(t,e){let n=q(t),r=n._u.get(e);if(r&&r.tu)return oe().add(r.key);{let i=oe(),o=n.iu.get(e);if(!o)return i;for(let s of o){let c=n.ru.get(s);i=i.unionWith(c.view.Wa)}return i}}function uA(t){let e=q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BB.bind(null,e),e.nu.Q_=PB.bind(null,e.eventManager),e.nu.Tu=xB.bind(null,e.eventManager),e}function GB(t){let e=q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$B.bind(null,e),e}var lA=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return _(this,null,function*(){this.serializer=ld(n.databaseInfo.databaseId),this.sharedClientState=this.Au(n),this.persistence=this.Ru(n),yield this.persistence.start(),this.localStore=this.Vu(n),this.gcScheduler=this.mu(n,this.localStore),this.indexBackfillerScheduler=this.fu(n,this.localStore)})}mu(n,r){return null}fu(n,r){return null}Vu(n){return dB(this.persistence,new yy,n.initialUser,this.serializer)}Ru(n){return new ql(py.Ei,this.serializer)}Au(n){return new Iy}terminate(){return _(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),$y=class extends lA{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){de(this.persistence.referenceDelegate instanceof zl,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new ty(r,e.asyncQueue,n)}Ru(e){let n=this.cacheSizeBytes!==void 0?Tt.withCacheSize(this.cacheSizeBytes):Tt.DEFAULT;return new ql(r=>zl.Ei(r,n),this.serializer)}};var WB=(()=>{class t{initialize(n,r){return _(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>BC(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=qB.bind(null,this.syncEngine),yield NB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new ky}()}createDatastore(n){let r=ld(n.databaseInfo.databaseId),i=function(s){return new by(s)}(n.databaseInfo);return function(s,c,u,l){return new Ny(s,c,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,c,u){return new My(i,o,s,c,u)}(this.localStore,this.datastore,n.asyncQueue,r=>BC(this.syncEngine,r,0),function(){return Wl.C()?new Wl:new Ey}())}createSyncEngine(n,r){return function(o,s,c,u,l,h,p){let y=new By(o,s,c,u,l,h);return p&&(y.hu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var n,r;yield function(o){return _(this,null,function*(){let s=q(o);O(ni,"RemoteStore shutting down."),s.aa.add(5),yield Da(s),s.ca.shutdown(),s.la.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Hy=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Nn("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var cr="FirestoreClient",qy=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Le.UNAUTHENTICATED,this.clientId=Ml.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){O(cr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(O(cr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new en;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=vv(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function hm(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),O(cr,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield Y0(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function $C(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield KB(t);O(cr,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>VC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>VC(e.remoteStore,i)),t._onlineComponents=e})}function KB(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){O(cr,"Using user provided OfflineComponentProvider");try{yield hm(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===R.FAILED_PRECONDITION||i.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),yield hm(t,new lA)}}else O(cr,"Using default OfflineComponentProvider"),yield hm(t,new $y(void 0));return t._offlineComponents})}function dA(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(O(cr,"Using user provided OnlineComponentProvider"),yield $C(t,t._uninitializedComponentsProvider._online)):(O(cr,"Using default OnlineComponentProvider"),yield $C(t,new WB))),t._onlineComponents})}function QB(t){return dA(t).then(e=>e.syncEngine)}function YB(t){return _(this,null,function*(){let e=yield dA(t),n=e.eventManager;return n.onListen=kB.bind(null,e.syncEngine),n.onUnlisten=VB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=OB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=LB.bind(null,e.syncEngine),n})}function ZB(t,e,n={}){let r=new en;return t.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,c,u,l){let h=new Hy({next:y=>{h.yu(),s.enqueueAndForget(()=>MB(o,p)),y.fromCache&&u.source==="server"?l.reject(new F(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(y)},error:y=>l.reject(y)}),p=new Fy(c,h,{includeMetadataChanges:!0,Fa:!0});return RB(o,p)}(yield YB(t),t.asyncQueue,e,n,r)})),r.promise}function hA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var HC=new Map;function fA(t,e,n){if(!n)throw new F(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JB(t,e,n,r){if(e===!0&&r===!0)throw new F(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qC(t){if(!j.isDocumentKey(t))throw new F(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zC(t){if(j.isDocumentKey(t))throw new F(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":B(12329,{type:typeof t})}function ri(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=fd(t);throw new F(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var pA="firestore.googleapis.com",GC=!0,td=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new F(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pA,this.ssl=GC}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:GC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Q0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cB)throw new F(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new F(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new F(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new F(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},bo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new td({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new F(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new td(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new fm;switch(r.type){case"firstParty":return new ym(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Qi("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=HC.get(n);r&&(O("ComponentProvider","Removing Datastore"),HC.delete(n),r.terminate())}(this),Promise.resolve()}};function gA(t,e,n,r={}){var i;t=ri(t,bo);let o=Lr(e),s=t._getSettings(),c=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;s.host!==pA&&s.host!==u&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Kt(l,c)&&(t._setSettings(l),o&&(Yu(`https://${u}`),Qi("Firestore",!0)),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Le.MOCK_USER;else{h=AT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new F(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Le(y)}t._authCredentials=new pm(new Nl(h,p))}}var Co=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},_t=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},or=class t extends Co{constructor(e,n,r){super(e,n,A0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new j(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function mA(t,e,...n){if(t=Oe(t),fA("collection","path",e),t instanceof bo){let r=De.fromString(e,...n);return zC(r),new or(t,null,r)}{if(!(t instanceof _t||t instanceof or))throw new F(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(De.fromString(e,...n));return zC(r),new or(t.firestore,null,r)}}function wv(t,e,...n){if(t=Oe(t),arguments.length===1&&(e=Ml.newId()),fA("doc","path",e),t instanceof bo){let r=De.fromString(e,...n);return qC(r),new _t(t,null,new j(r))}{if(!(t instanceof _t||t instanceof or))throw new F(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(De.fromString(e,...n));return qC(r),new _t(t.firestore,t instanceof or?t.converter:null,new j(r))}}var WC="AsyncQueue",nd=class{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new Kl(this,"async_queue_retry"),this.ju=()=>{let r=dm();r&&O(WC,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;let n=dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;let n=dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});let n=new en;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}Zu(){return _(this,null,function*(){if(this.Qu.length!==0){try{yield this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!No(e))throw e;O(WC,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}})}Yu(e){let n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Nn("INTERNAL UNHANDLED ERROR: ",KC(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);let i=Py.createAndSchedule(this,e,n,r,o=>this.Xu(o));return this.Uu.push(i),i}Ju(){this.Ku&&B(47125,{ec:KC(this.Ku)})}verifyOperationInProgress(){}tc(){return _(this,null,function*(){let e;do e=this.Hu,yield e;while(e!==this.Hu)})}nc(e){for(let n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){let n=this.Uu.indexOf(e);this.Uu.splice(n,1)}};function KC(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}var ii=class extends bo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new nd,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new nd(e),this._firestoreClient=void 0,yield e}})}};function yA(t,e){let n=typeof t=="object"?t:Br(),r=typeof t=="string"?t:e||Ol,i=Ji(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=CT("firestore");o&&gA(i,...o)}return i}function vA(t){if(t._terminated)throw new F(R.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||XB(t),t._firestoreClient}function XB(t){var e,n,r;let i=t._freezeSettings(),o=function(c,u,l,h){return new wm(c,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,hA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new qy(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}}(t._componentsProvider))}var ya=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Qe.fromBase64String(e))}catch(n){throw new F(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var va=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var _a=class{constructor(e){this._methodName=e}};var Ia=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Y(this._lat,e._lat)||Y(this._long,e._long)}};var Ea=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var eU=/^__.*__$/,zy=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new kn(e,this.data,this.fieldMask,n,this.fieldTransforms):new ti(e,this.data,n,this.fieldTransforms)}};function _A(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw B(40011,{oc:t})}}var Gy=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return rd(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(_A(this.oc)&&eU.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}},Wy=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ld(e)}dc(e,n,r,i=!1){return new Gy({oc:e,methodName:n,Ec:r,path:vt.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Dv(t){let e=t._freezeSettings(),n=ld(t._databaseId);return new Wy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function IA(t,e,n,r,i,o={}){let s=t.dc(o.merge||o.mergeFields?2:0,e,n,i);DA("Data must be an object, but it was:",s,r);let c=EA(r,s),u,l;if(o.merge)u=new Xt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let y=nU(e,p,n);if(!s.contains(y))throw new F(R.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);iU(h,y)||h.push(y)}u=new Xt(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new zy(new Ot(c),u,l)}var Ky=class t extends _a{_toFieldTransform(e){return new Vm(e.path,new Jr)}isEqual(e){return e instanceof t}};function tU(t,e,n,r=!1){return Tv(n,t.dc(r?4:3,e))}function Tv(t,e){if(wA(t=Oe(t)))return DA("Unsupported field value:",e,t),EA(t,e);if(t instanceof _a)return function(r,i){if(!_A(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=Tv(c,i.Pc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Oe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Vj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=He.fromDate(r);return{timestampValue:$l(i.serializer,o)}}if(r instanceof He){let o=new He(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$l(i.serializer,o)}}if(r instanceof Ia)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ya)return{bytesValue:$0(i.serializer,r._byteString)};if(r instanceof _t){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:hv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ea)return function(s,c){return{mapValue:{fields:{[sv]:{stringValue:av},[mo]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw c.Tc("VectorValues must only contain numeric values.");return dv(c.serializer,l)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${fd(r)}`)}(t,e)}function EA(t,e){let n={};return f0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oi(t,(r,i)=>{let o=Tv(i,e.uc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function wA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof He||t instanceof Ia||t instanceof ya||t instanceof _t||t instanceof _a||t instanceof Ea)}function DA(t,e,n){if(!wA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=fd(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function nU(t,e,n){if((e=Oe(e))instanceof va)return e._internalPath;if(typeof e=="string")return TA(t,e);throw rd("Field path arguments must be of type string or ",t,!1,void 0,n)}var rU=new RegExp("[~\\*/\\[\\]]");function TA(t,e,n){if(e.search(rU)>=0)throw rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new va(...e.split("."))._internalPath}catch{throw rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rd(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new F(R.INVALID_ARGUMENT,c+t+u)}function iU(t,e){return t.some(n=>n.isEqual(e))}var id=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Qy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(bv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Qy=class extends id{data(){return super.data()}};function bv(t,e){return typeof e=="string"?TA(t,e):e instanceof va?e._internalPath:e._delegate._internalPath}function oU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var wa=class{},Yy=class extends wa{};function bA(t,e,...n){let r=[];e instanceof wa&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof Zy).length,c=o.filter(u=>u instanceof od).length;if(s>1||s>0&&c>0)throw new F(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var od=class t extends Yy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return AA(e._query,n),new Co(e.firestore,e.converter,Om(e._query,n))}_parse(e){let n=Dv(e.firestore);return function(o,s,c,u,l,h,p){let y;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new F(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){YC(p,h);let C=[];for(let N of p)C.push(QC(u,o,N));y={arrayValue:{values:C}}}else y=QC(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||YC(p,h),y=tU(c,s,p,h==="in"||h==="not-in");return Pe.create(l,h,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function CA(t,e,n){let r=e,i=bv("where",t);return od._create(i,r,n)}var Zy=class t extends wa{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Vt.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,c=o.getFlattenedFilters();for(let u of c)AA(s,u),s=Om(s,u)}(e._query,n),new Co(e.firestore,e.converter,Om(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function QC(t,e,n){if(typeof(n=Oe(n))=="string"){if(n==="")throw new F(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!S0(e)&&n.indexOf("/")!==-1)throw new F(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(De.fromString(n));if(!j.isDocumentKey(r))throw new F(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gC(t,new j(r))}if(n instanceof _t)return gC(t,n._key);throw new F(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fd(n)}.`)}function YC(t,e){if(!Array.isArray(t)||t.length===0)throw new F(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AA(t,e){let n=function(i,o){for(let s of i)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new F(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new F(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Jy=class{convertValue(e,n="none"){switch(sr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw B(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return oi(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[mo].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>_e(s.doubleValue));return new Ea(o)}convertGeoPoint(e){return new Ia(_e(e.latitude),_e(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=ad(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(la(e));default:return null}}convertTimestamp(e){let n=Rn(e);return new He(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=De.fromString(e);de(K0(r),9688,{name:e});let i=new Fl(r.get(1),r.get(3)),o=new j(r.popFirst(5));return i.isEqual(n)||Nn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function SA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var lo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Xy=class extends id{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new fo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(bv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},fo=class extends Xy{data(e={}){return super.data(e)}},ev=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new lo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new fo(this._firestore,this._userDataWriter,r.key,r,new lo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new fo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new lo(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new fo(i._firestore,i._userDataWriter,c.doc.key,c.doc,new lo(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),h=s.indexOf(c.doc.key)),{type:sU(c.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function sU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return B(61501,{type:t})}}var tv=class extends Jy{constructor(e){super(),this.firestore=e}convertBytes(e){return new ya(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}};function NA(t){t=ri(t,Co);let e=ri(t.firestore,ii),n=vA(e),r=new tv(e);return oU(t._query),ZB(n,t._query).then(i=>new ev(e,r,t,i))}function RA(t,e,n){t=ri(t,_t);let r=ri(t.firestore,ii),i=SA(t.converter,e,n);return Cv(r,[IA(Dv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Sn.none())])}function MA(t){return Cv(ri(t.firestore,ii),[new ha(t._key,Sn.none())])}function PA(t,e){let n=ri(t.firestore,ii),r=wv(t),i=SA(t.converter,e);return Cv(n,[IA(Dv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Sn.exists(!1))]).then(()=>r)}function Cv(t,e){return function(r,i){let o=new en;return r.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return jB(yield QB(r),i,o)})),o.promise}(vA(t),e)}function GW(){return new Ky("serverTimestamp")}(function(e,n=!0){(function(i){Ao=i})(Zn),xt(new nt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new ii(new gm(r.getProvider("auth-internal")),new vm(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new F(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),be(oC,sC,e),be(oC,sC,"esm2017")})();var ba=class{constructor(e){return e}},xA="firestore",Av=class{constructor(){return eo(xA)}};var Sv=new H("angularfire2.firestore-instances");function aU(t,e){let n=Hs(xA,t,e);return n&&new ba(n)}function cU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ba(r)}}var uU={provide:Av,deps:[[new pt,Sv]]},lU={provide:ba,useFactory:aU,deps:[[new pt,Sv],En]};function X7(t,...e){return be("angularfire",Jn.full,"fst"),Gn([lU,uU,{provide:Sv,useFactory:cU(t),multi:!0,deps:[Ee,$e,Xn,$r,[new pt,ta],[new pt,to],...e]}])}var eK=Ne(PA,!0,2);var tK=Ne(mA,!0,2);var nK=Ne(MA,!0,2);var rK=Ne(wv,!0,2);var iK=Ne(NA,!0);var oK=Ne(yA,!0);var sK=Ne(bA,!0,2);var aK=Ne(RA,!0,2);var cK=Ne(CA,!0,2);export{me as a,ve as b,_ as c,Se as d,PS as e,re as f,dh as g,hh as h,ht as i,ns as j,os as k,Lt as l,$S as m,HS as n,qS as o,yr as p,dn as q,JS as r,vr as s,mh as t,vc as u,eN as v,yh as w,_r as x,aI as y,tN as z,nN as A,ss as B,vh as C,iN as D,oN as E,_h as F,sN as G,aN as H,cN as I,uN as J,lN as K,dN as L,hN as M,fN as N,G as O,le as P,_s as Q,Z6 as R,H as S,X as T,Ue as U,L as V,Gn as W,BN as X,vE as Y,Bt as Z,xi as _,au as $,J6 as aa,X6 as ba,Vi as ca,nw as da,$e as ea,DI as fa,pu as ga,ws as ha,ft as ia,Ee as ja,Pr as ka,ez as la,zt as ma,tz as na,XR as oa,tM as pa,tp as qa,nz as ra,yu as sa,vu as ta,cM as ua,ps as va,Ds as wa,Ew as xa,rz as ya,iz as za,oz as Aa,sz as Ba,az as Ca,ww as Da,cz as Ea,ip as Fa,uz as Ga,lz as Ha,Qc as Ia,Zc as Ja,vn as Ka,Q as La,yz as Ma,Cu as Na,Sx as Oa,Nx as Pa,Ez as Qa,Cs as Ra,Ae as Sa,Gx as Ta,wz as Ua,As as Va,Dz as Wa,Zx as Xa,ms as Ya,Ep as Za,fk as _a,Au as $a,Tz as ab,TD as bb,bD as cb,bk as db,Sk as eb,Nk as fb,bz as gb,Kn as hb,Cz as ib,Az as jb,Sz as kb,Uk as lb,Nz as mb,qk as nb,AD as ob,zk as pb,Gk as qb,Rz as rb,Wk as sb,Mz as tb,Pz as ub,xz as vb,kz as wb,Oz as xb,Fz as yb,Vz as zb,Nu as Ab,Lz as Bb,Ru as Cb,jz as Db,Ss as Eb,Fr as Fb,g1 as Gb,bp as Hb,m1 as Ib,$i as Jb,BD as Kb,UD as Lb,I1 as Mb,N1 as Nb,KD as Ob,R1 as Pb,P1 as Qb,O1 as Rb,F1 as Sb,QD as Tb,V1 as Ub,L1 as Vb,Rp as Wb,bG as Xb,n5 as Yb,r5 as Zb,ea as _b,EW as $b,wW as ac,DW as bc,TW as cc,bW as dc,CW as ec,AW as fc,aT as gc,WG as hc,KG as ic,fO as jc,mO as kc,YG as lc,vO as mc,EO as nc,IT as oc,ZG as pc,JG as qc,SO as rc,XG as sc,GW as tc,ba as uc,X7 as vc,eK as wc,tK as xc,nK as yc,rK as zc,iK as Ac,oK as Bc,sK as Cc,aK as Dc,cK as Ec};
